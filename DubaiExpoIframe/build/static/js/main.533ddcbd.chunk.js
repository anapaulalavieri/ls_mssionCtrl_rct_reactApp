/*! For license information please see main.533ddcbd.chunk.js.LICENSE.txt */
(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{116:function(e,t,n){e.exports={dots:"Loader_dots__2fujf",dots_absolute:"Loader_dots_absolute__2hGxI",dot:"Loader_dot__1equ0",anim:"Loader_anim__26jb8",dots_notAnimated:"Loader_dots_notAnimated__1tStA"}},117:function(e,t,n){e.exports={wrapper:"SimpleBarChartLine_wrapper__3VfDX",item:"SimpleBarChartLine_item__1-wIz","item_status-danger":"SimpleBarChartLine_item_status-danger__sVQB1","item_status-warning":"SimpleBarChartLine_item_status-warning__3eRru","item_variant-two-lines":"SimpleBarChartLine_item_variant-two-lines__Xciv-",itemTitle:"SimpleBarChartLine_itemTitle__3itXd",itemChart:"SimpleBarChartLine_itemChart__27UUP",itemValue:"SimpleBarChartLine_itemValue__3ryPv"}},126:function(e,t,n){e.exports={wrapper:"styles_wrapper__1GpYZ",wrapper_loaded:"styles_wrapper_loaded__3kob3",canvas:"styles_canvas__Tx2AU",labelsWrapper:"styles_labelsWrapper__QE86s",loader:"styles_loader__2LDwW"}},127:function(e,t,n){e.exports={wrapper:"GlobeModel_wrapper__D3U4o",canvas:"GlobeModel_canvas__JhGtQ",callout:"GlobeModel_callout__1nhMx",lighting:"GlobeModel_lighting__uS6Vu",loader:"GlobeModel_loader__2qbP3",loaderLoaded:"GlobeModel_loaderLoaded__Q9HD1"}},128:function(e,t,n){e.exports={list:"List_list__2xb8A",list_horizontal:"List_list_horizontal__cFhDm",listItem:"List_listItem__3nYit",listItem_vertical:"List_listItem_vertical__2NjKO",listItemName:"List_listItemName__3GcqH",listItemValue:"List_listItemValue__3aAaZ"}},129:function(e,t,n){e.exports={header:"Header_header__3R89P",breadcrumbs:"Header_breadcrumbs__v4tfQ",menu:"Header_menu__2IU0x",navLink:"Header_navLink__2cWkp"}},162:function(e,t,n){e.exports={wrapper:"KPIChart_wrapper__3V-Gv",tooltip:"KPIChart_tooltip__1iXAa",tooltipTable:"KPIChart_tooltipTable__3BEbN",tooltipRectangle:"KPIChart_tooltipRectangle__1C6tw"}},196:function(e,t,n){e.exports={wrapper:"SimpleBarChart_wrapper__37h9d",bar:"SimpleBarChart_bar___jTSu","bar_status-danger":"SimpleBarChart_bar_status-danger__l-7w1","bar_status-warning":"SimpleBarChart_bar_status-warning__2VQ49"}},199:function(e,t,n){e.exports={wrapper:"CardPeriods_wrapper__83-zq",item:"CardPeriods_item__Ruh8h",item_active:"CardPeriods_item_active__Tqacp"}},224:function(e,t,n){e.exports={factoryPage:"FactoryPage_factoryPage__4I074",factoryModel:"FactoryPage_factoryModel__PsBuH"}},226:function(e){e.exports=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"name":"DC Seattle","style":"dc","coordinates":[-122.332,47.6062]},"geometry":{"type":"Point","coordinates":[-122.332,47.6062]}},{"type":"Feature","properties":{"name":"Plant Atlanta","style":"normal","coordinates":[-84.388,33.749]},"geometry":{"type":"Point","coordinates":[-84.388,33.749]}},{"type":"Feature","properties":{"name":"DC Rotterdam","style":"dc","coordinates":[3.47917,51.9225]},"geometry":{"type":"Point","coordinates":[3.47917,51.9225]}},{"type":"Feature","properties":{"name":"Plant Frankfurt","style":"normal","coordinates":[9.68417,50.1155]},"geometry":{"type":"Point","coordinates":[9.68417,50.1155]}},{"type":"Feature","properties":{"name":"Plant Beijing","style":"normal","coordinates":[116.397,39.9075]},"geometry":{"type":"Point","coordinates":[116.397,39.9075]}},{"type":"Feature","properties":{"name":"DC Hong Kong","style":"dc","coordinates":[114.15769,22.28552]},"geometry":{"type":"Point","coordinates":[114.15769,22.28552]}}]}')},227:function(e,t,n){e.exports={modelPage:"GlobePage_modelPage__2iVA7",model:"GlobePage_model__3wTXK"}},228:function(e,t,n){e.exports={loadingSkeleton:"LoadingSkeleton_loadingSkeleton__QY3SN",xsmall:"LoadingSkeleton_xsmall__2zHBB",medium:"LoadingSkeleton_medium__2Fgea",large:"LoadingSkeleton_large__3UnbF",loadingSkeletonKeyframe:"LoadingSkeleton_loadingSkeletonKeyframe__1eZza"}},231:function(e,t,n){e.exports={pin:"Pin_pin__2E23r","pin_type-1":"Pin_pin_type-1__3nPKn","pin_type-2":"Pin_pin_type-2__1PMyR","pin_type-3":"Pin_pin_type-3__3VATg"}},232:function(e,t,n){e.exports={factoryPage:"ModelFactoryPage_factoryPage__3pnm8",factoryModel:"ModelFactoryPage_factoryModel__hQIU2"}},233:function(e,t,n){e.exports={workshopPage:"WorkshopModelPage_workshopPage__2qUKr",workshopModel:"WorkshopModelPage_workshopModel__2aUgp"}},234:function(e,t,n){e.exports={workshopPage:"WarehouseModelPage_workshopPage__1aTzv",workshopModel:"WarehouseModelPage_workshopModel__3W4Fn"}},235:function(e,t,n){e.exports={workshopPage:"WorkshopPage_workshopPage__3zct_",workshopModel:"WorkshopPage_workshopModel__2JvRO"}},236:function(e,t,n){e.exports={wrapper:"CardLineSelect_wrapper__4urvt",select:"CardLineSelect_select__2HYHF"}},238:function(e,t,n){e.exports={wrapper:"RegionSelect_wrapper__WgBuj",select:"RegionSelect_select__lS1-m"}},293:function(e){e.exports=JSON.parse('{"countries":[{"id":0,"name":"NOCLICK"},{"id":1,"name":"AMERICAS"},{"id":122,"name":"EMEA"},{"id":255,"name":"APJ"}]}')},324:function(e){e.exports=JSON.parse('{"Plant Atlanta":{"kpi":[["Machining Area 5",95.6],["Machining Area 6",95.6],["Assembly Line 3",98.5],["Packaging Line 3",98.5]],"tablesData":{"Production Line":{"names":["Assembly Line 3","Machining Area 5","Machining Area 6","Packaging Line 3"],"tables":[{"name":"Line Utilization","data":[{"name":"DTD","values":[91.52,94.66,92.67,94.78]},{"name":"3DAY","values":[91.13,99.68,90.06,94.44]},{"name":"WTD","values":[90.54,97.83,95.07,97.7]},{"name":"MTD","values":[93.36,94.42,94.92,94.73]},{"name":"YTD","values":[91.41,90.9,99.32,99.61]}]},{"name":"Line Availability","data":[{"name":"DTD","values":[93.31,92.05,92.5,97.38]},{"name":"3DAY","values":[91.8,90.61,90.68,93.17]},{"name":"WTD","values":[91.29,98.66,97.85,95.37]},{"name":"MTD","values":[91.24,99.47,93.47,97.4]},{"name":"YTD","values":[92.8,97.49,97.63,99.82]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[95.62,95.44,96.91,97.91]},{"name":"3DAY","values":[92.74,90.65,97.9,93.56]},{"name":"WTD","values":[99.49,97.58,96.07,95.38]},{"name":"MTD","values":[94.3,91.26,95.82,95.54]},{"name":"YTD","values":[99,97.99,94.87,92.84]}]}]},"Assembly Line 3":{"names":["Machine 31"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[94.54]},{"name":"3DAY","values":[95.28]},{"name":"WTD","values":[98.56]},{"name":"MTD","values":[95.34]},{"name":"YTD","values":[96.94]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[92.69]},{"name":"3DAY","values":[97.09]},{"name":"WTD","values":[98.34]},{"name":"MTD","values":[91.76]},{"name":"YTD","values":[98.14]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[91.82]},{"name":"3DAY","values":[94.28]},{"name":"WTD","values":[93.5]},{"name":"MTD","values":[93.4]},{"name":"YTD","values":[98.07]}]}]},"Machining Area 5":{"names":["Machine 23","Machine 24","Machine 25"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[92.3,90.44,97.49]},{"name":"3DAY","values":[96.19,96.03,95.5]},{"name":"WTD","values":[99.42,95.48,96.95]},{"name":"MTD","values":[94.64,94.7,94.91]},{"name":"YTD","values":[91.08,92.08,97.11]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[92.77,93.39,97.48]},{"name":"3DAY","values":[90.58,96.47,91.2]},{"name":"WTD","values":[96.37,90.64,90.2]},{"name":"MTD","values":[92.38,96.04,96.64]},{"name":"YTD","values":[90.74,93.04,93.18]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[95.26,92.75,93.17]},{"name":"3DAY","values":[98.11,99.33,93.86]},{"name":"WTD","values":[94.45,99.96,94.59]},{"name":"MTD","values":[90.61,91.05,90.48]},{"name":"YTD","values":[90.09,90.27,98.13]}]}]},"Machining Area 6":{"names":["Machine 27","Machine 28","Machine 29"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[94.43,92.61,90.25]},{"name":"3DAY","values":[93.81,91.64,92.74]},{"name":"WTD","values":[91.71,91.47,99.6]},{"name":"MTD","values":[98.62,96.24,92.02]},{"name":"YTD","values":[97.22,91.17,91.69]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[91.12,96.96,91.09]},{"name":"3DAY","values":[90.53,91.26,98.73]},{"name":"WTD","values":[97.09,98.03,91.89]},{"name":"MTD","values":[99.85,98.92,94.48]},{"name":"YTD","values":[93.96,98.56,93.15]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[97.9,97.76,99.77]},{"name":"3DAY","values":[97.28,99.49,96.57]},{"name":"WTD","values":[90.87,90.54,96.91]},{"name":"MTD","values":[92.85,91.81,90.46]},{"name":"YTD","values":[92.92,96.39,93.9]}]}]},"Packaging Line 3":{"names":["Machine 33"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[93.72]},{"name":"3DAY","values":[98.24]},{"name":"WTD","values":[94.98]},{"name":"MTD","values":[97.19]},{"name":"YTD","values":[93.89]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[90.11]},{"name":"3DAY","values":[99.51]},{"name":"WTD","values":[92.98]},{"name":"MTD","values":[95.98]},{"name":"YTD","values":[99.74]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[93.89]},{"name":"3DAY","values":[90.48]},{"name":"WTD","values":[95.78]},{"name":"MTD","values":[95.36]},{"name":"YTD","values":[94.8]}]}]}},"chartsData":{"Production Line":{"names":["Assembly Line 3","Machining Area 5","Machining Area 6","Packaging Line 3"],"charts":{"DTD":[{"name":"Line Utilization","values":[{"name":"Mon","d1":98.03,"d2":88.59,"d3":74.67,"d4":72.74},{"name":"Tue","d1":72.4,"d2":78.59,"d3":87.13,"d4":85.44}]},{"name":"Line Availability","values":[{"name":"Mon","d1":78.19,"d2":88.85,"d3":86.43,"d4":82.72},{"name":"Tue","d1":72.33,"d2":87.27,"d3":95.28,"d4":95.55}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":99.85,"d2":81.69,"d3":79.24,"d4":70.6},{"name":"Tue","d1":94.89,"d2":87.7,"d3":84.39,"d4":76.28}]}],"3DAY":[{"name":"Line Utilization","values":[{"name":"Mon","d1":93.17,"d2":80.16,"d3":94.5,"d4":93.75},{"name":"Tue","d1":98.96,"d2":76.26,"d3":86.78,"d4":79.5},{"name":"Wed","d1":86.5,"d2":86.47,"d3":95.45,"d4":92.02}]},{"name":"Line Availability","values":[{"name":"Mon","d1":82.96,"d2":97.76,"d3":75.66,"d4":88.98},{"name":"Tue","d1":83.1,"d2":91.59,"d3":94.55,"d4":87.84},{"name":"Wed","d1":72.85,"d2":84.04,"d3":96,"d4":89.82}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":92.34,"d2":84.16,"d3":83.4,"d4":77.8},{"name":"Tue","d1":85.92,"d2":90.73,"d3":71.04,"d4":92.04},{"name":"Wed","d1":90.88,"d2":75.59,"d3":77.21,"d4":94.62}]}],"WTD":[{"name":"Line Utilization","values":[{"name":"Mon","d1":94.73,"d2":81.03,"d3":76.73,"d4":70.49},{"name":"Tue","d1":77.23,"d2":90.37,"d3":77.99,"d4":72.38},{"name":"Wed","d1":82.1,"d2":91.94,"d3":99.22,"d4":97.54},{"name":"Thu","d1":80.21,"d2":77.6,"d3":93.05,"d4":99.93},{"name":"Fri","d1":79.85,"d2":86.47,"d3":77.54,"d4":76.2},{"name":"Sat","d1":89.1,"d2":89.71,"d3":75.1,"d4":97.74},{"name":"Sun","d1":70.4,"d2":93.99,"d3":78.25,"d4":85.45}]},{"name":"Line Availability","values":[{"name":"Mon","d1":72.6,"d2":77.22,"d3":96.55,"d4":95.14},{"name":"Tue","d1":89.53,"d2":78.73,"d3":83.33,"d4":71.89},{"name":"Wed","d1":93.25,"d2":72.68,"d3":71.8,"d4":93.72},{"name":"Thu","d1":88.34,"d2":93.52,"d3":99.89,"d4":95.52},{"name":"Fri","d1":91.18,"d2":88.91,"d3":74.09,"d4":83.74},{"name":"Sat","d1":71.02,"d2":97.24,"d3":77.32,"d4":87.26},{"name":"Sun","d1":74.23,"d2":93.95,"d3":82.6,"d4":87.1}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":77.78,"d2":93.62,"d3":87,"d4":81.42},{"name":"Tue","d1":96.73,"d2":87.4,"d3":96.45,"d4":90.14},{"name":"Wed","d1":96.99,"d2":72.11,"d3":76.53,"d4":89.07},{"name":"Thu","d1":83.43,"d2":94.15,"d3":78.45,"d4":97.83},{"name":"Fri","d1":83.02,"d2":96.76,"d3":94.83,"d4":78.9},{"name":"Sat","d1":77.33,"d2":93.62,"d3":75.84,"d4":99.68},{"name":"Sun","d1":91.09,"d2":79.86,"d3":98.89,"d4":98.77}]}],"MTD":[{"name":"Line Utilization","values":[{"name":"Mon","d1":87.39,"d2":76.45,"d3":99.55,"d4":82.6},{"name":"Tue","d1":87.59,"d2":94.83,"d3":98.48,"d4":86.66},{"name":"Wed","d1":74.03,"d2":75.9,"d3":85.15,"d4":87.75},{"name":"Thu","d1":91.02,"d2":91.49,"d3":78.41,"d4":80.24},{"name":"Fri","d1":95.32,"d2":85.79,"d3":79.8,"d4":71.02},{"name":"Sat","d1":81.52,"d2":77.99,"d3":88.54,"d4":92.11},{"name":"Sun","d1":79.95,"d2":98.84,"d3":94.5,"d4":98.86},{"name":"Mon","d1":99.72,"d2":78.34,"d3":76.47,"d4":98.82},{"name":"Tue","d1":80.49,"d2":76.21,"d3":93.08,"d4":84.86},{"name":"Wed","d1":79.04,"d2":73.33,"d3":83.38,"d4":76.24}]},{"name":"Line Availability","values":[{"name":"Mon","d1":85.25,"d2":81.61,"d3":85.38,"d4":82.82},{"name":"Tue","d1":74.56,"d2":75.69,"d3":95.47,"d4":83.34},{"name":"Wed","d1":80.88,"d2":99.89,"d3":75.58,"d4":89.94},{"name":"Thu","d1":86.52,"d2":88.42,"d3":78.57,"d4":74.5},{"name":"Fri","d1":70.59,"d2":95.37,"d3":78.18,"d4":83.71},{"name":"Sat","d1":77.6,"d2":92.47,"d3":74.78,"d4":76},{"name":"Sun","d1":94.01,"d2":86.17,"d3":94.39,"d4":70.59},{"name":"Mon","d1":70.45,"d2":83.72,"d3":81.16,"d4":96.37},{"name":"Tue","d1":80.43,"d2":76.08,"d3":75.79,"d4":97.22},{"name":"Wed","d1":71.9,"d2":78.76,"d3":80.48,"d4":82.49}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":73.26,"d2":75.32,"d3":75.66,"d4":93.17},{"name":"Tue","d1":76.13,"d2":83.2,"d3":99.9,"d4":85.17},{"name":"Wed","d1":84.24,"d2":90.11,"d3":97.8,"d4":77.94},{"name":"Thu","d1":98.47,"d2":86.28,"d3":78.61,"d4":95.66},{"name":"Fri","d1":81.09,"d2":87.49,"d3":79.11,"d4":84.05},{"name":"Sat","d1":95.97,"d2":72.35,"d3":99.44,"d4":87},{"name":"Sun","d1":79,"d2":95.5,"d3":71.28,"d4":91.14},{"name":"Mon","d1":94.66,"d2":88.86,"d3":90.54,"d4":85.67},{"name":"Tue","d1":84.92,"d2":88.78,"d3":81.54,"d4":73.76},{"name":"Wed","d1":82.56,"d2":72.55,"d3":91.75,"d4":75.46}]}],"YTD":[{"name":"Line Utilization","values":[{"name":"Jan","d1":86.82,"d2":78.38,"d3":88.41,"d4":99.56},{"name":"Feb","d1":79.3,"d2":89.78,"d3":88.18,"d4":83},{"name":"Mar","d1":91.51,"d2":81.8,"d3":88.02,"d4":76.19},{"name":"Apr","d1":89.88,"d2":97.13,"d3":72.59,"d4":73.28},{"name":"May","d1":76.02,"d2":90.65,"d3":99.76,"d4":93.77},{"name":"Jun","d1":77.33,"d2":96.92,"d3":90.36,"d4":70.47},{"name":"Jul","d1":75.51,"d2":84.08,"d3":87.05,"d4":86.52},{"name":"Aug","d1":71.39,"d2":74.53,"d3":83.9,"d4":72.4},{"name":"Sep","d1":71.98,"d2":77.92,"d3":92.94,"d4":99.18},{"name":"Oct","d1":71.61,"d2":95.91,"d3":85.63,"d4":98.22},{"name":"Nov","d1":96.4,"d2":80.84,"d3":79.05,"d4":96.39},{"name":"Dec","d1":94.8,"d2":92.69,"d3":76.84,"d4":75.15}]},{"name":"Line Availability","values":[{"name":"Jan","d1":90.51,"d2":77,"d3":87.7,"d4":89.53},{"name":"Feb","d1":72.61,"d2":72.36,"d3":88.63,"d4":83.62},{"name":"Mar","d1":95.64,"d2":85.36,"d3":80.28,"d4":85.13},{"name":"Apr","d1":75.81,"d2":92.56,"d3":93.1,"d4":77.5},{"name":"May","d1":83.14,"d2":88.05,"d3":97.4,"d4":97.72},{"name":"Jun","d1":71.31,"d2":92.91,"d3":72.64,"d4":95.23},{"name":"Jul","d1":71.29,"d2":93.15,"d3":93.48,"d4":87.78},{"name":"Aug","d1":88.12,"d2":82.83,"d3":77.96,"d4":95.8},{"name":"Sep","d1":99.2,"d2":76.02,"d3":96.61,"d4":81.13},{"name":"Oct","d1":87.7,"d2":82.48,"d3":77.47,"d4":71.57},{"name":"Nov","d1":72.58,"d2":94.12,"d3":81.02,"d4":88.53},{"name":"Dec","d1":74.7,"d2":86.34,"d3":70.52,"d4":99.28}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":97.83,"d2":78.97,"d3":85.14,"d4":71.58},{"name":"Feb","d1":79.62,"d2":80.69,"d3":90.46,"d4":97.36},{"name":"Mar","d1":74.93,"d2":73.73,"d3":71.19,"d4":76.57},{"name":"Apr","d1":89.85,"d2":95.3,"d3":89.92,"d4":84.42},{"name":"May","d1":71.26,"d2":73.32,"d3":87.71,"d4":80.81},{"name":"Jun","d1":75.15,"d2":71.37,"d3":89.05,"d4":95.25},{"name":"Jul","d1":98.35,"d2":85.22,"d3":83.19,"d4":73.37},{"name":"Aug","d1":98.74,"d2":78.41,"d3":87.08,"d4":78.51},{"name":"Sep","d1":75.6,"d2":92.66,"d3":92.98,"d4":95.57},{"name":"Oct","d1":98.61,"d2":72.37,"d3":81.25,"d4":90.8},{"name":"Nov","d1":71.71,"d2":72.33,"d3":78.67,"d4":88.94},{"name":"Dec","d1":72.53,"d2":70.86,"d3":84.05,"d4":98.36}]}]}},"Assembly Line 3":{"names":["Machine 31"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":74.19},{"name":"Tue","d1":91.2}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":82.9},{"name":"Tue","d1":95.76}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":95.3},{"name":"Tue","d1":73.93}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":82.71},{"name":"Tue","d1":83.59},{"name":"Wed","d1":90.79}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":80.8},{"name":"Tue","d1":80.12},{"name":"Wed","d1":96.87}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":99.14},{"name":"Tue","d1":71.49},{"name":"Wed","d1":81.21}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":76.4},{"name":"Tue","d1":87.46},{"name":"Wed","d1":97.23},{"name":"Thu","d1":84.18},{"name":"Fri","d1":84.76},{"name":"Sat","d1":94.96},{"name":"Sun","d1":73.18}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":95.75},{"name":"Tue","d1":88.44},{"name":"Wed","d1":89.45},{"name":"Thu","d1":91.64},{"name":"Fri","d1":76.35},{"name":"Sat","d1":99.96},{"name":"Sun","d1":76.31}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":99.68},{"name":"Tue","d1":99.41},{"name":"Wed","d1":85.12},{"name":"Thu","d1":90.21},{"name":"Fri","d1":78.12},{"name":"Sat","d1":95.39},{"name":"Sun","d1":73.45}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":88.05},{"name":"Tue","d1":80.96},{"name":"Wed","d1":98.18},{"name":"Thu","d1":75.74},{"name":"Fri","d1":96.27},{"name":"Sat","d1":98.66},{"name":"Sun","d1":78.14},{"name":"Mon","d1":79.71},{"name":"Tue","d1":77.78},{"name":"Wed","d1":73.81}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":89.62},{"name":"Tue","d1":74.2},{"name":"Wed","d1":74.6},{"name":"Thu","d1":83.74},{"name":"Fri","d1":71.82},{"name":"Sat","d1":83.57},{"name":"Sun","d1":81.13},{"name":"Mon","d1":89.16},{"name":"Tue","d1":85.17},{"name":"Wed","d1":97.76}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":75.58},{"name":"Tue","d1":82.31},{"name":"Wed","d1":73.76},{"name":"Thu","d1":97.79},{"name":"Fri","d1":96.04},{"name":"Sat","d1":97.89},{"name":"Sun","d1":82.65},{"name":"Mon","d1":98.59},{"name":"Tue","d1":99.81},{"name":"Wed","d1":77.99}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":94.36},{"name":"Feb","d1":71.28},{"name":"Mar","d1":74.91},{"name":"Apr","d1":92.56},{"name":"May","d1":91.22},{"name":"Jun","d1":70.02},{"name":"Jul","d1":94.31},{"name":"Aug","d1":96.13},{"name":"Sep","d1":92.81},{"name":"Oct","d1":71.49},{"name":"Nov","d1":91.62},{"name":"Dec","d1":98.49}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":78.03},{"name":"Feb","d1":89.45},{"name":"Mar","d1":75.84},{"name":"Apr","d1":70.88},{"name":"May","d1":74.07},{"name":"Jun","d1":94.89},{"name":"Jul","d1":88.05},{"name":"Aug","d1":99.11},{"name":"Sep","d1":70.02},{"name":"Oct","d1":76.11},{"name":"Nov","d1":89.42},{"name":"Dec","d1":92.77}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":96.98},{"name":"Feb","d1":84.39},{"name":"Mar","d1":91.89},{"name":"Apr","d1":71.06},{"name":"May","d1":73.43},{"name":"Jun","d1":75.53},{"name":"Jul","d1":94.07},{"name":"Aug","d1":77.93},{"name":"Sep","d1":73.63},{"name":"Oct","d1":73.51},{"name":"Nov","d1":97.97},{"name":"Dec","d1":74.89}]}]}},"Machining Area 5":{"names":["Machine 23","Machine 24","Machine 25"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":86.55,"d2":93.84,"d3":87.11},{"name":"Tue","d1":78.89,"d2":99.17,"d3":93.8}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":90.56,"d2":91.75,"d3":91.11},{"name":"Tue","d1":78.36,"d2":94.71,"d3":98.66}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":75.73,"d2":86.57,"d3":77.47},{"name":"Tue","d1":78.55,"d2":71.37,"d3":87.89}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":73.46,"d2":74.19,"d3":79.86},{"name":"Tue","d1":75.95,"d2":95.91,"d3":80.9},{"name":"Wed","d1":85.16,"d2":79.82,"d3":99.53}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":78.59,"d2":95.75,"d3":99.06},{"name":"Tue","d1":92.17,"d2":82.81,"d3":80},{"name":"Wed","d1":75.64,"d2":85.04,"d3":89.35}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":99.46,"d2":79.84,"d3":95.65},{"name":"Tue","d1":90.71,"d2":96.35,"d3":74.7},{"name":"Wed","d1":92.03,"d2":74.19,"d3":99.7}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":72.04,"d2":74.12,"d3":73.61},{"name":"Tue","d1":95.7,"d2":72.7,"d3":72.2},{"name":"Wed","d1":84.37,"d2":99.4,"d3":86.94},{"name":"Thu","d1":93.16,"d2":93.98,"d3":93.13},{"name":"Fri","d1":99.88,"d2":92.09,"d3":94.82},{"name":"Sat","d1":96.67,"d2":77.62,"d3":95.18},{"name":"Sun","d1":91.94,"d2":86.12,"d3":78.85}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":98.4,"d2":74.99,"d3":97.91},{"name":"Tue","d1":70.96,"d2":98.32,"d3":97.43},{"name":"Wed","d1":83.52,"d2":71.83,"d3":86.23},{"name":"Thu","d1":86.66,"d2":89.41,"d3":78.6},{"name":"Fri","d1":92.84,"d2":92.99,"d3":94.76},{"name":"Sat","d1":86.39,"d2":90.53,"d3":95.87},{"name":"Sun","d1":72.13,"d2":89.65,"d3":80.71}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":88.16,"d2":89.82,"d3":79.48},{"name":"Tue","d1":73.01,"d2":99.21,"d3":87.72},{"name":"Wed","d1":73.91,"d2":84.06,"d3":88.23},{"name":"Thu","d1":92.38,"d2":75.39,"d3":86.98},{"name":"Fri","d1":90.38,"d2":92.41,"d3":75.1},{"name":"Sat","d1":76.08,"d2":99.28,"d3":81.49},{"name":"Sun","d1":76.55,"d2":87.1,"d3":83.53}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":95.95,"d2":90.51,"d3":96.3},{"name":"Tue","d1":84.13,"d2":78.29,"d3":95.11},{"name":"Wed","d1":83.65,"d2":94.14,"d3":72.39},{"name":"Thu","d1":87.74,"d2":84.88,"d3":93.04},{"name":"Fri","d1":86.91,"d2":85.91,"d3":89.15},{"name":"Sat","d1":73.38,"d2":77.4,"d3":88.07},{"name":"Sun","d1":79.54,"d2":87.25,"d3":76.51},{"name":"Mon","d1":85.91,"d2":85.81,"d3":96.47},{"name":"Tue","d1":86.83,"d2":93.93,"d3":95.12},{"name":"Wed","d1":74.36,"d2":77.32,"d3":93.27}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":85.03,"d2":95.39,"d3":94.87},{"name":"Tue","d1":92.73,"d2":74.96,"d3":82.57},{"name":"Wed","d1":90.65,"d2":88.91,"d3":76.44},{"name":"Thu","d1":74.14,"d2":83.25,"d3":88.01},{"name":"Fri","d1":70.84,"d2":72.88,"d3":86.26},{"name":"Sat","d1":81.17,"d2":82.98,"d3":81.62},{"name":"Sun","d1":86.5,"d2":70.45,"d3":97.45},{"name":"Mon","d1":90.68,"d2":75.58,"d3":83.7},{"name":"Tue","d1":79.38,"d2":97.48,"d3":95.3},{"name":"Wed","d1":96.43,"d2":76.44,"d3":88.89}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":90.48,"d2":79.96,"d3":91.31},{"name":"Tue","d1":91.32,"d2":96.58,"d3":78.13},{"name":"Wed","d1":93.33,"d2":77.13,"d3":95.11},{"name":"Thu","d1":91.45,"d2":97.85,"d3":99.26},{"name":"Fri","d1":97.02,"d2":87.77,"d3":85},{"name":"Sat","d1":80.75,"d2":80.59,"d3":98.31},{"name":"Sun","d1":92.76,"d2":86.44,"d3":89.01},{"name":"Mon","d1":74.17,"d2":79.04,"d3":79.23},{"name":"Tue","d1":78.63,"d2":79.98,"d3":70.89},{"name":"Wed","d1":91.01,"d2":96.02,"d3":98.7}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":88.08,"d2":94.37,"d3":88.76},{"name":"Feb","d1":72.91,"d2":88.64,"d3":75},{"name":"Mar","d1":99.65,"d2":89,"d3":87.25},{"name":"Apr","d1":84.65,"d2":93.02,"d3":83.46},{"name":"May","d1":90.84,"d2":83.52,"d3":90.01},{"name":"Jun","d1":80.42,"d2":84.7,"d3":77.26},{"name":"Jul","d1":75.31,"d2":98.82,"d3":88.05},{"name":"Aug","d1":73.45,"d2":71.51,"d3":73.99},{"name":"Sep","d1":84.72,"d2":76.77,"d3":70.4},{"name":"Oct","d1":74.61,"d2":90.18,"d3":99.97},{"name":"Nov","d1":78.55,"d2":94.43,"d3":77.54},{"name":"Dec","d1":88.88,"d2":94.25,"d3":89.63}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":86.43,"d2":96.44,"d3":91.37},{"name":"Feb","d1":98.93,"d2":98.21,"d3":77.33},{"name":"Mar","d1":76.2,"d2":91.91,"d3":84.86},{"name":"Apr","d1":75.89,"d2":86.27,"d3":84.47},{"name":"May","d1":95.67,"d2":76.33,"d3":73.03},{"name":"Jun","d1":70.26,"d2":99.62,"d3":75.67},{"name":"Jul","d1":72.94,"d2":73.31,"d3":99.66},{"name":"Aug","d1":81.09,"d2":84.98,"d3":76.16},{"name":"Sep","d1":70.08,"d2":79.7,"d3":82.72},{"name":"Oct","d1":88.54,"d2":94.41,"d3":84.85},{"name":"Nov","d1":71.94,"d2":86.66,"d3":90.85},{"name":"Dec","d1":85.98,"d2":82.26,"d3":97.63}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":73.25,"d2":97.81,"d3":93.06},{"name":"Feb","d1":94.73,"d2":82.95,"d3":73},{"name":"Mar","d1":91.09,"d2":71.49,"d3":93.59},{"name":"Apr","d1":97.83,"d2":77.78,"d3":75.94},{"name":"May","d1":95.83,"d2":94.81,"d3":94.12},{"name":"Jun","d1":91.22,"d2":89.88,"d3":70.49},{"name":"Jul","d1":82.63,"d2":92.74,"d3":88.13},{"name":"Aug","d1":88.5,"d2":95.16,"d3":86.21},{"name":"Sep","d1":80.14,"d2":80.76,"d3":97.7},{"name":"Oct","d1":78.7,"d2":89.25,"d3":79.01},{"name":"Nov","d1":75.56,"d2":88.86,"d3":98.18},{"name":"Dec","d1":82.47,"d2":77.53,"d3":81.42}]}]}},"Machining Area 6":{"names":["Machine 27","Machine 28","Machine 29"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":91.12,"d2":87.02,"d3":82.27},{"name":"Tue","d1":75.45,"d2":70.67,"d3":95.56}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":70.06,"d2":75.13,"d3":83.92},{"name":"Tue","d1":87.21,"d2":84.29,"d3":97.25}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":76.77,"d2":95.06,"d3":78.3},{"name":"Tue","d1":79.93,"d2":95.33,"d3":70.13}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":85.16,"d2":73.7,"d3":95.48},{"name":"Tue","d1":90.13,"d2":73.44,"d3":77.23},{"name":"Wed","d1":94.08,"d2":78.58,"d3":80.44}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":77.05,"d2":85.77,"d3":79.75},{"name":"Tue","d1":98.74,"d2":84.34,"d3":95.09},{"name":"Wed","d1":88.28,"d2":88.95,"d3":99.21}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":73.27,"d2":80.2,"d3":74.26},{"name":"Tue","d1":98.94,"d2":80.65,"d3":78.54},{"name":"Wed","d1":88.57,"d2":75.14,"d3":72.19}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":95.63,"d2":91.38,"d3":76.96},{"name":"Tue","d1":88.17,"d2":90.11,"d3":82.32},{"name":"Wed","d1":98.08,"d2":77.77,"d3":83.53},{"name":"Thu","d1":93.29,"d2":84.24,"d3":76.25},{"name":"Fri","d1":88.39,"d2":77.93,"d3":79.92},{"name":"Sat","d1":86.48,"d2":93.95,"d3":72.37},{"name":"Sun","d1":95.89,"d2":70.79,"d3":83.3}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":74.38,"d2":74.45,"d3":94.14},{"name":"Tue","d1":87.29,"d2":84.31,"d3":80.37},{"name":"Wed","d1":85.51,"d2":97.21,"d3":97.75},{"name":"Thu","d1":71.94,"d2":92.07,"d3":80.88},{"name":"Fri","d1":85.58,"d2":96.9,"d3":93.88},{"name":"Sat","d1":81.18,"d2":79.29,"d3":78.78},{"name":"Sun","d1":84.04,"d2":84.11,"d3":86.76}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":98.36,"d2":74.33,"d3":76.86},{"name":"Tue","d1":72.44,"d2":70.14,"d3":77.1},{"name":"Wed","d1":75.21,"d2":96.55,"d3":90.89},{"name":"Thu","d1":88.17,"d2":72.43,"d3":78.98},{"name":"Fri","d1":74.72,"d2":85.04,"d3":90.73},{"name":"Sat","d1":76.39,"d2":95.16,"d3":85.42},{"name":"Sun","d1":77.93,"d2":79.57,"d3":79.68}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":71.15,"d2":73.46,"d3":74.84},{"name":"Tue","d1":93,"d2":83.35,"d3":97.11},{"name":"Wed","d1":88.06,"d2":73.73,"d3":96.65},{"name":"Thu","d1":96.92,"d2":93.76,"d3":83.69},{"name":"Fri","d1":98.3,"d2":95.86,"d3":88.6},{"name":"Sat","d1":95.56,"d2":72.66,"d3":82.36},{"name":"Sun","d1":82.72,"d2":80.7,"d3":77.01},{"name":"Mon","d1":70.55,"d2":75.9,"d3":76.86},{"name":"Tue","d1":94.25,"d2":72.88,"d3":74.92},{"name":"Wed","d1":89.43,"d2":86.78,"d3":73.29}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":97.52,"d2":74.56,"d3":76.32},{"name":"Tue","d1":78.94,"d2":77.41,"d3":94.72},{"name":"Wed","d1":80.55,"d2":71.85,"d3":83.24},{"name":"Thu","d1":86.44,"d2":81.17,"d3":86.21},{"name":"Fri","d1":85.19,"d2":83.99,"d3":76.73},{"name":"Sat","d1":73.68,"d2":85.75,"d3":76.16},{"name":"Sun","d1":83.19,"d2":98.86,"d3":84.54},{"name":"Mon","d1":94.15,"d2":96.26,"d3":93.56},{"name":"Tue","d1":96.32,"d2":84.48,"d3":83.23},{"name":"Wed","d1":73.46,"d2":77.97,"d3":80.2}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":79.52,"d2":75.82,"d3":90.98},{"name":"Tue","d1":93.73,"d2":85.36,"d3":76.56},{"name":"Wed","d1":72.97,"d2":90.38,"d3":77.43},{"name":"Thu","d1":91.56,"d2":78.63,"d3":75.18},{"name":"Fri","d1":70.6,"d2":97.34,"d3":99.39},{"name":"Sat","d1":86.87,"d2":84.71,"d3":74.11},{"name":"Sun","d1":82.69,"d2":97.07,"d3":85.71},{"name":"Mon","d1":81.47,"d2":90.82,"d3":92.71},{"name":"Tue","d1":77.99,"d2":95.94,"d3":96.93},{"name":"Wed","d1":78.33,"d2":87.06,"d3":98.91}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":93.59,"d2":75.46,"d3":86.1},{"name":"Feb","d1":96.48,"d2":94.93,"d3":75.71},{"name":"Mar","d1":73.49,"d2":75.24,"d3":94.16},{"name":"Apr","d1":73.84,"d2":98.32,"d3":99.29},{"name":"May","d1":75.21,"d2":82.66,"d3":83.42},{"name":"Jun","d1":91.34,"d2":91.81,"d3":78.35},{"name":"Jul","d1":70.01,"d2":91.13,"d3":91.52},{"name":"Aug","d1":71.41,"d2":73.11,"d3":94.71},{"name":"Sep","d1":75.37,"d2":82.59,"d3":72.8},{"name":"Oct","d1":75.53,"d2":75.23,"d3":77.8},{"name":"Nov","d1":87.62,"d2":76.77,"d3":90.86},{"name":"Dec","d1":84.44,"d2":70.25,"d3":82.63}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":97.5,"d2":72.6,"d3":90.87},{"name":"Feb","d1":74.39,"d2":96.03,"d3":71.16},{"name":"Mar","d1":91.17,"d2":98.74,"d3":76.59},{"name":"Apr","d1":82.69,"d2":85.21,"d3":94.63},{"name":"May","d1":94.75,"d2":93.12,"d3":95.81},{"name":"Jun","d1":94.92,"d2":94.52,"d3":98.97},{"name":"Jul","d1":81.5,"d2":98.89,"d3":90.09},{"name":"Aug","d1":89.51,"d2":92.51,"d3":94.77},{"name":"Sep","d1":74.59,"d2":93.01,"d3":70.12},{"name":"Oct","d1":83.53,"d2":81.6,"d3":78.85},{"name":"Nov","d1":83.86,"d2":97.9,"d3":88.79},{"name":"Dec","d1":80.33,"d2":74.41,"d3":81.83}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":77.95,"d2":73.19,"d3":99.42},{"name":"Feb","d1":87.34,"d2":79.91,"d3":98.86},{"name":"Mar","d1":86.71,"d2":72.98,"d3":78.51},{"name":"Apr","d1":77.82,"d2":90.4,"d3":99.04},{"name":"May","d1":76.36,"d2":73.89,"d3":85.56},{"name":"Jun","d1":86.5,"d2":84.58,"d3":91.9},{"name":"Jul","d1":73.14,"d2":86.81,"d3":96.78},{"name":"Aug","d1":81.57,"d2":74.24,"d3":95.24},{"name":"Sep","d1":92.05,"d2":89.37,"d3":86.13},{"name":"Oct","d1":97.76,"d2":92.71,"d3":77.3},{"name":"Nov","d1":74.34,"d2":79.18,"d3":92.18},{"name":"Dec","d1":89.58,"d2":81.16,"d3":94.98}]}]}},"Packaging Line 3":{"names":["Machine 33"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":77.03},{"name":"Tue","d1":97.7}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":82.38},{"name":"Tue","d1":74.67}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":87.98},{"name":"Tue","d1":81.9}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":92.86},{"name":"Tue","d1":81.01},{"name":"Wed","d1":79.79}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":72.98},{"name":"Tue","d1":93.71},{"name":"Wed","d1":97.82}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":86.22},{"name":"Tue","d1":79.67},{"name":"Wed","d1":99.9}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":79.41},{"name":"Tue","d1":83.97},{"name":"Wed","d1":71.65},{"name":"Thu","d1":97.14},{"name":"Fri","d1":70.45},{"name":"Sat","d1":88},{"name":"Sun","d1":89.06}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":87.13},{"name":"Tue","d1":81.38},{"name":"Wed","d1":89.69},{"name":"Thu","d1":73},{"name":"Fri","d1":73.54},{"name":"Sat","d1":97.2},{"name":"Sun","d1":82.44}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":75.48},{"name":"Tue","d1":86.53},{"name":"Wed","d1":81.68},{"name":"Thu","d1":81.24},{"name":"Fri","d1":78.79},{"name":"Sat","d1":78.69},{"name":"Sun","d1":97.13}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":79.34},{"name":"Tue","d1":94.79},{"name":"Wed","d1":88.72},{"name":"Thu","d1":73.8},{"name":"Fri","d1":81.49},{"name":"Sat","d1":81.29},{"name":"Sun","d1":88.36},{"name":"Mon","d1":94.23},{"name":"Tue","d1":76.01},{"name":"Wed","d1":75.47}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":76},{"name":"Tue","d1":73.94},{"name":"Wed","d1":72.22},{"name":"Thu","d1":79.72},{"name":"Fri","d1":84.3},{"name":"Sat","d1":99.79},{"name":"Sun","d1":90.3},{"name":"Mon","d1":82.13},{"name":"Tue","d1":94.79},{"name":"Wed","d1":88.39}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":93.99},{"name":"Tue","d1":75.26},{"name":"Wed","d1":95.39},{"name":"Thu","d1":99.68},{"name":"Fri","d1":77.47},{"name":"Sat","d1":73.1},{"name":"Sun","d1":75.12},{"name":"Mon","d1":87.85},{"name":"Tue","d1":96.62},{"name":"Wed","d1":87.19}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":86.09},{"name":"Feb","d1":92.09},{"name":"Mar","d1":83.86},{"name":"Apr","d1":79.16},{"name":"May","d1":78.55},{"name":"Jun","d1":81.62},{"name":"Jul","d1":93.53},{"name":"Aug","d1":86.07},{"name":"Sep","d1":96.12},{"name":"Oct","d1":76.69},{"name":"Nov","d1":94.38},{"name":"Dec","d1":98.51}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":78.01},{"name":"Feb","d1":98.12},{"name":"Mar","d1":88.78},{"name":"Apr","d1":85.53},{"name":"May","d1":93.18},{"name":"Jun","d1":83.81},{"name":"Jul","d1":74},{"name":"Aug","d1":90.5},{"name":"Sep","d1":73.09},{"name":"Oct","d1":81.45},{"name":"Nov","d1":93.58},{"name":"Dec","d1":77.75}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":75.53},{"name":"Feb","d1":80.92},{"name":"Mar","d1":84.75},{"name":"Apr","d1":78.83},{"name":"May","d1":83.29},{"name":"Jun","d1":79.13},{"name":"Jul","d1":89.28},{"name":"Aug","d1":96.63},{"name":"Sep","d1":72.24},{"name":"Oct","d1":74.89},{"name":"Nov","d1":99.59},{"name":"Dec","d1":93.05}]}]}}}},"Plant Beijing":{"kpi":[["Machining Area 3",95.6],["Machining Area 4",95.5],["Assembly Line 2",98.5],["Packaging Line 2",98.5]],"tablesData":{"Production Line":{"names":["Assembly Line 2","Machining Area 3","Machining Area 4","Packaging Line 2"],"tables":[{"name":"Line Utilization","data":[{"name":"DTD","values":[97.07,97.06,91.09,97.06]},{"name":"3DAY","values":[91.94,92.73,96.68,97.48]},{"name":"WTD","values":[95.57,95.62,97.43,97.35]},{"name":"MTD","values":[97.13,98.2,99.62,93.31]},{"name":"YTD","values":[92.69,95.44,91.92,94.74]}]},{"name":"Line Availability","data":[{"name":"DTD","values":[95.42,97.34,96.55,90.59]},{"name":"3DAY","values":[98.06,98.99,96.77,91.37]},{"name":"WTD","values":[94.5,95.99,96.41,97.32]},{"name":"MTD","values":[94.89,98.88,98.21,95.63]},{"name":"YTD","values":[91.05,92.09,95.71,94.3]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[93.29,91.3,92.19,90.92]},{"name":"3DAY","values":[95.72,93.83,98.56,98.52]},{"name":"WTD","values":[97.59,93.1,94.22,90.76]},{"name":"MTD","values":[95.95,97.78,91.55,99.05]},{"name":"YTD","values":[99.6,98.77,92.78,91.32]}]}]},"Assembly Line 2":{"names":["Machine 20"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[91.04]},{"name":"3DAY","values":[98.9]},{"name":"WTD","values":[95.08]},{"name":"MTD","values":[93.84]},{"name":"YTD","values":[95.85]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[90.95]},{"name":"3DAY","values":[91.4]},{"name":"WTD","values":[98.22]},{"name":"MTD","values":[99.66]},{"name":"YTD","values":[99.59]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[99.29]},{"name":"3DAY","values":[98.37]},{"name":"WTD","values":[96.95]},{"name":"MTD","values":[97.11]},{"name":"YTD","values":[93.79]}]}]},"Machining Area 3":{"names":["Machine 12","Machine 13","Machine 14"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[95.07,95.48,95.79]},{"name":"3DAY","values":[92.6,92.05,96.43]},{"name":"WTD","values":[92.76,99.33,91.76]},{"name":"MTD","values":[92.89,97.36,99.03]},{"name":"YTD","values":[96.43,96.9,97.59]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[98.17,96.69,96.82]},{"name":"3DAY","values":[93.14,96.22,92.45]},{"name":"WTD","values":[96.04,99,92.04]},{"name":"MTD","values":[90.93,91.8,92.49]},{"name":"YTD","values":[95.23,94.31,98.84]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[98.33,91.59,98.9]},{"name":"3DAY","values":[98.53,97.86,90.27]},{"name":"WTD","values":[91.48,91.27,94.24]},{"name":"MTD","values":[91.02,92.73,92.04]},{"name":"YTD","values":[90.76,96.4,98.5]}]}]},"Machining Area 4":{"names":["Machine 16","Machine 17","Machine 18"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[97.7,91.53,95.32]},{"name":"3DAY","values":[95.08,95.92,90.73]},{"name":"WTD","values":[97.56,94.99,98.89]},{"name":"MTD","values":[93.06,96.42,99.77]},{"name":"YTD","values":[91.43,91.84,98.64]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[99.64,92.17,92.5]},{"name":"3DAY","values":[93.82,97.01,96.85]},{"name":"WTD","values":[95.72,97.24,92.07]},{"name":"MTD","values":[94.72,95.8,95.94]},{"name":"YTD","values":[97.51,91.88,97.59]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[98.18,96.21,94.43]},{"name":"3DAY","values":[90.11,91.69,98.67]},{"name":"WTD","values":[90.83,95.84,91.68]},{"name":"MTD","values":[98.76,93.58,94.99]},{"name":"YTD","values":[94.63,96.5,99.33]}]}]},"Packaging Line 2":{"names":["Machine 22"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[99.02]},{"name":"3DAY","values":[96.84]},{"name":"WTD","values":[94.6]},{"name":"MTD","values":[96.25]},{"name":"YTD","values":[98.82]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[99.85]},{"name":"3DAY","values":[95.1]},{"name":"WTD","values":[99.79]},{"name":"MTD","values":[91.5]},{"name":"YTD","values":[91.47]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[94.38]},{"name":"3DAY","values":[98.12]},{"name":"WTD","values":[93.14]},{"name":"MTD","values":[95.08]},{"name":"YTD","values":[98.33]}]}]}},"chartsData":{"Production Line":{"names":["Assembly Line 2","Machining Area 3","Machining Area 4","Packaging Line 2"],"charts":{"DTD":[{"name":"Line Utilization","values":[{"name":"Mon","d1":72.7,"d2":84.34,"d3":93.21,"d4":70.6},{"name":"Tue","d1":81.8,"d2":97.63,"d3":96.02,"d4":79.8}]},{"name":"Line Availability","values":[{"name":"Mon","d1":71.15,"d2":89.47,"d3":93.29,"d4":92.08},{"name":"Tue","d1":73.9,"d2":82.74,"d3":89.48,"d4":88.1}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":88.5,"d2":85.93,"d3":70.98,"d4":91.33},{"name":"Tue","d1":75.41,"d2":94.89,"d3":91.16,"d4":79.49}]}],"3DAY":[{"name":"Line Utilization","values":[{"name":"Mon","d1":74.05,"d2":78.73,"d3":74.78,"d4":74.51},{"name":"Tue","d1":97.67,"d2":88.3,"d3":91.51,"d4":81.38},{"name":"Wed","d1":75.62,"d2":76.83,"d3":73.11,"d4":90.5}]},{"name":"Line Availability","values":[{"name":"Mon","d1":76.88,"d2":99.09,"d3":77.45,"d4":99.17},{"name":"Tue","d1":79.06,"d2":89.16,"d3":90.78,"d4":76.32},{"name":"Wed","d1":96.04,"d2":86.83,"d3":71.97,"d4":92.34}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":82.01,"d2":83.83,"d3":72.66,"d4":84.83},{"name":"Tue","d1":71.86,"d2":88.07,"d3":70.82,"d4":81.8},{"name":"Wed","d1":86.99,"d2":75.72,"d3":95.84,"d4":91.22}]}],"WTD":[{"name":"Line Utilization","values":[{"name":"Mon","d1":72.23,"d2":81.77,"d3":90.92,"d4":85.68},{"name":"Tue","d1":73.15,"d2":81.57,"d3":74.99,"d4":87.94},{"name":"Wed","d1":78.85,"d2":85.65,"d3":85.3,"d4":94.71},{"name":"Thu","d1":77.88,"d2":91.99,"d3":92.24,"d4":94.58},{"name":"Fri","d1":78.8,"d2":85.45,"d3":90.59,"d4":71.81},{"name":"Sat","d1":90.1,"d2":79.17,"d3":86.03,"d4":95.37},{"name":"Sun","d1":84.5,"d2":80.39,"d3":95.96,"d4":90.36}]},{"name":"Line Availability","values":[{"name":"Mon","d1":98.97,"d2":95.14,"d3":94.4,"d4":86.34},{"name":"Tue","d1":86.18,"d2":70.96,"d3":97.12,"d4":94.6},{"name":"Wed","d1":93.5,"d2":86.37,"d3":86.98,"d4":84.19},{"name":"Thu","d1":75.79,"d2":82.58,"d3":94.12,"d4":78.43},{"name":"Fri","d1":87.49,"d2":70.62,"d3":77.37,"d4":73.44},{"name":"Sat","d1":91.32,"d2":85.66,"d3":99.68,"d4":72.41},{"name":"Sun","d1":88.47,"d2":90.57,"d3":74.98,"d4":75.06}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":81.29,"d2":81.67,"d3":85.84,"d4":99.71},{"name":"Tue","d1":92.46,"d2":91.65,"d3":81.56,"d4":73.02},{"name":"Wed","d1":74.11,"d2":80.91,"d3":80.82,"d4":88.35},{"name":"Thu","d1":82.58,"d2":81.33,"d3":79.01,"d4":90.08},{"name":"Fri","d1":98.43,"d2":80.06,"d3":74.8,"d4":79.67},{"name":"Sat","d1":95.26,"d2":86.35,"d3":83.13,"d4":75.09},{"name":"Sun","d1":77.19,"d2":94.11,"d3":95.5,"d4":86.76}]}],"MTD":[{"name":"Line Utilization","values":[{"name":"Mon","d1":70.92,"d2":70.45,"d3":87.54,"d4":83.03},{"name":"Tue","d1":95.46,"d2":82.99,"d3":81.86,"d4":81.47},{"name":"Wed","d1":70.13,"d2":83.34,"d3":98.54,"d4":97.68},{"name":"Thu","d1":85.77,"d2":77.43,"d3":77.41,"d4":78.44},{"name":"Fri","d1":73.96,"d2":82.87,"d3":72.7,"d4":90.27},{"name":"Sat","d1":82.3,"d2":76.53,"d3":79.9,"d4":99.77},{"name":"Sun","d1":74.87,"d2":79.52,"d3":81.29,"d4":73.58},{"name":"Mon","d1":79.38,"d2":86.3,"d3":93.18,"d4":98.23},{"name":"Tue","d1":93.43,"d2":93.43,"d3":91.92,"d4":86.79},{"name":"Wed","d1":90.1,"d2":92.77,"d3":91.42,"d4":92.27}]},{"name":"Line Availability","values":[{"name":"Mon","d1":85.21,"d2":79.23,"d3":87.67,"d4":72.07},{"name":"Tue","d1":77.94,"d2":96.79,"d3":91.16,"d4":87.48},{"name":"Wed","d1":81.74,"d2":70.64,"d3":71.78,"d4":71.16},{"name":"Thu","d1":85.33,"d2":86.77,"d3":87.2,"d4":74.52},{"name":"Fri","d1":75.99,"d2":81.77,"d3":84.28,"d4":87.29},{"name":"Sat","d1":78.22,"d2":88.13,"d3":91.04,"d4":98.17},{"name":"Sun","d1":95.57,"d2":77.64,"d3":92.47,"d4":75.74},{"name":"Mon","d1":72.14,"d2":86.05,"d3":85.94,"d4":85.36},{"name":"Tue","d1":72.72,"d2":97.94,"d3":81.15,"d4":88.4},{"name":"Wed","d1":85.06,"d2":83.36,"d3":93.42,"d4":84.18}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":73.19,"d2":89.22,"d3":96.85,"d4":98.29},{"name":"Tue","d1":80,"d2":70.6,"d3":77.46,"d4":91.14},{"name":"Wed","d1":74.31,"d2":72.45,"d3":84.34,"d4":93.35},{"name":"Thu","d1":90.49,"d2":96.17,"d3":79.91,"d4":97.74},{"name":"Fri","d1":88.41,"d2":74.4,"d3":82.37,"d4":76},{"name":"Sat","d1":80.28,"d2":70.14,"d3":97.82,"d4":78.11},{"name":"Sun","d1":79.65,"d2":95.66,"d3":99.35,"d4":95.43},{"name":"Mon","d1":94.32,"d2":80.37,"d3":75.52,"d4":99.61},{"name":"Tue","d1":95.66,"d2":77.32,"d3":87.31,"d4":93.07},{"name":"Wed","d1":80.15,"d2":90.16,"d3":94.5,"d4":96.28}]}],"YTD":[{"name":"Line Utilization","values":[{"name":"Jan","d1":99.26,"d2":91.13,"d3":80.78,"d4":99.25},{"name":"Feb","d1":90.04,"d2":87.2,"d3":86.92,"d4":77.32},{"name":"Mar","d1":96.16,"d2":87.25,"d3":83.46,"d4":70.64},{"name":"Apr","d1":87.61,"d2":97.88,"d3":94.11,"d4":93.07},{"name":"May","d1":93.7,"d2":85.63,"d3":93.41,"d4":88.08},{"name":"Jun","d1":84.78,"d2":90.82,"d3":92.38,"d4":97.45},{"name":"Jul","d1":79.04,"d2":86.62,"d3":93.32,"d4":99.71},{"name":"Aug","d1":79.1,"d2":71.89,"d3":85.72,"d4":80.86},{"name":"Sep","d1":77.39,"d2":88.06,"d3":95.56,"d4":83.01},{"name":"Oct","d1":73.76,"d2":95.16,"d3":79.78,"d4":84.29},{"name":"Nov","d1":74.87,"d2":87.23,"d3":95.05,"d4":73.13},{"name":"Dec","d1":95.04,"d2":93.74,"d3":91.23,"d4":82.5}]},{"name":"Line Availability","values":[{"name":"Jan","d1":78.85,"d2":81.71,"d3":86.63,"d4":71.05},{"name":"Feb","d1":88.74,"d2":74.03,"d3":72.07,"d4":97.94},{"name":"Mar","d1":96.85,"d2":88.76,"d3":84.68,"d4":74.16},{"name":"Apr","d1":82.55,"d2":86.61,"d3":97.15,"d4":93.67},{"name":"May","d1":87.43,"d2":74.91,"d3":89.8,"d4":77.65},{"name":"Jun","d1":70.54,"d2":87.69,"d3":94.65,"d4":91.67},{"name":"Jul","d1":72.99,"d2":96.59,"d3":86.68,"d4":89.12},{"name":"Aug","d1":84.54,"d2":70.36,"d3":89.17,"d4":96.42},{"name":"Sep","d1":72.89,"d2":80.82,"d3":85.3,"d4":84.98},{"name":"Oct","d1":96.82,"d2":78.2,"d3":99.98,"d4":84.74},{"name":"Nov","d1":76.42,"d2":83.03,"d3":87.1,"d4":78.15},{"name":"Dec","d1":81.98,"d2":90.52,"d3":82.16,"d4":71.36}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":85.36,"d2":82.1,"d3":90.2,"d4":70.63},{"name":"Feb","d1":88.53,"d2":86.76,"d3":80.36,"d4":98.85},{"name":"Mar","d1":88.28,"d2":81.19,"d3":90.54,"d4":98.93},{"name":"Apr","d1":85.51,"d2":76.02,"d3":91.31,"d4":75.56},{"name":"May","d1":88.82,"d2":93.57,"d3":73.87,"d4":86.01},{"name":"Jun","d1":90.19,"d2":82.86,"d3":80.07,"d4":76.66},{"name":"Jul","d1":77.94,"d2":83.29,"d3":96.9,"d4":81.13},{"name":"Aug","d1":89.93,"d2":81.08,"d3":99.35,"d4":93.18},{"name":"Sep","d1":91.71,"d2":71.75,"d3":87.46,"d4":95.47},{"name":"Oct","d1":97.18,"d2":96.53,"d3":96.89,"d4":83.9},{"name":"Nov","d1":74.76,"d2":94.8,"d3":96.5,"d4":74.5},{"name":"Dec","d1":87.43,"d2":94.48,"d3":90.78,"d4":90.6}]}]}},"Assembly Line 2":{"names":["Machine 20"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":77.8},{"name":"Tue","d1":96.89}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":85.34},{"name":"Tue","d1":71.58}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":75.53},{"name":"Tue","d1":84.22}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":82.25},{"name":"Tue","d1":74.57},{"name":"Wed","d1":93.18}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":95.92},{"name":"Tue","d1":98.26},{"name":"Wed","d1":92.48}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":81.73},{"name":"Tue","d1":86.35},{"name":"Wed","d1":88.23}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":89.04},{"name":"Tue","d1":77.78},{"name":"Wed","d1":95.02},{"name":"Thu","d1":88.36},{"name":"Fri","d1":95.34},{"name":"Sat","d1":80.87},{"name":"Sun","d1":84.88}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":78.73},{"name":"Tue","d1":96.33},{"name":"Wed","d1":73.95},{"name":"Thu","d1":82.11},{"name":"Fri","d1":75.59},{"name":"Sat","d1":82.69},{"name":"Sun","d1":70.69}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":96.96},{"name":"Tue","d1":73.33},{"name":"Wed","d1":92.52},{"name":"Thu","d1":88.37},{"name":"Fri","d1":85.26},{"name":"Sat","d1":89.92},{"name":"Sun","d1":92.56}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":88.39},{"name":"Tue","d1":77.39},{"name":"Wed","d1":72.44},{"name":"Thu","d1":86.89},{"name":"Fri","d1":75.7},{"name":"Sat","d1":94.24},{"name":"Sun","d1":74.83},{"name":"Mon","d1":97.93},{"name":"Tue","d1":85.87},{"name":"Wed","d1":80.36}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":95.42},{"name":"Tue","d1":78.88},{"name":"Wed","d1":80.43},{"name":"Thu","d1":71.22},{"name":"Fri","d1":85.4},{"name":"Sat","d1":73.33},{"name":"Sun","d1":97.72},{"name":"Mon","d1":80.87},{"name":"Tue","d1":75.23},{"name":"Wed","d1":80.16}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":87.32},{"name":"Tue","d1":74.65},{"name":"Wed","d1":82.2},{"name":"Thu","d1":83.28},{"name":"Fri","d1":92},{"name":"Sat","d1":71.57},{"name":"Sun","d1":88.38},{"name":"Mon","d1":84.92},{"name":"Tue","d1":72.43},{"name":"Wed","d1":96.86}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":89.63},{"name":"Feb","d1":76.97},{"name":"Mar","d1":70.36},{"name":"Apr","d1":87.81},{"name":"May","d1":88.74},{"name":"Jun","d1":93.67},{"name":"Jul","d1":83.11},{"name":"Aug","d1":83.42},{"name":"Sep","d1":74.07},{"name":"Oct","d1":99.39},{"name":"Nov","d1":93.04},{"name":"Dec","d1":87.4}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":74.62},{"name":"Feb","d1":94.61},{"name":"Mar","d1":96.08},{"name":"Apr","d1":76.38},{"name":"May","d1":80.44},{"name":"Jun","d1":94.32},{"name":"Jul","d1":95.29},{"name":"Aug","d1":74.21},{"name":"Sep","d1":95.32},{"name":"Oct","d1":88.4},{"name":"Nov","d1":74.91},{"name":"Dec","d1":92.74}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":82.21},{"name":"Feb","d1":98.35},{"name":"Mar","d1":70.94},{"name":"Apr","d1":96.36},{"name":"May","d1":83.78},{"name":"Jun","d1":98.16},{"name":"Jul","d1":96.15},{"name":"Aug","d1":71.5},{"name":"Sep","d1":79.25},{"name":"Oct","d1":80.29},{"name":"Nov","d1":81.87},{"name":"Dec","d1":95.86}]}]}},"Machining Area 3":{"names":["Machine 12","Machine 13","Machine 14"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":85.71,"d2":96.23,"d3":80.66},{"name":"Tue","d1":78.87,"d2":76.73,"d3":96.56}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":74.19,"d2":91.49,"d3":74.28},{"name":"Tue","d1":97.48,"d2":89.18,"d3":99.03}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":77.76,"d2":72,"d3":84.04},{"name":"Tue","d1":81.12,"d2":82.35,"d3":90.55}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":71.74,"d2":91.03,"d3":75.82},{"name":"Tue","d1":92.1,"d2":99.82,"d3":93.79},{"name":"Wed","d1":83.78,"d2":92.21,"d3":81.19}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":94.95,"d2":98.77,"d3":95.14},{"name":"Tue","d1":73.18,"d2":99.26,"d3":77.1},{"name":"Wed","d1":99.93,"d2":91.84,"d3":84.82}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":82.54,"d2":99.82,"d3":81.66},{"name":"Tue","d1":84.87,"d2":75.67,"d3":79.14},{"name":"Wed","d1":90.34,"d2":74.47,"d3":93.5}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":79.94,"d2":78.66,"d3":75.9},{"name":"Tue","d1":82.65,"d2":85.81,"d3":89.87},{"name":"Wed","d1":82.03,"d2":85.53,"d3":94.54},{"name":"Thu","d1":81.79,"d2":92.69,"d3":94.93},{"name":"Fri","d1":91.19,"d2":86.47,"d3":81.73},{"name":"Sat","d1":85.5,"d2":73.67,"d3":84.96},{"name":"Sun","d1":98.99,"d2":94.06,"d3":82.94}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":87.32,"d2":75.23,"d3":73.64},{"name":"Tue","d1":97.67,"d2":99.48,"d3":82.63},{"name":"Wed","d1":95.69,"d2":87.47,"d3":86.23},{"name":"Thu","d1":82.95,"d2":89.05,"d3":93.48},{"name":"Fri","d1":81.25,"d2":81.26,"d3":76.12},{"name":"Sat","d1":92.3,"d2":87.69,"d3":98.06},{"name":"Sun","d1":90.44,"d2":89.36,"d3":85.52}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":89.93,"d2":86.46,"d3":99.41},{"name":"Tue","d1":90.13,"d2":97.76,"d3":83.98},{"name":"Wed","d1":77.85,"d2":72.5,"d3":94.86},{"name":"Thu","d1":86.8,"d2":88.27,"d3":80.56},{"name":"Fri","d1":79.5,"d2":90.42,"d3":80.58},{"name":"Sat","d1":89.23,"d2":89.76,"d3":98.38},{"name":"Sun","d1":77.68,"d2":96.99,"d3":81.03}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":81.57,"d2":72.06,"d3":97.45},{"name":"Tue","d1":84.22,"d2":88.09,"d3":91.49},{"name":"Wed","d1":97.47,"d2":70.22,"d3":82.98},{"name":"Thu","d1":96.58,"d2":76.79,"d3":87.59},{"name":"Fri","d1":99.13,"d2":98.48,"d3":76.99},{"name":"Sat","d1":77.44,"d2":71.14,"d3":84},{"name":"Sun","d1":82.73,"d2":74.58,"d3":88.75},{"name":"Mon","d1":81.7,"d2":98.2,"d3":78.53},{"name":"Tue","d1":72.41,"d2":75.62,"d3":71.62},{"name":"Wed","d1":76.91,"d2":81.05,"d3":89.61}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":77.95,"d2":88.94,"d3":91.51},{"name":"Tue","d1":74.97,"d2":74.2,"d3":96.49},{"name":"Wed","d1":78.34,"d2":93.69,"d3":75.21},{"name":"Thu","d1":94.8,"d2":73.43,"d3":77.34},{"name":"Fri","d1":70.5,"d2":75.68,"d3":79.15},{"name":"Sat","d1":75.16,"d2":87.81,"d3":90.62},{"name":"Sun","d1":88.53,"d2":90.45,"d3":96.35},{"name":"Mon","d1":81.59,"d2":77.41,"d3":72.44},{"name":"Tue","d1":82.67,"d2":73.92,"d3":85.3},{"name":"Wed","d1":93.19,"d2":79.28,"d3":89.84}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":95.75,"d2":93.46,"d3":71.16},{"name":"Tue","d1":73.05,"d2":97.67,"d3":84.97},{"name":"Wed","d1":89.17,"d2":82.93,"d3":74.45},{"name":"Thu","d1":89.85,"d2":94.13,"d3":84.19},{"name":"Fri","d1":76.32,"d2":78.33,"d3":83.88},{"name":"Sat","d1":91.87,"d2":85.48,"d3":97.59},{"name":"Sun","d1":71.72,"d2":72.68,"d3":80.15},{"name":"Mon","d1":95.08,"d2":89.06,"d3":87.95},{"name":"Tue","d1":72.03,"d2":92.88,"d3":94.25},{"name":"Wed","d1":80.49,"d2":91.64,"d3":71.11}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":88.25,"d2":91.13,"d3":97.41},{"name":"Feb","d1":90.37,"d2":85.33,"d3":92.2},{"name":"Mar","d1":71.04,"d2":98.44,"d3":97.74},{"name":"Apr","d1":81.36,"d2":75.56,"d3":83.95},{"name":"May","d1":73.87,"d2":89.96,"d3":83.76},{"name":"Jun","d1":78.91,"d2":77.31,"d3":71.38},{"name":"Jul","d1":95.19,"d2":84.3,"d3":76.34},{"name":"Aug","d1":99.42,"d2":85.68,"d3":87.3},{"name":"Sep","d1":99.59,"d2":87.33,"d3":72.53},{"name":"Oct","d1":76.29,"d2":88.88,"d3":73.94},{"name":"Nov","d1":86.91,"d2":72.1,"d3":76.87},{"name":"Dec","d1":73.5,"d2":78.23,"d3":98.71}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":86.62,"d2":75.65,"d3":70.9},{"name":"Feb","d1":93.61,"d2":73.17,"d3":90.44},{"name":"Mar","d1":71.26,"d2":88.8,"d3":80.47},{"name":"Apr","d1":99.67,"d2":94.48,"d3":92.61},{"name":"May","d1":75.35,"d2":93.93,"d3":93.6},{"name":"Jun","d1":76.81,"d2":83.69,"d3":82.96},{"name":"Jul","d1":90.03,"d2":94.4,"d3":80.3},{"name":"Aug","d1":91.87,"d2":81.25,"d3":86.46},{"name":"Sep","d1":98.21,"d2":99.81,"d3":97.28},{"name":"Oct","d1":72.42,"d2":86.27,"d3":95.26},{"name":"Nov","d1":90.57,"d2":90.02,"d3":81.39},{"name":"Dec","d1":87.98,"d2":82.08,"d3":88.61}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":75.92,"d2":92.83,"d3":77.96},{"name":"Feb","d1":90.68,"d2":99.3,"d3":74.81},{"name":"Mar","d1":90.9,"d2":91.66,"d3":84.58},{"name":"Apr","d1":92.19,"d2":99.19,"d3":79.59},{"name":"May","d1":84.26,"d2":72.62,"d3":73.14},{"name":"Jun","d1":90.22,"d2":82.53,"d3":90.66},{"name":"Jul","d1":88.88,"d2":77.55,"d3":84.51},{"name":"Aug","d1":85.33,"d2":84.93,"d3":85.03},{"name":"Sep","d1":74.97,"d2":85.02,"d3":99.71},{"name":"Oct","d1":86.9,"d2":80.28,"d3":97.41},{"name":"Nov","d1":88.34,"d2":73.44,"d3":91.81},{"name":"Dec","d1":84.85,"d2":97.56,"d3":93.54}]}]}},"Machining Area 4":{"names":["Machine 16","Machine 17","Machine 18"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":79.43,"d2":74.25,"d3":79.7},{"name":"Tue","d1":85.78,"d2":76.38,"d3":86.93}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":93.47,"d2":72.34,"d3":82.58},{"name":"Tue","d1":98.18,"d2":90.75,"d3":95.03}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":93.99,"d2":70.2,"d3":86.09},{"name":"Tue","d1":90.25,"d2":73.93,"d3":73.05}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":95.01,"d2":84.35,"d3":71.95},{"name":"Tue","d1":78.01,"d2":88.01,"d3":98.84},{"name":"Wed","d1":89.2,"d2":75.22,"d3":85.84}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":71.85,"d2":87.45,"d3":75.49},{"name":"Tue","d1":79.02,"d2":71.8,"d3":78.92},{"name":"Wed","d1":70.38,"d2":81.4,"d3":98.79}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":97.6,"d2":81.76,"d3":85.72},{"name":"Tue","d1":90.68,"d2":90.16,"d3":83.92},{"name":"Wed","d1":70.21,"d2":75.59,"d3":71.85}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":86.29,"d2":87.6,"d3":76.98},{"name":"Tue","d1":80.79,"d2":83.77,"d3":84.91},{"name":"Wed","d1":88.84,"d2":76.91,"d3":85.97},{"name":"Thu","d1":95.67,"d2":80.02,"d3":84.4},{"name":"Fri","d1":83.79,"d2":78.61,"d3":82.63},{"name":"Sat","d1":96.23,"d2":94.28,"d3":70.78},{"name":"Sun","d1":75.41,"d2":99.26,"d3":86.66}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":91.92,"d2":84.98,"d3":86.67},{"name":"Tue","d1":96.86,"d2":81,"d3":73.65},{"name":"Wed","d1":92.68,"d2":99.61,"d3":82.32},{"name":"Thu","d1":73.63,"d2":81.25,"d3":73.66},{"name":"Fri","d1":93.97,"d2":74.3,"d3":70.29},{"name":"Sat","d1":92.01,"d2":75.96,"d3":79.31},{"name":"Sun","d1":93.22,"d2":70.28,"d3":87.13}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":95.36,"d2":85.62,"d3":90.47},{"name":"Tue","d1":79.02,"d2":99.41,"d3":99.62},{"name":"Wed","d1":91.09,"d2":84.37,"d3":94.28},{"name":"Thu","d1":77.15,"d2":76.72,"d3":97.55},{"name":"Fri","d1":86.87,"d2":78.87,"d3":76.7},{"name":"Sat","d1":88.56,"d2":82.43,"d3":79.33},{"name":"Sun","d1":86.51,"d2":89.04,"d3":81.84}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":84.03,"d2":99.88,"d3":76.79},{"name":"Tue","d1":73.15,"d2":85.98,"d3":92.8},{"name":"Wed","d1":92.31,"d2":99.94,"d3":78.73},{"name":"Thu","d1":87.32,"d2":89.87,"d3":86.49},{"name":"Fri","d1":95.28,"d2":99.36,"d3":78.14},{"name":"Sat","d1":86.54,"d2":91.54,"d3":71.56},{"name":"Sun","d1":75.76,"d2":95.22,"d3":82.77},{"name":"Mon","d1":87.43,"d2":93.6,"d3":85.33},{"name":"Tue","d1":93.37,"d2":75.06,"d3":93.31},{"name":"Wed","d1":84.47,"d2":84.33,"d3":85.03}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":78.01,"d2":99.47,"d3":98.21},{"name":"Tue","d1":99.47,"d2":79.73,"d3":71.89},{"name":"Wed","d1":95.55,"d2":97.38,"d3":88.97},{"name":"Thu","d1":99.07,"d2":89.59,"d3":88.97},{"name":"Fri","d1":74.58,"d2":90.59,"d3":89.36},{"name":"Sat","d1":79.77,"d2":76.44,"d3":76.48},{"name":"Sun","d1":72.78,"d2":89.61,"d3":70.14},{"name":"Mon","d1":79.72,"d2":92.08,"d3":78.91},{"name":"Tue","d1":80.79,"d2":73.4,"d3":87.34},{"name":"Wed","d1":75.8,"d2":92.79,"d3":79.75}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":90.88,"d2":92.55,"d3":99.07},{"name":"Tue","d1":98.27,"d2":79.06,"d3":78.03},{"name":"Wed","d1":84.02,"d2":72.93,"d3":79.41},{"name":"Thu","d1":90.98,"d2":80.66,"d3":74.42},{"name":"Fri","d1":72.46,"d2":83.53,"d3":84.15},{"name":"Sat","d1":73.66,"d2":73.09,"d3":80.92},{"name":"Sun","d1":75.1,"d2":72.63,"d3":94.43},{"name":"Mon","d1":90.47,"d2":77.37,"d3":78.89},{"name":"Tue","d1":75.81,"d2":76.36,"d3":92.25},{"name":"Wed","d1":83.13,"d2":81.09,"d3":86.29}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":71.05,"d2":74.8,"d3":80.78},{"name":"Feb","d1":97.27,"d2":85,"d3":88.07},{"name":"Mar","d1":70.19,"d2":87.76,"d3":74.18},{"name":"Apr","d1":92.76,"d2":76.5,"d3":73.67},{"name":"May","d1":90.7,"d2":85.28,"d3":92.25},{"name":"Jun","d1":84.79,"d2":80.66,"d3":83.55},{"name":"Jul","d1":87.1,"d2":91.49,"d3":91.19},{"name":"Aug","d1":89.15,"d2":82.4,"d3":86.63},{"name":"Sep","d1":71.71,"d2":77.32,"d3":71.97},{"name":"Oct","d1":83.22,"d2":82.09,"d3":78.54},{"name":"Nov","d1":77.47,"d2":96.25,"d3":70.15},{"name":"Dec","d1":87.77,"d2":89.97,"d3":99.77}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":74.9,"d2":77.33,"d3":80.12},{"name":"Feb","d1":90.09,"d2":83.48,"d3":90.86},{"name":"Mar","d1":92.4,"d2":84.35,"d3":93.27},{"name":"Apr","d1":74.43,"d2":89.63,"d3":87.79},{"name":"May","d1":70.17,"d2":87.68,"d3":77.01},{"name":"Jun","d1":97.24,"d2":72.82,"d3":91.26},{"name":"Jul","d1":90.41,"d2":83.33,"d3":91.89},{"name":"Aug","d1":92.16,"d2":96.33,"d3":93.44},{"name":"Sep","d1":99.16,"d2":72.32,"d3":76.91},{"name":"Oct","d1":91.14,"d2":86.38,"d3":82.17},{"name":"Nov","d1":93.02,"d2":81.24,"d3":74.17},{"name":"Dec","d1":96.78,"d2":75.41,"d3":94.56}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":73.87,"d2":79.46,"d3":91.05},{"name":"Feb","d1":93.72,"d2":95.1,"d3":72.5},{"name":"Mar","d1":99.17,"d2":86.48,"d3":77.8},{"name":"Apr","d1":70.07,"d2":72.93,"d3":86.34},{"name":"May","d1":93.36,"d2":86.69,"d3":76.7},{"name":"Jun","d1":83.72,"d2":92.13,"d3":98.67},{"name":"Jul","d1":70.74,"d2":79.12,"d3":90.85},{"name":"Aug","d1":98.77,"d2":99.37,"d3":98.87},{"name":"Sep","d1":92.53,"d2":85.07,"d3":87.85},{"name":"Oct","d1":74.16,"d2":72.16,"d3":88.25},{"name":"Nov","d1":95.42,"d2":81.69,"d3":72.14},{"name":"Dec","d1":87.52,"d2":92.27,"d3":85.89}]}]}},"Packaging Line 2":{"names":["Machine 22"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":96.14},{"name":"Tue","d1":95.63}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":94.57},{"name":"Tue","d1":71.6}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":92.17},{"name":"Tue","d1":87.49}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":89.75},{"name":"Tue","d1":97.29},{"name":"Wed","d1":86.72}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":83.66},{"name":"Tue","d1":99.18},{"name":"Wed","d1":97.93}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":73.47},{"name":"Tue","d1":93.12},{"name":"Wed","d1":94.6}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":99.49},{"name":"Tue","d1":93.24},{"name":"Wed","d1":94.59},{"name":"Thu","d1":95.05},{"name":"Fri","d1":94.6},{"name":"Sat","d1":75.94},{"name":"Sun","d1":97.08}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":84.87},{"name":"Tue","d1":86.8},{"name":"Wed","d1":77.52},{"name":"Thu","d1":87.69},{"name":"Fri","d1":99.15},{"name":"Sat","d1":92.76},{"name":"Sun","d1":80.94}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":89.65},{"name":"Tue","d1":90.07},{"name":"Wed","d1":79.21},{"name":"Thu","d1":88.69},{"name":"Fri","d1":90.97},{"name":"Sat","d1":92.26},{"name":"Sun","d1":85.46}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":70.7},{"name":"Tue","d1":72.64},{"name":"Wed","d1":95.51},{"name":"Thu","d1":73.32},{"name":"Fri","d1":96.32},{"name":"Sat","d1":94.66},{"name":"Sun","d1":81.5},{"name":"Mon","d1":74.91},{"name":"Tue","d1":99.62},{"name":"Wed","d1":97.34}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":87.76},{"name":"Tue","d1":72.41},{"name":"Wed","d1":86.3},{"name":"Thu","d1":85.62},{"name":"Fri","d1":93.9},{"name":"Sat","d1":99.1},{"name":"Sun","d1":75.62},{"name":"Mon","d1":97.37},{"name":"Tue","d1":84.89},{"name":"Wed","d1":72.42}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":85.84},{"name":"Tue","d1":78.48},{"name":"Wed","d1":91.63},{"name":"Thu","d1":80.28},{"name":"Fri","d1":84.54},{"name":"Sat","d1":85.5},{"name":"Sun","d1":98.78},{"name":"Mon","d1":88.7},{"name":"Tue","d1":94.95},{"name":"Wed","d1":93.97}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":72.61},{"name":"Feb","d1":93.92},{"name":"Mar","d1":95.56},{"name":"Apr","d1":92.64},{"name":"May","d1":98.71},{"name":"Jun","d1":99.92},{"name":"Jul","d1":73.74},{"name":"Aug","d1":70.03},{"name":"Sep","d1":85.05},{"name":"Oct","d1":79.13},{"name":"Nov","d1":94.11},{"name":"Dec","d1":89.38}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":80.69},{"name":"Feb","d1":92.74},{"name":"Mar","d1":71.01},{"name":"Apr","d1":81.32},{"name":"May","d1":82.48},{"name":"Jun","d1":86.77},{"name":"Jul","d1":99.08},{"name":"Aug","d1":75.2},{"name":"Sep","d1":99.46},{"name":"Oct","d1":70.22},{"name":"Nov","d1":73.44},{"name":"Dec","d1":79.48}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":78.11},{"name":"Feb","d1":91.43},{"name":"Mar","d1":85.41},{"name":"Apr","d1":96.88},{"name":"May","d1":77.72},{"name":"Jun","d1":85.79},{"name":"Jul","d1":89.29},{"name":"Aug","d1":97.14},{"name":"Sep","d1":91.96},{"name":"Oct","d1":75.95},{"name":"Nov","d1":87.87},{"name":"Dec","d1":76.16}]}]}}}},"Plant Frankfurt":{"kpi":[["Machining Area 1",87.9],["Machining Area 2",95.6],["Assembly Line 1",98.5],["Packaging Line 1",98.5]],"tablesData":{"Production Line":{"names":["Assembly Line 1","Machining Area 1","Machining Area 2","Packaging Line 1"],"tables":[{"name":"Line Utilization","data":[{"name":"DTD","values":[91.91,95.82,97.8,95.38]},{"name":"3DAY","values":[94.94,93.69,90.99,97.62]},{"name":"WTD","values":[97.46,96.83,97.78,98.98]},{"name":"MTD","values":[99.18,97.46,99.88,96.83]},{"name":"YTD","values":[92.08,98.17,92.56,95.11]}]},{"name":"Line Availability","data":[{"name":"DTD","values":[97.84,92.56,92.03,94.99]},{"name":"3DAY","values":[93.34,91.76,98.18,91.61]},{"name":"WTD","values":[92.06,90.99,94.78,94.64]},{"name":"MTD","values":[94.96,95.17,91.42,91.56]},{"name":"YTD","values":[98.37,96.22,94.13,94.51]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[92.64,99.6,99.22,99.52]},{"name":"3DAY","values":[97.15,92.99,90.51,95.25]},{"name":"WTD","values":[97.57,93.29,97.65,97.7]},{"name":"MTD","values":[98.27,95.53,94.87,90.37]},{"name":"YTD","values":[91.39,91.88,94.4,98.05]}]}]},"Assembly Line 1":{"names":["Machine 9"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[99.24]},{"name":"3DAY","values":[99.03]},{"name":"WTD","values":[90.34]},{"name":"MTD","values":[97.04]},{"name":"YTD","values":[94.16]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[93.55]},{"name":"3DAY","values":[91.62]},{"name":"WTD","values":[91.47]},{"name":"MTD","values":[91.54]},{"name":"YTD","values":[91.11]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[99.78]},{"name":"3DAY","values":[93.89]},{"name":"WTD","values":[96.4]},{"name":"MTD","values":[95.17]},{"name":"YTD","values":[96.96]}]}]},"Machining Area 1":{"names":["Machine 1","Machine 2","Machine 3"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[93.64,91.41,98.35]},{"name":"3DAY","values":[96.97,99.68,99.65]},{"name":"WTD","values":[92.17,91.97,98.86]},{"name":"MTD","values":[91.92,93.85,94.19]},{"name":"YTD","values":[97.57,93.49,95.25]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[91.22,90.09,97.48]},{"name":"3DAY","values":[96.04,92.29,93.53]},{"name":"WTD","values":[90.43,99.6,91.76]},{"name":"MTD","values":[96.86,92.49,99.09]},{"name":"YTD","values":[94.28,93.04,99.41]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[91.71,96.38,93.22]},{"name":"3DAY","values":[95.2,97.73,96.26]},{"name":"WTD","values":[99.68,97,94.09]},{"name":"MTD","values":[97.93,95.12,96.83]},{"name":"YTD","values":[91.7,97.46,93.34]}]}]},"Machining Area 2":{"names":["Machine 5","Machine 6","Machine 7"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[98.01,91.1,95.04]},{"name":"3DAY","values":[94.66,90.22,92.35]},{"name":"WTD","values":[92.91,94.86,91.95]},{"name":"MTD","values":[99.38,96.65,99.79]},{"name":"YTD","values":[98.64,97.89,96.62]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[93.77,93.4,93.83]},{"name":"3DAY","values":[92.75,92.2,95.68]},{"name":"WTD","values":[95.41,98.59,90.69]},{"name":"MTD","values":[96.14,98.01,99.38]},{"name":"YTD","values":[92.44,94.94,92.46]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[96.75,99.89,93.06]},{"name":"3DAY","values":[99.61,93.35,95.9]},{"name":"WTD","values":[93.55,97.84,97.82]},{"name":"MTD","values":[90.1,90.94,91.62]},{"name":"YTD","values":[95.77,94.13,91.48]}]}]},"Packaging Line 1":{"names":["Machine 11"],"tables":[{"name":"Machine Utilization","data":[{"name":"DTD","values":[94.36]},{"name":"3DAY","values":[95.92]},{"name":"WTD","values":[91.2]},{"name":"MTD","values":[94.17]},{"name":"YTD","values":[96.16]}]},{"name":"Machine Availability","data":[{"name":"DTD","values":[94.48]},{"name":"3DAY","values":[98.72]},{"name":"WTD","values":[96.91]},{"name":"MTD","values":[91.58]},{"name":"YTD","values":[98.21]}]},{"name":"Quality Rate","data":[{"name":"DTD","values":[94.17]},{"name":"3DAY","values":[90.53]},{"name":"WTD","values":[99.03]},{"name":"MTD","values":[96.09]},{"name":"YTD","values":[96.59]}]}]}},"chartsData":{"Production Line":{"names":["Assembly Line 1","Machining Area 1","Machining Area 2","Packaging Line 1"],"charts":{"DTD":[{"name":"Line Utilization","values":[{"name":"Mon","d1":86.28,"d2":72.47,"d3":90.22,"d4":97.68},{"name":"Tue","d1":95.7,"d2":75.84,"d3":79.62,"d4":91.42}]},{"name":"Line Availability","values":[{"name":"Mon","d1":87.33,"d2":78.92,"d3":87.47,"d4":84.59},{"name":"Tue","d1":87.35,"d2":94.94,"d3":91.08,"d4":71.96}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":91.33,"d2":93,"d3":93.67,"d4":90.12},{"name":"Tue","d1":84.8,"d2":99.5,"d3":81.36,"d4":81.94}]}],"3DAY":[{"name":"Line Utilization","values":[{"name":"Mon","d1":78.85,"d2":89.58,"d3":88.88,"d4":84.38},{"name":"Tue","d1":77.93,"d2":88.47,"d3":85.12,"d4":92.85},{"name":"Wed","d1":82.06,"d2":93.01,"d3":77.52,"d4":89.83}]},{"name":"Line Availability","values":[{"name":"Mon","d1":93.27,"d2":82.33,"d3":97.29,"d4":76},{"name":"Tue","d1":87.21,"d2":90.96,"d3":94.36,"d4":99.32},{"name":"Wed","d1":98.37,"d2":71.17,"d3":91.03,"d4":97.08}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":85.78,"d2":80.08,"d3":77.41,"d4":96.61},{"name":"Tue","d1":91.56,"d2":76.11,"d3":90.26,"d4":80.79},{"name":"Wed","d1":73.57,"d2":72.39,"d3":71.71,"d4":90.64}]}],"WTD":[{"name":"Line Utilization","values":[{"name":"Mon","d1":84.04,"d2":96.12,"d3":75.62,"d4":88.32},{"name":"Tue","d1":95.44,"d2":89.38,"d3":79.93,"d4":97.94},{"name":"Wed","d1":93.55,"d2":92.04,"d3":92.77,"d4":89.17},{"name":"Thu","d1":80.31,"d2":90.95,"d3":88.61,"d4":98.92},{"name":"Fri","d1":86.3,"d2":73.72,"d3":83.92,"d4":70.66},{"name":"Sat","d1":77.57,"d2":87.07,"d3":75.17,"d4":75.75},{"name":"Sun","d1":76.54,"d2":79.5,"d3":96.8,"d4":94.53}]},{"name":"Line Availability","values":[{"name":"Mon","d1":75.76,"d2":98.05,"d3":83.61,"d4":75.88},{"name":"Tue","d1":97.02,"d2":78.98,"d3":89.4,"d4":91.73},{"name":"Wed","d1":76.45,"d2":71.69,"d3":93.71,"d4":77.56},{"name":"Thu","d1":80.1,"d2":97.48,"d3":77.67,"d4":80.44},{"name":"Fri","d1":80.09,"d2":79.65,"d3":88.79,"d4":95.99},{"name":"Sat","d1":95.85,"d2":79.76,"d3":73.66,"d4":73.07},{"name":"Sun","d1":82.4,"d2":76.1,"d3":72.4,"d4":78.84}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":70.57,"d2":80.25,"d3":76.47,"d4":78},{"name":"Tue","d1":97.11,"d2":80.62,"d3":90.95,"d4":82.64},{"name":"Wed","d1":95.34,"d2":91.32,"d3":83.25,"d4":93.95},{"name":"Thu","d1":88.33,"d2":82.64,"d3":91.49,"d4":70.44},{"name":"Fri","d1":74.66,"d2":99.86,"d3":90.29,"d4":73.29},{"name":"Sat","d1":96.75,"d2":93,"d3":97.55,"d4":99.8},{"name":"Sun","d1":78.94,"d2":82.3,"d3":97.93,"d4":90.74}]}],"MTD":[{"name":"Line Utilization","values":[{"name":"Mon","d1":98.82,"d2":71.02,"d3":77.95,"d4":73.75},{"name":"Tue","d1":70.98,"d2":75.62,"d3":72.25,"d4":76.35},{"name":"Wed","d1":71.56,"d2":93.25,"d3":98.19,"d4":98.51},{"name":"Thu","d1":93.43,"d2":86.58,"d3":91.51,"d4":70.27},{"name":"Fri","d1":92.29,"d2":92.16,"d3":82.43,"d4":96.4},{"name":"Sat","d1":92.31,"d2":99.91,"d3":97.7,"d4":72.96},{"name":"Sun","d1":90.14,"d2":93.3,"d3":81.51,"d4":92.91},{"name":"Mon","d1":72.6,"d2":77.5,"d3":75.71,"d4":73.26},{"name":"Tue","d1":75.24,"d2":85.74,"d3":83.13,"d4":74.02},{"name":"Wed","d1":72.15,"d2":86.42,"d3":83.16,"d4":71.53}]},{"name":"Line Availability","values":[{"name":"Mon","d1":76.35,"d2":74.93,"d3":85.78,"d4":79.69},{"name":"Tue","d1":99.89,"d2":71.43,"d3":84.43,"d4":96.88},{"name":"Wed","d1":80.12,"d2":76.19,"d3":70.3,"d4":72.35},{"name":"Thu","d1":88.16,"d2":97.24,"d3":83.34,"d4":80.32},{"name":"Fri","d1":83.55,"d2":76.44,"d3":88.48,"d4":70.93},{"name":"Sat","d1":98.14,"d2":80.63,"d3":75.37,"d4":87.82},{"name":"Sun","d1":73.93,"d2":83.29,"d3":94.37,"d4":72.51},{"name":"Mon","d1":79.32,"d2":88.79,"d3":97.53,"d4":97.71},{"name":"Tue","d1":99.38,"d2":95.27,"d3":97.25,"d4":89.23},{"name":"Wed","d1":77.86,"d2":71.65,"d3":98.97,"d4":90.71}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":96.82,"d2":76.83,"d3":70.67,"d4":85.04},{"name":"Tue","d1":90.04,"d2":98.12,"d3":89.97,"d4":87.35},{"name":"Wed","d1":87.4,"d2":71.49,"d3":75.44,"d4":83.63},{"name":"Thu","d1":70.57,"d2":76.97,"d3":78.41,"d4":77.45},{"name":"Fri","d1":93.43,"d2":88.2,"d3":80.48,"d4":81.87},{"name":"Sat","d1":95.04,"d2":70.35,"d3":88.57,"d4":95.76},{"name":"Sun","d1":93.77,"d2":89.43,"d3":75.63,"d4":71.64},{"name":"Mon","d1":85.07,"d2":94.26,"d3":75.39,"d4":91.59},{"name":"Tue","d1":73.54,"d2":91.69,"d3":72.77,"d4":79.61},{"name":"Wed","d1":81.91,"d2":77.48,"d3":70.27,"d4":97.68}]}],"YTD":[{"name":"Line Utilization","values":[{"name":"Jan","d1":80.68,"d2":96.65,"d3":76.2,"d4":89.51},{"name":"Feb","d1":70.69,"d2":89.94,"d3":91.35,"d4":83.52},{"name":"Mar","d1":81.67,"d2":96.65,"d3":73.48,"d4":89.32},{"name":"Apr","d1":75.82,"d2":77.18,"d3":94.7,"d4":77.88},{"name":"May","d1":95.03,"d2":95.39,"d3":74.97,"d4":81.94},{"name":"Jun","d1":87.96,"d2":98.82,"d3":93.95,"d4":91.18},{"name":"Jul","d1":70.19,"d2":85.7,"d3":87.21,"d4":83.08},{"name":"Aug","d1":97.25,"d2":76.27,"d3":96.97,"d4":97.78},{"name":"Sep","d1":73.27,"d2":78.44,"d3":89.72,"d4":77.97},{"name":"Oct","d1":94.29,"d2":86.67,"d3":96.94,"d4":84.27},{"name":"Nov","d1":77.46,"d2":86.42,"d3":81.45,"d4":70.34},{"name":"Dec","d1":94.29,"d2":86.35,"d3":96.22,"d4":77.62}]},{"name":"Line Availability","values":[{"name":"Jan","d1":79.36,"d2":70.42,"d3":82.88,"d4":97.14},{"name":"Feb","d1":80.6,"d2":94.02,"d3":83.91,"d4":78.67},{"name":"Mar","d1":72.06,"d2":76.16,"d3":88.12,"d4":81.54},{"name":"Apr","d1":90.59,"d2":70.81,"d3":86.98,"d4":99.56},{"name":"May","d1":88.22,"d2":94.58,"d3":80.99,"d4":81.72},{"name":"Jun","d1":81.96,"d2":92.39,"d3":75.57,"d4":99.09},{"name":"Jul","d1":85.34,"d2":85.64,"d3":98.83,"d4":88.4},{"name":"Aug","d1":94.07,"d2":95.56,"d3":92.06,"d4":86.36},{"name":"Sep","d1":77.36,"d2":84.12,"d3":83.73,"d4":90.72},{"name":"Oct","d1":81.27,"d2":71.94,"d3":93.74,"d4":80.73},{"name":"Nov","d1":79.67,"d2":74.71,"d3":90.82,"d4":76.28},{"name":"Dec","d1":87.29,"d2":77.04,"d3":78.05,"d4":75.07}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":83.71,"d2":94.59,"d3":93.62,"d4":85.96},{"name":"Feb","d1":80.38,"d2":71.37,"d3":85.06,"d4":97.4},{"name":"Mar","d1":92.39,"d2":90.57,"d3":75.78,"d4":71.43},{"name":"Apr","d1":70.41,"d2":79.87,"d3":87.78,"d4":98.85},{"name":"May","d1":96.4,"d2":78.7,"d3":80.49,"d4":99.7},{"name":"Jun","d1":76.34,"d2":99.34,"d3":79.58,"d4":88.56},{"name":"Jul","d1":98.3,"d2":70.63,"d3":91.08,"d4":70.07},{"name":"Aug","d1":85.07,"d2":95.39,"d3":75.59,"d4":89.3},{"name":"Sep","d1":84.16,"d2":95.03,"d3":85.3,"d4":86.81},{"name":"Oct","d1":84.89,"d2":93.82,"d3":96.34,"d4":96.42},{"name":"Nov","d1":70.12,"d2":77.61,"d3":93.82,"d4":89.62},{"name":"Dec","d1":92.15,"d2":84.4,"d3":77.56,"d4":85.67}]}]}},"Assembly Line 1":{"names":["Machine 9"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":74.21},{"name":"Tue","d1":97.52}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":78.09},{"name":"Tue","d1":75.2}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":71.39},{"name":"Tue","d1":91.98}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":93.24},{"name":"Tue","d1":88.98},{"name":"Wed","d1":99.98}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":71.05},{"name":"Tue","d1":71.29},{"name":"Wed","d1":70.89}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":77.77},{"name":"Tue","d1":85.11},{"name":"Wed","d1":78.62}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":80.85},{"name":"Tue","d1":92.43},{"name":"Wed","d1":82.55},{"name":"Thu","d1":82.75},{"name":"Fri","d1":91.62},{"name":"Sat","d1":80.06},{"name":"Sun","d1":83.05}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":99.54},{"name":"Tue","d1":94.94},{"name":"Wed","d1":75.01},{"name":"Thu","d1":81.24},{"name":"Fri","d1":95.43},{"name":"Sat","d1":72.98},{"name":"Sun","d1":75.11}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":84.48},{"name":"Tue","d1":76.09},{"name":"Wed","d1":94.13},{"name":"Thu","d1":83.65},{"name":"Fri","d1":87.37},{"name":"Sat","d1":71.43},{"name":"Sun","d1":75.32}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":83.08},{"name":"Tue","d1":94.76},{"name":"Wed","d1":70.64},{"name":"Thu","d1":76.26},{"name":"Fri","d1":92.49},{"name":"Sat","d1":74.37},{"name":"Sun","d1":88.03},{"name":"Mon","d1":73.51},{"name":"Tue","d1":74.97},{"name":"Wed","d1":77.29}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":83.49},{"name":"Tue","d1":95.45},{"name":"Wed","d1":91.4},{"name":"Thu","d1":70.31},{"name":"Fri","d1":72.77},{"name":"Sat","d1":86.77},{"name":"Sun","d1":92.57},{"name":"Mon","d1":81.34},{"name":"Tue","d1":70.2},{"name":"Wed","d1":96.93}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":80.88},{"name":"Tue","d1":96.33},{"name":"Wed","d1":71.49},{"name":"Thu","d1":97.95},{"name":"Fri","d1":73.83},{"name":"Sat","d1":91.61},{"name":"Sun","d1":83.96},{"name":"Mon","d1":96.36},{"name":"Tue","d1":93.28},{"name":"Wed","d1":91.45}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":71.07},{"name":"Feb","d1":92.51},{"name":"Mar","d1":97.93},{"name":"Apr","d1":95.53},{"name":"May","d1":83.8},{"name":"Jun","d1":71.8},{"name":"Jul","d1":89.57},{"name":"Aug","d1":76.47},{"name":"Sep","d1":80.87},{"name":"Oct","d1":87.39},{"name":"Nov","d1":99.99},{"name":"Dec","d1":76.99}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":93.68},{"name":"Feb","d1":97.87},{"name":"Mar","d1":78.83},{"name":"Apr","d1":82.53},{"name":"May","d1":89.76},{"name":"Jun","d1":71.71},{"name":"Jul","d1":84.18},{"name":"Aug","d1":83.63},{"name":"Sep","d1":93.59},{"name":"Oct","d1":93.18},{"name":"Nov","d1":88.02},{"name":"Dec","d1":79.91}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":88.33},{"name":"Feb","d1":85.53},{"name":"Mar","d1":92.24},{"name":"Apr","d1":75.38},{"name":"May","d1":72.76},{"name":"Jun","d1":77.18},{"name":"Jul","d1":81.47},{"name":"Aug","d1":93.39},{"name":"Sep","d1":93.12},{"name":"Oct","d1":99.21},{"name":"Nov","d1":76.02},{"name":"Dec","d1":76.33}]}]}},"Machining Area 1":{"names":["Machine 1","Machine 2","Machine 3"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":71.32,"d2":71.16,"d3":76.47},{"name":"Tue","d1":82.15,"d2":78.93,"d3":70.95}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":79.16,"d2":76.52,"d3":74.63},{"name":"Tue","d1":88.59,"d2":72.29,"d3":76.49}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":95.54,"d2":90.42,"d3":97.13},{"name":"Tue","d1":72.24,"d2":77.61,"d3":79.73}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":86.32,"d2":71.64,"d3":86.76},{"name":"Tue","d1":81.06,"d2":86.1,"d3":93.88},{"name":"Wed","d1":90.74,"d2":90.91,"d3":95.3}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":88.47,"d2":70.24,"d3":93.83},{"name":"Tue","d1":91.13,"d2":99.62,"d3":76.61},{"name":"Wed","d1":72.26,"d2":90.79,"d3":89.31}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":89.38,"d2":92.79,"d3":84.41},{"name":"Tue","d1":71.25,"d2":72.33,"d3":89.31},{"name":"Wed","d1":70.23,"d2":74.6,"d3":93.06}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":80.26,"d2":82.21,"d3":82.12},{"name":"Tue","d1":85.23,"d2":95.55,"d3":93.82},{"name":"Wed","d1":89.5,"d2":83.23,"d3":89.34},{"name":"Thu","d1":76.9,"d2":92.16,"d3":89.69},{"name":"Fri","d1":88.27,"d2":77.75,"d3":72.43},{"name":"Sat","d1":85.45,"d2":86.02,"d3":92.33},{"name":"Sun","d1":71.84,"d2":97.75,"d3":74.51}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":99.82,"d2":81.15,"d3":91.59},{"name":"Tue","d1":82.73,"d2":90.43,"d3":92.74},{"name":"Wed","d1":82.07,"d2":92.8,"d3":91.3},{"name":"Thu","d1":72.15,"d2":95.09,"d3":81.06},{"name":"Fri","d1":94.46,"d2":80.85,"d3":84.24},{"name":"Sat","d1":94.93,"d2":81.85,"d3":93.44},{"name":"Sun","d1":72.2,"d2":71.72,"d3":89.91}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":76.72,"d2":92.18,"d3":92.17},{"name":"Tue","d1":95.82,"d2":89.41,"d3":87.2},{"name":"Wed","d1":99.74,"d2":94.43,"d3":87.85},{"name":"Thu","d1":82,"d2":86.86,"d3":80.96},{"name":"Fri","d1":93.9,"d2":92.09,"d3":79.88},{"name":"Sat","d1":97.64,"d2":92.65,"d3":72.48},{"name":"Sun","d1":70.47,"d2":74.52,"d3":98.12}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":95.41,"d2":75.43,"d3":78.24},{"name":"Tue","d1":72.77,"d2":84.82,"d3":82.08},{"name":"Wed","d1":92.5,"d2":95.21,"d3":96.77},{"name":"Thu","d1":87.93,"d2":92.35,"d3":81.19},{"name":"Fri","d1":99.98,"d2":96.68,"d3":87.55},{"name":"Sat","d1":76.17,"d2":89.57,"d3":90.95},{"name":"Sun","d1":70.43,"d2":79.99,"d3":80.98},{"name":"Mon","d1":87.67,"d2":98.59,"d3":96.72},{"name":"Tue","d1":88.47,"d2":72.94,"d3":99.92},{"name":"Wed","d1":75.06,"d2":94.54,"d3":81.26}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":93.92,"d2":86.85,"d3":77.54},{"name":"Tue","d1":83.3,"d2":81.42,"d3":75.9},{"name":"Wed","d1":81.52,"d2":78.14,"d3":76.12},{"name":"Thu","d1":98.6,"d2":93.03,"d3":91.87},{"name":"Fri","d1":73.04,"d2":91.18,"d3":72.36},{"name":"Sat","d1":89.11,"d2":91.2,"d3":77.01},{"name":"Sun","d1":72.75,"d2":97.53,"d3":92.4},{"name":"Mon","d1":88.27,"d2":99.81,"d3":78},{"name":"Tue","d1":71.39,"d2":84.66,"d3":94.6},{"name":"Wed","d1":78.26,"d2":78.62,"d3":80.97}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":84.77,"d2":81.69,"d3":82.42},{"name":"Tue","d1":80.83,"d2":76.78,"d3":84.57},{"name":"Wed","d1":88.19,"d2":87.22,"d3":78.96},{"name":"Thu","d1":81.02,"d2":97.18,"d3":72.02},{"name":"Fri","d1":94.06,"d2":81.75,"d3":88},{"name":"Sat","d1":91.64,"d2":78.54,"d3":92.34},{"name":"Sun","d1":96.58,"d2":93.16,"d3":73.66},{"name":"Mon","d1":85.92,"d2":71.1,"d3":93.47},{"name":"Tue","d1":84.52,"d2":96.45,"d3":82.15},{"name":"Wed","d1":82.74,"d2":88,"d3":81.1}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":81.68,"d2":94.42,"d3":72.94},{"name":"Feb","d1":91.34,"d2":97.74,"d3":96.35},{"name":"Mar","d1":94.62,"d2":84.41,"d3":89.56},{"name":"Apr","d1":90.04,"d2":81.72,"d3":76.58},{"name":"May","d1":86.7,"d2":91.34,"d3":74.14},{"name":"Jun","d1":71.17,"d2":80.55,"d3":88.8},{"name":"Jul","d1":79.07,"d2":70.77,"d3":92.2},{"name":"Aug","d1":80.55,"d2":92.45,"d3":91.15},{"name":"Sep","d1":72.06,"d2":72.4,"d3":74.8},{"name":"Oct","d1":85.75,"d2":76.33,"d3":90.76},{"name":"Nov","d1":87.95,"d2":84.86,"d3":92.06},{"name":"Dec","d1":80.09,"d2":70.2,"d3":95}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":76.54,"d2":90.05,"d3":85.28},{"name":"Feb","d1":96.95,"d2":77.78,"d3":71.56},{"name":"Mar","d1":73.98,"d2":99.46,"d3":73.04},{"name":"Apr","d1":96.72,"d2":76.74,"d3":99.87},{"name":"May","d1":91.36,"d2":93.88,"d3":81.84},{"name":"Jun","d1":89.47,"d2":70.08,"d3":87.99},{"name":"Jul","d1":74.37,"d2":71.02,"d3":72.66},{"name":"Aug","d1":95.12,"d2":97.38,"d3":88.7},{"name":"Sep","d1":71.13,"d2":80.83,"d3":99.98},{"name":"Oct","d1":97.35,"d2":92.15,"d3":86.7},{"name":"Nov","d1":97.99,"d2":89.78,"d3":99.99},{"name":"Dec","d1":78.99,"d2":85.31,"d3":84.91}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":88.29,"d2":92.7,"d3":82.59},{"name":"Feb","d1":80.13,"d2":85.9,"d3":92.1},{"name":"Mar","d1":79.89,"d2":72.04,"d3":76.89},{"name":"Apr","d1":70.43,"d2":72.83,"d3":82.4},{"name":"May","d1":86.13,"d2":78.16,"d3":99.58},{"name":"Jun","d1":84.41,"d2":91.13,"d3":73.84},{"name":"Jul","d1":97.12,"d2":83.56,"d3":72.38},{"name":"Aug","d1":85.64,"d2":83.51,"d3":87.6},{"name":"Sep","d1":87.91,"d2":96.22,"d3":88.05},{"name":"Oct","d1":98.66,"d2":95.98,"d3":76.3},{"name":"Nov","d1":74.33,"d2":80.58,"d3":90.4},{"name":"Dec","d1":89.44,"d2":75.31,"d3":81.96}]}]}},"Machining Area 2":{"names":["Machine 5","Machine 6","Machine 7"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":87.51,"d2":88.74,"d3":80.99},{"name":"Tue","d1":85.91,"d2":93.62,"d3":75.02}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":78.97,"d2":74.95,"d3":97.13},{"name":"Tue","d1":85.35,"d2":92.43,"d3":80.74}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":92.99,"d2":79.23,"d3":81.49},{"name":"Tue","d1":89.58,"d2":95.27,"d3":72.71}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":96.18,"d2":79.01,"d3":86.9},{"name":"Tue","d1":87.46,"d2":87.74,"d3":75.82},{"name":"Wed","d1":71.37,"d2":86.8,"d3":97.73}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":83.21,"d2":89.32,"d3":72.58},{"name":"Tue","d1":72.55,"d2":78.54,"d3":75.1},{"name":"Wed","d1":99.74,"d2":94.38,"d3":89.34}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":83.5,"d2":74.97,"d3":96.84},{"name":"Tue","d1":98.33,"d2":73.91,"d3":72.97},{"name":"Wed","d1":82.82,"d2":73.24,"d3":73.53}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":71.34,"d2":92.89,"d3":79.37},{"name":"Tue","d1":75.46,"d2":93.5,"d3":85.46},{"name":"Wed","d1":92.63,"d2":84.77,"d3":81.99},{"name":"Thu","d1":76.96,"d2":77.3,"d3":76.95},{"name":"Fri","d1":81.93,"d2":83.15,"d3":75.31},{"name":"Sat","d1":85.11,"d2":75.15,"d3":89.48},{"name":"Sun","d1":83.47,"d2":83.97,"d3":99.92}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":85.92,"d2":91.98,"d3":85.79},{"name":"Tue","d1":83.54,"d2":93.56,"d3":77.78},{"name":"Wed","d1":76.46,"d2":96.97,"d3":77},{"name":"Thu","d1":91.66,"d2":90.3,"d3":96.16},{"name":"Fri","d1":87.1,"d2":73.32,"d3":72.15},{"name":"Sat","d1":89.41,"d2":90.81,"d3":71.55},{"name":"Sun","d1":80.64,"d2":91.99,"d3":98.4}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":85.25,"d2":96.88,"d3":92.85},{"name":"Tue","d1":84.71,"d2":72.69,"d3":85.84},{"name":"Wed","d1":92.4,"d2":74.03,"d3":90.83},{"name":"Thu","d1":90.95,"d2":93.05,"d3":98.07},{"name":"Fri","d1":95.11,"d2":72.16,"d3":78.61},{"name":"Sat","d1":77.27,"d2":84.99,"d3":96.94},{"name":"Sun","d1":76.36,"d2":98.65,"d3":94.82}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":74.57,"d2":94.47,"d3":97.38},{"name":"Tue","d1":77.87,"d2":82.83,"d3":96.72},{"name":"Wed","d1":84.89,"d2":90.3,"d3":87.1},{"name":"Thu","d1":87.28,"d2":98.71,"d3":78.73},{"name":"Fri","d1":81.21,"d2":87.42,"d3":88.25},{"name":"Sat","d1":73.31,"d2":72.94,"d3":71.31},{"name":"Sun","d1":85.46,"d2":93.79,"d3":98.34},{"name":"Mon","d1":74.1,"d2":91.34,"d3":82.69},{"name":"Tue","d1":91.81,"d2":77.61,"d3":95},{"name":"Wed","d1":83.83,"d2":90.65,"d3":96.37}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":83.32,"d2":93.57,"d3":72.87},{"name":"Tue","d1":87.4,"d2":81.5,"d3":80.17},{"name":"Wed","d1":94.17,"d2":89.9,"d3":70.54},{"name":"Thu","d1":96.87,"d2":81.09,"d3":70.51},{"name":"Fri","d1":78.56,"d2":81.42,"d3":93.59},{"name":"Sat","d1":86.93,"d2":79.04,"d3":93.91},{"name":"Sun","d1":96.49,"d2":81.96,"d3":91.82},{"name":"Mon","d1":85.14,"d2":98.01,"d3":81.72},{"name":"Tue","d1":95.23,"d2":81.13,"d3":92.09},{"name":"Wed","d1":71.39,"d2":72.95,"d3":90.73}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":82.02,"d2":87.93,"d3":89.54},{"name":"Tue","d1":72.43,"d2":71.9,"d3":77.98},{"name":"Wed","d1":87.08,"d2":85.3,"d3":72.06},{"name":"Thu","d1":70.55,"d2":74.55,"d3":98.25},{"name":"Fri","d1":97.92,"d2":90.4,"d3":72.13},{"name":"Sat","d1":75.02,"d2":70.53,"d3":79.17},{"name":"Sun","d1":93.95,"d2":99.3,"d3":94.68},{"name":"Mon","d1":74.51,"d2":89.65,"d3":85.2},{"name":"Tue","d1":77.6,"d2":89.03,"d3":99.09},{"name":"Wed","d1":90.97,"d2":84.2,"d3":75.03}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":75.21,"d2":97.96,"d3":79.28},{"name":"Feb","d1":77.19,"d2":98.41,"d3":79.1},{"name":"Mar","d1":71.97,"d2":95.44,"d3":83.09},{"name":"Apr","d1":88.85,"d2":83.14,"d3":90.07},{"name":"May","d1":95.05,"d2":76.52,"d3":95.17},{"name":"Jun","d1":97.02,"d2":85.17,"d3":84.74},{"name":"Jul","d1":82.76,"d2":95.26,"d3":79.59},{"name":"Aug","d1":86.6,"d2":70.19,"d3":87.3},{"name":"Sep","d1":79.45,"d2":86.81,"d3":78.59},{"name":"Oct","d1":74.48,"d2":96.48,"d3":97.31},{"name":"Nov","d1":93.97,"d2":74.47,"d3":89.42},{"name":"Dec","d1":70.07,"d2":96.98,"d3":74.21}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":81.61,"d2":85.52,"d3":91.3},{"name":"Feb","d1":84.28,"d2":79,"d3":74.79},{"name":"Mar","d1":89.41,"d2":82.71,"d3":71.39},{"name":"Apr","d1":92.66,"d2":78.93,"d3":97.12},{"name":"May","d1":96.95,"d2":99.58,"d3":86.66},{"name":"Jun","d1":89.74,"d2":86.6,"d3":88.53},{"name":"Jul","d1":81.19,"d2":81.98,"d3":74.37},{"name":"Aug","d1":70.72,"d2":99.98,"d3":70.42},{"name":"Sep","d1":74.43,"d2":87,"d3":93.27},{"name":"Oct","d1":94.39,"d2":98.27,"d3":92.2},{"name":"Nov","d1":94.94,"d2":88.51,"d3":72.43},{"name":"Dec","d1":79.05,"d2":88.94,"d3":97.72}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":84.85,"d2":70.42,"d3":71.61},{"name":"Feb","d1":79.81,"d2":77.52,"d3":92.5},{"name":"Mar","d1":94.85,"d2":86.75,"d3":73.74},{"name":"Apr","d1":83.97,"d2":82.28,"d3":98.79},{"name":"May","d1":90.85,"d2":85.3,"d3":70.01},{"name":"Jun","d1":71.04,"d2":90.61,"d3":79.08},{"name":"Jul","d1":93.17,"d2":82.72,"d3":99.28},{"name":"Aug","d1":81.95,"d2":73.76,"d3":81.48},{"name":"Sep","d1":74.27,"d2":99.95,"d3":74.86},{"name":"Oct","d1":82.46,"d2":85.76,"d3":95.99},{"name":"Nov","d1":72.05,"d2":70.74,"d3":97.62},{"name":"Dec","d1":72.46,"d2":78.06,"d3":77.19}]}]}},"Packaging Line 1":{"names":["Machine 11"],"charts":{"DTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":89.25},{"name":"Tue","d1":73.56}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":72.96},{"name":"Tue","d1":92.62}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":73.57},{"name":"Tue","d1":87.06}]}],"3DAY":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":77.78},{"name":"Tue","d1":74.49},{"name":"Wed","d1":79.1}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":96.87},{"name":"Tue","d1":78.51},{"name":"Wed","d1":92.32}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":70.02},{"name":"Tue","d1":97.55},{"name":"Wed","d1":99.8}]}],"WTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":74.8},{"name":"Tue","d1":76.38},{"name":"Wed","d1":94.76},{"name":"Thu","d1":85.18},{"name":"Fri","d1":79.12},{"name":"Sat","d1":73.94},{"name":"Sun","d1":81.09}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":71.91},{"name":"Tue","d1":83.63},{"name":"Wed","d1":75.14},{"name":"Thu","d1":98.49},{"name":"Fri","d1":92.46},{"name":"Sat","d1":82.13},{"name":"Sun","d1":72.97}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":99.14},{"name":"Tue","d1":93.16},{"name":"Wed","d1":88.32},{"name":"Thu","d1":82.86},{"name":"Fri","d1":79.82},{"name":"Sat","d1":84.71},{"name":"Sun","d1":85.8}]}],"MTD":[{"name":"Machine Utilization","values":[{"name":"Mon","d1":95.53},{"name":"Tue","d1":82.29},{"name":"Wed","d1":85.09},{"name":"Thu","d1":92.86},{"name":"Fri","d1":94.19},{"name":"Sat","d1":82.94},{"name":"Sun","d1":96.62},{"name":"Mon","d1":98.65},{"name":"Tue","d1":94.61},{"name":"Wed","d1":82.26}]},{"name":"Machine Availability","values":[{"name":"Mon","d1":70.4},{"name":"Tue","d1":87.25},{"name":"Wed","d1":87.73},{"name":"Thu","d1":91.73},{"name":"Fri","d1":91.18},{"name":"Sat","d1":94.64},{"name":"Sun","d1":76.43},{"name":"Mon","d1":70.06},{"name":"Tue","d1":70.67},{"name":"Wed","d1":79.57}]},{"name":"Quality Rate","values":[{"name":"Mon","d1":88.58},{"name":"Tue","d1":89.52},{"name":"Wed","d1":88.92},{"name":"Thu","d1":86},{"name":"Fri","d1":90.67},{"name":"Sat","d1":86.8},{"name":"Sun","d1":94.7},{"name":"Mon","d1":90.91},{"name":"Tue","d1":93.99},{"name":"Wed","d1":93.9}]}],"YTD":[{"name":"Machine Utilization","values":[{"name":"Jan","d1":86.28},{"name":"Feb","d1":85.83},{"name":"Mar","d1":73.63},{"name":"Apr","d1":95.76},{"name":"May","d1":96.56},{"name":"Jun","d1":87.7},{"name":"Jul","d1":84.37},{"name":"Aug","d1":82.57},{"name":"Sep","d1":70.17},{"name":"Oct","d1":88.47},{"name":"Nov","d1":97.7},{"name":"Dec","d1":74.21}]},{"name":"Machine Availability","values":[{"name":"Jan","d1":77.7},{"name":"Feb","d1":71.81},{"name":"Mar","d1":88.53},{"name":"Apr","d1":73.96},{"name":"May","d1":89.95},{"name":"Jun","d1":91.34},{"name":"Jul","d1":79.42},{"name":"Aug","d1":98.64},{"name":"Sep","d1":72.45},{"name":"Oct","d1":85.52},{"name":"Nov","d1":80.78},{"name":"Dec","d1":73.57}]},{"name":"Quality Rate","values":[{"name":"Jan","d1":89.91},{"name":"Feb","d1":75.58},{"name":"Mar","d1":94.87},{"name":"Apr","d1":85.8},{"name":"May","d1":82.04},{"name":"Jun","d1":86.56},{"name":"Jul","d1":71.34},{"name":"Aug","d1":88.69},{"name":"Sep","d1":86.87},{"name":"Oct","d1":98.08},{"name":"Nov","d1":76},{"name":"Dec","d1":72}]}]}}}}}')},325:function(e,t,n){e.exports={card:"CardOperational_card__3wOxn"}},326:function(e,t,n){e.exports={card:"CardOHS_card__2d0Lv"}},327:function(e,t,n){e.exports={app:"App_app__1kX79",loader:"App_loader__2fptQ"}},347:function(e,t,n){},358:function(e,t,n){},43:function(e,t,n){e.exports={item:"KPICardItem_item__vC4Rb",item_danger:"KPICardItem_item_danger__2QaEI",item_noPadding:"KPICardItem_item_noPadding__1zgrc",titleWrapper:"KPICardItem_titleWrapper__25Rm5",titleWrapperWarning:"KPICardItem_titleWrapperWarning__2LFmb",title:"KPICardItem_title__1cGn8",item_primary:"KPICardItem_item_primary__2XKI-",titleIcon:"KPICardItem_titleIcon__D1wQx",titleLinkIcon:"KPICardItem_titleLinkIcon__2QFV-",titleDescription:"KPICardItem_titleDescription__-yWqg",hoverContentWrapper:"KPICardItem_hoverContentWrapper__2bFZe",contentWrapper:"KPICardItem_contentWrapper__33iHu",content:"KPICardItem_content__29eKY",kpi:"KPICardItem_kpi__I7eg5",kpi_xsmall:"KPICardItem_kpi_xsmall__Fxufc",kpi_medium:"KPICardItem_kpi_medium__2vbLL",kpi_large:"KPICardItem_kpi_large__1RHLZ",deviationWrapper:"KPICardItem_deviationWrapper__3fTwL",deviationWrapper_up:"KPICardItem_deviationWrapper_up__31XyW",deviationWrapper_down:"KPICardItem_deviationWrapper_down__2XAhV",deviationIcon:"KPICardItem_deviationIcon__21EFF",deviationIcon_down:"KPICardItem_deviationIcon_down__1Q5iB",deviation:"KPICardItem_deviation__kTnXP",subInfo:"KPICardItem_subInfo__rHaVZ",subInfoTitle:"KPICardItem_subInfoTitle__3SIYj",subInfoValue:"KPICardItem_subInfoValue__3Kfi0"}},44:function(e,t,n){e.exports={card:"CardEffectiveness_card__3Jr2m",cardCard:"CardEffectiveness_cardCard__LQr5J",cardTitleWrapper:"CardEffectiveness_cardTitleWrapper__1DzH5",cardGrid:"CardEffectiveness_cardGrid__2MG7A",spacer:"CardEffectiveness_spacer__3DV2L",cardCells:"CardEffectiveness_cardCells__1b0LO",cardCell:"CardEffectiveness_cardCell__1LC4a",cardData:"CardEffectiveness_cardData__32ng5",cardCellItem:"CardEffectiveness_cardCellItem__1rWlA",cardCellItem_active:"CardEffectiveness_cardCellItem_active__1xS6c",cardCharts:"CardEffectiveness_cardCharts__2_IbP",cardTables:"CardEffectiveness_cardTables__34w4J",switcherWrapper:"CardEffectiveness_switcherWrapper__2pJiZ",switcherButton:"CardEffectiveness_switcherButton__2H1PU",switcherButton_active:"CardEffectiveness_switcherButton_active__3WOOF",switcherButtonIcon:"CardEffectiveness_switcherButtonIcon__2pfb8",switcherButtonIcon_stroke:"CardEffectiveness_switcherButtonIcon_stroke__w6iOh",switcherButtonIcon_fill:"CardEffectiveness_switcherButtonIcon_fill__3cV-W"}},48:function(e,t,n){e.exports={kpiPage:"KPIPage_kpiPage__FrDph",kpiCard2:"KPIPage_kpiCard2__2MWZB",kpiCardSales:"KPIPage_kpiCardSales__3zQbK",kpiCardSalesTitleWrapper:"KPIPage_kpiCardSalesTitleWrapper__16j0E",kpiCardSalesInner:"KPIPage_kpiCardSalesInner__1kxt4",kpiCardSalesLeft:"KPIPage_kpiCardSalesLeft__3qsae",kpiCardSalesRight:"KPIPage_kpiCardSalesRight__aJwid",cardSalesCell:"KPIPage_cardSalesCell__3kf6e",kpiCard8:"KPIPage_kpiCard8__1ytnk",kpiCard6:"KPIPage_kpiCard6__2-Cli",kpiCard5:"KPIPage_kpiCard5__2pU4e",cardSalesChart:"KPIPage_cardSalesChart__3tzaz",kpiCard3List:"KPIPage_kpiCard3List__1SGgI",kpiCard4:"KPIPage_kpiCard4__2DyrE",kpiCard7:"KPIPage_kpiCard7__5bYuB",kpiCard8ChartWrapper:"KPIPage_kpiCard8ChartWrapper__3dLHI",kpiCard8Chart:"KPIPage_kpiCard8Chart__1EsQm",kpiModel:"KPIPage_kpiModel__1GuIA",cardModelLegend:"KPIPage_cardModelLegend__3W6jV"}},517:function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i),o=n(149),s=n.n(o),d=(n(347),n(24)),l=n(33),c=n(15),u=n(76),m=n(49),h=n(60),f=n(526),p=n(14),v=n.n(p),g=function(){var e;null===(e=document)||void 0===e||e.body.classList.add("loaded")},b=n(30),y=n(3),_=function(e){window.parent.postMessage(e,"*")},x=n(338),w=n(2),T=n(286),M=n(223),A=n(201),C=n(287),j=n(31),O=n(5),S=n(6),P={type:"change"},L={type:"start"},D={type:"end"},E={type:"startMouseWheel"},I={type:"endMouseWheel"},k={type:"wasMovement"},R=function(e){Object(O.a)(n,e);var t=Object(S.a)(n);function n(e,a){var i;Object(w.a)(this,n),i=t.call(this),void 0===a&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),a===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.object=e,i.domElement=a,i.enabled=!0,i.target=new y.Ib,i.minDistance=0,i.maxDistance=1/0,i.minZoom=0,i.maxZoom=1/0,i.minPolarAngle=0,i.maxPolarAngle=Math.PI,i.minAzimuthAngle=-1/0,i.maxAzimuthAngle=1/0,i.enableDamping=!1,i.dampingFactor=.05,i.enableZoom=!0,i.zoomSpeed=1,i.enableRotate=!0,i.rotateSpeed=1,i.enablePan=!0,i.panSpeed=1,i.screenSpacePanning=!0,i.keyPanSpeed=7,i.autoRotate=!1,i.autoRotateSpeed=2,i.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},i.mouseButtons={LEFT:y.N.ROTATE,MIDDLE:y.N.DOLLY,RIGHT:y.N.PAN},i.touches={ONE:y.zb.ROTATE,TWO:y.zb.DOLLY_PAN},i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i._domElementKeyEvents=null,i.getPolarAngle=function(){return l.phi},i.getAzimuthalAngle=function(){return l.theta},i.listenToKeyEvents=function(e){e.addEventListener("keydown",$),this._domElementKeyEvents=e},i.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},i.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(P),r.update(),s=o.NONE},i.update=function(){var t=new y.Ib,n=(new y.kb).setFromUnitVectors(e.up,new y.Ib(0,1,0)),a=n.clone().invert(),i=new y.Ib,f=new y.kb,p=2*Math.PI;return function(){var e=r.object.position;t.copy(e).sub(r.target),t.applyQuaternion(n),l.setFromVector3(t),r.autoRotate&&s===o.NONE&&C(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(l.theta+=c.theta*r.dampingFactor,l.phi+=c.phi*r.dampingFactor):(l.theta+=c.theta,l.phi+=c.phi);var v=r.minAzimuthAngle,g=r.maxAzimuthAngle;return isFinite(v)&&isFinite(g)&&(v<-Math.PI?v+=p:v>Math.PI&&(v-=p),g<-Math.PI?g+=p:g>Math.PI&&(g-=p),l.theta=v<=g?Math.max(v,Math.min(g,l.theta)):l.theta>(v+g)/2?Math.max(v,l.theta):Math.min(g,l.theta)),l.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=u,l.radius=Math.max(r.minDistance,Math.min(r.maxDistance,l.radius)),!0===r.enableDamping?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),t.setFromSpherical(l),t.applyQuaternion(a),e.copy(r.target).add(t),r.object.lookAt(r.target),!0===r.enableDamping?(c.theta*=1-r.dampingFactor,c.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(c.set(0,0,0),m.set(0,0,0)),u=1,!!(h||i.distanceToSquared(r.object.position)>d||8*(1-f.dot(r.object.quaternion))>d)&&(r.dispatchEvent(P),i.copy(r.object.position),f.copy(r.object.quaternion),h=!1,!0)}}(),i.dispose=function(){r.domElement.removeEventListener("contextmenu",ae),r.domElement.removeEventListener("pointerdown",K),r.domElement.removeEventListener("wheel",Z),r.domElement.removeEventListener("touchstart",ee),r.domElement.removeEventListener("touchend",ne),r.domElement.removeEventListener("touchmove",te),r.domElement.ownerDocument.removeEventListener("pointermove",q),r.domElement.ownerDocument.removeEventListener("pointerup",Q),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",$)};var r=Object(j.a)(i),o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,d=1e-6,l=new y.xb,c=new y.xb,u=1,m=new y.Ib,h=!1,f=new y.Hb,p=new y.Hb,v=new y.Hb,g=new y.Hb,b=new y.Hb,_=new y.Hb,x=new y.Hb,T=new y.Hb,M=new y.Hb;function A(){return Math.pow(.95,r.zoomSpeed)}function C(e){c.theta-=e}function O(e){c.phi-=e}var S=function(){var e=new y.Ib;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),m.add(e)}}(),R=function(){var e=new y.Ib;return function(t,n){!0===r.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(r.object.up,e)),e.multiplyScalar(t),m.add(e)}}(),F=function(){var e=new y.Ib;return function(t,n){var a=r.domElement;if(r.object.isPerspectiveCamera){var i=r.object.position;e.copy(i).sub(r.target);var o=e.length();o*=Math.tan(r.object.fov/2*Math.PI/180),S(2*t*o/a.clientHeight,r.object.matrix),R(2*n*o/a.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(S(t*(r.object.right-r.object.left)/r.object.zoom/a.clientWidth,r.object.matrix),R(n*(r.object.top-r.object.bottom)/r.object.zoom/a.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function N(e){r.object.isPerspectiveCamera?u/=e:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*e)),r.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(e){r.object.isPerspectiveCamera?u*=e:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/e)),r.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function W(e){f.set(e.clientX,e.clientY)}function B(e){g.set(e.clientX,e.clientY)}function U(e){if(1==e.touches.length)f.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);f.set(t,n)}}function Y(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,n)}}function G(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);x.set(0,a)}function H(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,n)}v.subVectors(p,f).multiplyScalar(r.rotateSpeed);var a=r.domElement;C(2*Math.PI*v.x/a.clientHeight),O(2*Math.PI*v.y/a.clientHeight),f.copy(p)}function V(e){if(1==e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,n)}_.subVectors(b,g).multiplyScalar(r.panSpeed),F(_.x,_.y),g.copy(b)}function J(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);T.set(0,a),M.set(0,Math.pow(T.y/x.y,r.zoomSpeed)),N(M.y),x.copy(T)}function K(e){if(!1!==r.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),X=!1,r.domElement.focus?r.domElement.focus():window.focus(),e.button){case 0:t=r.mouseButtons.LEFT;break;case 1:t=r.mouseButtons.MIDDLE;break;case 2:t=r.mouseButtons.RIGHT;break;default:t=-1}switch(t){case y.N.DOLLY:if(!1===r.enableZoom)return;!function(e){x.set(e.clientX,e.clientY)}(e),s=o.DOLLY;break;case y.N.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enablePan)return;B(e),s=o.PAN}else{if(!1===r.enableRotate)return;W(e),s=o.ROTATE}break;case y.N.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enableRotate)return;W(e),s=o.ROTATE}else{if(!1===r.enablePan)return;B(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&(r.domElement.ownerDocument.addEventListener("pointermove",q),r.domElement.ownerDocument.addEventListener("pointerup",Q),r.dispatchEvent(L))}(e)}}var X=!1;function q(e){if(!1!==r.enabled)switch(X=!0,e.pointerType){case"mouse":case"pen":!function(e){if(!1===r.enabled)return;switch(e.preventDefault(),s){case o.ROTATE:if(!1===r.enableRotate)return;!function(e){p.set(e.clientX,e.clientY),v.subVectors(p,f).multiplyScalar(r.rotateSpeed);var t=r.domElement;C(2*Math.PI*v.x/t.clientHeight),O(2*Math.PI*v.y/t.clientHeight),f.copy(p),r.update()}(e);break;case o.DOLLY:if(!1===r.enableZoom)return;!function(e){T.set(e.clientX,e.clientY),M.subVectors(T,x),M.y>0?N(A()):M.y<0&&z(A()),x.copy(T),r.update()}(e);break;case o.PAN:if(!1===r.enablePan)return;!function(e){b.set(e.clientX,e.clientY),_.subVectors(b,g).multiplyScalar(r.panSpeed),F(_.x,_.y),g.copy(b),r.update()}(e)}}(e)}}function Q(e){switch(X&&(e.stopPropagation(),r.enabled&&r.dispatchEvent(k)),e.pointerType){case"mouse":case"pen":!function(e){if(r.domElement.ownerDocument.removeEventListener("pointermove",q),r.domElement.ownerDocument.removeEventListener("pointerup",Q),!1===r.enabled)return;r.dispatchEvent(D),s=o.NONE}()}}function Z(e){!1===r.enabled||!1===r.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),r.dispatchEvent(E),function(e){e.deltaY<0?z(A()):e.deltaY>0&&N(A()),r.update()}(e),r.dispatchEvent(I))}function $(e){!1!==r.enabled&&!1!==r.enablePan&&function(e){var t=!1;switch(e.code){case r.keys.UP:F(0,r.keyPanSpeed),t=!0;break;case r.keys.BOTTOM:F(0,-r.keyPanSpeed),t=!0;break;case r.keys.LEFT:F(r.keyPanSpeed,0),t=!0;break;case r.keys.RIGHT:F(-r.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),r.update())}(e)}function ee(e){if(!1!==r.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(r.touches.ONE){case y.zb.ROTATE:if(!1===r.enableRotate)return;U(e),s=o.TOUCH_ROTATE;break;case y.zb.PAN:if(!1===r.enablePan)return;Y(e),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(r.touches.TWO){case y.zb.DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;!function(e){r.enableZoom&&G(e),r.enablePan&&Y(e)}(e),s=o.TOUCH_DOLLY_PAN;break;case y.zb.DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;!function(e){r.enableZoom&&G(e),r.enableRotate&&U(e)}(e),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&r.dispatchEvent(L)}}function te(e){if(!1!==r.enabled)switch(e.preventDefault(),s){case o.TOUCH_ROTATE:if(!1===r.enableRotate)return;H(e),r.update();break;case o.TOUCH_PAN:if(!1===r.enablePan)return;V(e),r.update();break;case o.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;!function(e){r.enableZoom&&J(e),r.enablePan&&V(e)}(e),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;!function(e){r.enableZoom&&J(e),r.enableRotate&&H(e)}(e),r.update();break;default:s=o.NONE}}function ne(e){!1!==r.enabled&&(r.dispatchEvent(D),s=o.NONE)}function ae(e){!1!==r.enabled&&e.preventDefault()}return r.domElement.addEventListener("contextmenu",ae),r.domElement.addEventListener("pointerdown",K),r.domElement.addEventListener("wheel",Z,{passive:!1}),r.domElement.addEventListener("touchstart",ee,{passive:!1}),r.domElement.addEventListener("touchend",ne),r.domElement.addEventListener("touchmove",te,{passive:!1}),i.update(),i}return n}(y.q),F=n(288),N=n(152),z=n(241),W=n(289),B=n(290),U=n(116),Y=n.n(U),G=n(1),H=function(e){var t=e.isAbsolute,n=e.isNotAnimated;return Object(G.jsxs)("div",{className:v()(Y.a.dots,t&&Y.a.dots_absolute,n&&Y.a.dots_notAnimated),children:[Object(G.jsx)("div",{className:Y.a.dot}),Object(G.jsx)("div",{className:Y.a.dot}),Object(G.jsx)("div",{className:Y.a.dot}),Object(G.jsx)("div",{className:Y.a.dot})]})},V=n(291),J=n.n(V),K=function(e,t){var n=document.createElement("div");return n.innerHTML=J.a.renderToString(r.a.createElement(e,t,null)),n.firstChild},X=function(){return Object(G.jsx)("svg",{className:"poi-callout-container__best-icon",width:"10",height:"11",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(G.jsx)("path",{d:"M7.9584 6.72064C7.82891 6.85273 7.76942 7.04377 7.79892 7.23113L8.24336 9.82043C8.28086 10.0399 8.19287 10.262 8.01839 10.3888C7.84741 10.5204 7.61994 10.5362 7.43347 10.4309L5.21926 9.21521C5.14227 9.17205 5.05678 9.1489 4.96929 9.14626H4.83381C4.78681 9.15363 4.74082 9.16942 4.69882 9.19363L2.48411 10.4151C2.37463 10.473 2.25064 10.4935 2.12916 10.473C1.8332 10.4141 1.63572 10.1173 1.68422 9.80412L2.12916 7.21481C2.15866 7.02588 2.09916 6.83379 1.96968 6.69958L0.164416 4.8576C0.0134362 4.7034 -0.039057 4.47184 0.029934 4.26291C0.0969252 4.0545 0.267903 3.9024 0.474376 3.8682L2.95905 3.48875C3.14803 3.46822 3.314 3.34718 3.39899 3.16824L4.49385 0.805243C4.51985 0.752615 4.55334 0.704197 4.59384 0.663147L4.63883 0.626307C4.66233 0.598941 4.68933 0.576311 4.71932 0.557891L4.77381 0.53684L4.8588 0.5H5.06928C5.25725 0.520525 5.42273 0.638938 5.50922 0.815768L6.61857 3.16824C6.69856 3.34034 6.85404 3.4598 7.03352 3.48875L9.51819 3.8682C9.72817 3.89977 9.90364 4.05239 9.97313 4.26291C10.0386 4.47394 9.98213 4.70551 9.82815 4.8576L7.9584 6.72064Z"})})},q=function(){return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("svg",{className:"poi-pin-star",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(G.jsx)("path",{className:"poi-pin-star_outer",d:"M19.1002 14.3075C18.7894 14.6113 18.6466 15.0507 18.7174 15.4816L19.7841 21.437C19.8741 21.9417 19.6629 22.4526 19.2441 22.7443C18.8338 23.0469 18.2879 23.0832 17.8403 22.8411L12.5262 20.045C12.3414 19.9457 12.1363 19.8925 11.9263 19.8864H11.6011C11.4883 19.9034 11.378 19.9397 11.2772 19.9953L5.96187 22.8048C5.69911 22.9379 5.40155 22.9851 5.10998 22.9379C4.39968 22.8024 3.92574 22.1197 4.04212 21.3995L5.10998 15.4441C5.18077 15.0095 5.03799 14.5677 4.72723 14.259L0.394599 10.0225C0.0322468 9.66783 -0.0937368 9.13523 0.0718416 8.65469C0.232621 8.17535 0.642967 7.82553 1.1385 7.74685L7.10172 6.87412C7.55526 6.82691 7.95361 6.54851 8.15759 6.13696L10.7852 0.702058C10.8476 0.581014 10.928 0.469653 11.0252 0.375238L11.1332 0.290507C11.1896 0.227564 11.2544 0.175515 11.3264 0.133149L11.4572 0.0847312L11.6611 0H12.1663C12.6174 0.0472074 13.0146 0.319558 13.2221 0.726267L15.8846 6.13696C16.0766 6.53277 16.4497 6.80754 16.8804 6.87412L22.8437 7.74685C23.3476 7.81948 23.7687 8.17051 23.9355 8.65469C24.0927 9.14007 23.9571 9.67267 23.5876 10.0225L19.1002 14.3075Z"}),Object(G.jsx)("path",{className:"poi-pin-star_base",d:"M19.1002 14.3075C18.7894 14.6113 18.6466 15.0507 18.7174 15.4816L19.7841 21.437C19.8741 21.9417 19.6629 22.4526 19.2441 22.7443C18.8338 23.0469 18.2879 23.0832 17.8403 22.8411L12.5262 20.045C12.3414 19.9457 12.1363 19.8925 11.9263 19.8864H11.6011C11.4883 19.9034 11.378 19.9397 11.2772 19.9953L5.96187 22.8048C5.69911 22.9379 5.40155 22.9851 5.10998 22.9379C4.39968 22.8024 3.92574 22.1197 4.04212 21.3995L5.10998 15.4441C5.18077 15.0095 5.03799 14.5677 4.72723 14.259L0.394599 10.0225C0.0322468 9.66783 -0.0937368 9.13523 0.0718416 8.65469C0.232621 8.17535 0.642967 7.82553 1.1385 7.74685L7.10172 6.87412C7.55526 6.82691 7.95361 6.54851 8.15759 6.13696L10.7852 0.702058C10.8476 0.581014 10.928 0.469653 11.0252 0.375238L11.1332 0.290507C11.1896 0.227564 11.2544 0.175515 11.3264 0.133149L11.4572 0.0847312L11.6611 0H12.1663C12.6174 0.0472074 13.0146 0.319558 13.2221 0.726267L15.8846 6.13696C16.0766 6.53277 16.4497 6.80754 16.8804 6.87412L22.8437 7.74685C23.3476 7.81948 23.7687 8.17051 23.9355 8.65469C24.0927 9.14007 23.9571 9.67267 23.5876 10.0225L19.1002 14.3075Z"}),Object(G.jsx)("path",{className:"poi-pin-star_inner",d:"M19.1002 14.3075C18.7894 14.6113 18.6466 15.0507 18.7174 15.4816L19.7841 21.437C19.8741 21.9417 19.6629 22.4526 19.2441 22.7443C18.8338 23.0469 18.2879 23.0832 17.8403 22.8411L12.5262 20.045C12.3414 19.9457 12.1363 19.8925 11.9263 19.8864H11.6011C11.4883 19.9034 11.378 19.9397 11.2772 19.9953L5.96187 22.8048C5.69911 22.9379 5.40155 22.9851 5.10998 22.9379C4.39968 22.8024 3.92574 22.1197 4.04212 21.3995L5.10998 15.4441C5.18077 15.0095 5.03799 14.5677 4.72723 14.259L0.394599 10.0225C0.0322468 9.66783 -0.0937368 9.13523 0.0718416 8.65469C0.232621 8.17535 0.642967 7.82553 1.1385 7.74685L7.10172 6.87412C7.55526 6.82691 7.95361 6.54851 8.15759 6.13696L10.7852 0.702058C10.8476 0.581014 10.928 0.469653 11.0252 0.375238L11.1332 0.290507C11.1896 0.227564 11.2544 0.175515 11.3264 0.133149L11.4572 0.0847312L11.6611 0H12.1663C12.6174 0.0472074 13.0146 0.319558 13.2221 0.726267L15.8846 6.13696C16.0766 6.53277 16.4497 6.80754 16.8804 6.87412L22.8437 7.74685C23.3476 7.81948 23.7687 8.17051 23.9355 8.65469C24.0927 9.14007 23.9571 9.67267 23.5876 10.0225L19.1002 14.3075Z"}),Object(G.jsx)("path",{className:"poi-pin-star_act",d:"M19.1002 14.3075C18.7894 14.6113 18.6466 15.0507 18.7174 15.4816L19.7841 21.437C19.8741 21.9417 19.6629 22.4526 19.2441 22.7443C18.8338 23.0469 18.2879 23.0832 17.8403 22.8411L12.5262 20.045C12.3414 19.9457 12.1363 19.8925 11.9263 19.8864H11.6011C11.4883 19.9034 11.378 19.9397 11.2772 19.9953L5.96187 22.8048C5.69911 22.9379 5.40155 22.9851 5.10998 22.9379C4.39968 22.8024 3.92574 22.1197 4.04212 21.3995L5.10998 15.4441C5.18077 15.0095 5.03799 14.5677 4.72723 14.259L0.394599 10.0225C0.0322468 9.66783 -0.0937368 9.13523 0.0718416 8.65469C0.232621 8.17535 0.642967 7.82553 1.1385 7.74685L7.10172 6.87412C7.55526 6.82691 7.95361 6.54851 8.15759 6.13696L10.7852 0.702058C10.8476 0.581014 10.928 0.469653 11.0252 0.375238L11.1332 0.290507C11.1896 0.227564 11.2544 0.175515 11.3264 0.133149L11.4572 0.0847312L11.6611 0H12.1663C12.6174 0.0472074 13.0146 0.319558 13.2221 0.726267L15.8846 6.13696C16.0766 6.53277 16.4497 6.80754 16.8804 6.87412L22.8437 7.74685C23.3476 7.81948 23.7687 8.17051 23.9355 8.65469C24.0927 9.14007 23.9571 9.67267 23.5876 10.0225L19.1002 14.3075Z"})]})})},Q=function(){return Object(G.jsx)("svg",{className:"poi-callout-container__warning-icon",xmlns:"http://www.w3.org/2000/svg",width:"9",height:"8",fill:"none",viewBox:"0 0 9 8",children:Object(G.jsx)("path",{d:"M8.955 3.83L6.867.164A.325.325 0 006.589 0H2.411a.315.315 0 00-.277.164L.044 3.83a.343.343 0 000 .339l2.09 3.666A.325.325 0 002.411 8H6.59a.314.314 0 00.277-.164L8.955 4.17a.343.343 0 000-.339zM4.163 1.538h.675v3.385h-.675V1.538zM4.5 6.77a.442.442 0 01-.25-.078.472.472 0 01-.068-.71.447.447 0 01.49-.1.453.453 0 01.202.17.47.47 0 01-.056.583.444.444 0 01-.318.135z"})})},Z=function(){return Object(G.jsx)("svg",{className:"poi-callout-container__arrow",width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(G.jsx)("path",{d:"M1 4.50009H7.30096M7.30096 4.50009L4.1503 1.47363M7.30096 4.50009L4.1503 7.52626",strokeLinecap:"round",strokeLinejoin:"round"})})},$=function(e){var t,n=e.className,a=e.isBest,i=e.hasNoMargin,r=e.hasTransfer,o=e.hasValueBg,s=e.id,l=e.info,c=e.pinClassName,u=e.popupClassName,m=e.status,h=e.style,f=e.title,p=e.value;return Object(G.jsxs)("div",{className:v()(n,"poi-pin-wrapper",(t={"poi-pin-wrapper_no-margin":i,"poi-pin-wrapper_is-best":a},Object(d.a)(t,"poi-pin-wrapper_style-".concat(h),h),Object(d.a)(t,"poi-pin-wrapper_status-".concat(m),m),t)),id:s,children:[Object(G.jsx)("div",{className:v()("poi-pin",c),children:a?Object(G.jsx)(q,{}):Object(G.jsx)("div",{className:"poi-pin-inner"})}),Object(G.jsxs)("div",{className:v()("poi-callout-container",r&&"poi-callout-container_has-hover",u),children:[Object(G.jsxs)("div",{className:"poi-callout-container__title",children:[Object(G.jsx)(X,{}),Object(G.jsx)(Q,{}),f,Object(G.jsx)(Z,{})]}),Object(G.jsx)("div",{className:"poi-callout-container__status-info",children:l})]}),Object(G.jsx)("div",{className:v()("poi-value",o&&"poi-value_has-bg"),children:p})]})},ee="#595959",te="#ebebeb",ne="#ffffff",ae="#9728d3",ie="#01aed6",re="#e6c18a",oe="#ffffff",se=function e(){var t=this;Object(w.a)(this,e),this.materialBG=void 0,this.materialDark=void 0,this.materialLight=void 0,this.materialNeon=void 0,this.materialPaperboard=void 0,this.materialPrimary=void 0,this.materialSecondary=void 0,this.materialWindow=void 0,this.createCommonMaterial=function(e){return new y.V({color:e})},this.processMaterial=function(e){var n=[{filter:function(e){return"floor"===e||"plane"===e||"scene"===e||"conveer"===e},process:function(e){}},{filter:function(e){return e.includes("yellow")},process:function(e){e.material=t.materialPaperboard,e.castShadow=!0,e.receiveShadow=!0}},{filter:function(e){return e.includes("grey")},process:function(e){e.material=t.materialDark,e.castShadow=!0,e.receiveShadow=!0}},{filter:function(e){return e.includes("blue")||e.includes("house_details_09")||e.includes("tube_details")},process:function(e){e.material=t.materialSecondary,e.castShadow=!0,e.receiveShadow=!0}},{filter:function(e){return e.includes("purple")||e.includes("sweep")},process:function(e){e.material=t.materialPrimary,e.castShadow=!0,e.receiveShadow=!0}},{filter:function(e){return e.includes("light")},process:function(e){e.material=t.materialNeon,e.layers.enable(1)}},{filter:function(e){return e.includes("window")||e.includes("door")},process:function(e){e.material=t.materialWindow,e.layers.enable(2)}},{filter:function(e){return e},process:function(e){e.material=t.materialLight,e.castShadow=!0,e.receiveShadow=!0}}];if(e.isMesh){var a=(n.find((function(t){return(0,t.filter)(e.name.toLowerCase())}))||{}).process;a?a(e):console.log("No material process found for",e.name,e),e.name.toLowerCase().includes("loader__area")&&(e.material.side=y.p)}},this.materialBG=new y.T({color:te}),this.materialDark=this.createCommonMaterial(ee),this.materialLight=this.createCommonMaterial(te),this.materialNeon=new y.S({color:ne}),this.materialPaperboard=this.createCommonMaterial(re),this.materialPrimary=this.createCommonMaterial(ae),this.materialSecondary=this.createCommonMaterial(ie),this.materialWindow=new y.S({color:oe})},de=function e(t,n,a){return function(i){var r=.3,o=1666.6666666666667;if(a||!(n&&t.intensity===r||!n&&0===t.intensity)){a||(t.visible=!0);var s=a||i,d=i-s;n?t.intensity=Math.min(d/o,r):(t.intensity=Math.max(r-d/o,0),0===t.intensity&&(t.visible=!1)),d<500&&requestAnimationFrame(e(t,n,s))}}},le=n(126),ce=n.n(le),ue=["canvas","containerWrapper","afterLoadProcess"],me={},he=function e(t){var n=this,a=t.canvas,i=t.containerWrapper,r=t.afterLoadProcess,o=Object(x.a)(t,ue);Object(w.a)(this,e),this.camera=void 0,this.clock=void 0,this.controls=void 0,this.mixer=void 0,this.renderer=void 0,this.scene=void 0,this.stats=void 0,this.labelsRenderer=void 0,this.gui=void 0,this.mouse=void 0,this.raycaster=void 0,this.config=void 0,this.canvas=void 0,this.containerWrapper=void 0,this.afterLoadProcess=void 0,this.bloomLayer=void 0,this.bloomLayer2=void 0,this.bloomComposer=void 0,this.bloomComposer2=void 0,this.finalComposer=void 0,this.sceneBackgroundColor=void 0,this.sceneBackgroundDarkColor=void 0,this.requestAnimationId=void 0,this.addGui=function(){if(n.config.isGuiEnabled){n.gui=new W.a,n.gui.close(),n.gui.addFolder("Ambient light").add(window.ambLight,"intensity",0,1);var e=n.gui.addFolder("Directional light 1 (shadow)");e.add(window.dirLight.position,"x",-3e3,3e3),e.add(window.dirLight.position,"y",0,3e3),e.add(window.dirLight.position,"z",-3e3,3e3);var t=n.gui.addFolder("Directional light 2");t.add(window.dirLight2.position,"x",-3e3,3e3),t.add(window.dirLight2.position,"y",0,3e3),t.add(window.dirLight2.position,"z",-3e3,3e3),t.add(window.dirLight2,"intensity",0,1);var a=n.gui.addFolder("Directional light 3");if(a.add(window.dirLight3.position,"x",-3e3,3e3),a.add(window.dirLight3.position,"y",0,3e3),a.add(window.dirLight3.position,"z",-3e3,3e3),a.add(window.dirLight3,"intensity",0,1),window.bloom){var i=n.gui.addFolder("Bloom 1");i.add(window.bloom,"strength",0,5),i.add(window.bloom,"radius",-3,5)}if(window.bloom2){var r=n.gui.addFolder("Bloom 2");r.add(window.bloom2,"strength",0,5),r.add(window.bloom2,"radius",-3,5)}}},this.render=function(){n.stats&&n.stats.update(),n.controls&&n.controls.update(),n.labelsRenderer&&n.labelsRenderer.render(n.scene,n.camera);var e=n.clock.getDelta();n.mixer&&n.mixer.update(e),n.config.isBloomEnabled?(n.renderBloom(n.bloomComposer,n.bloomLayer),n.config.isDoubleBloomEnabled&&n.renderBloom(n.bloomComposer2,n.bloomLayer2),n.finalComposer.render()):n.renderer.render(n.scene,n.camera),n.requestAnimationId=requestAnimationFrame(n.render)},this.onZoneClick=function(){n.disableControlsRotating()},this.onNoZoneClick=function(){var e;n.enableControlsRotating(),document.querySelectorAll(".poi-pin-wrapper.active").forEach((function(e){return e.classList.remove("active")})),(null===n||void 0===n||null===(e=n.config)||void 0===e?void 0:e.onPinDeselectClick)&&n.config.onPinDeselectClick()},this.addLabelsLayer=function(){var e;n.config.isLabelsEnabled&&(null===(e=n.config.pins)||void 0===e||e.forEach((function(e){var t,a,i=K($,Object(l.a)({hasNoMargin:!0},e.props));null===(t=i.querySelector(".poi-pin"))||void 0===t||t.addEventListener("pointerup",(function(t){t.stopPropagation();var a=t.target.classList.contains("poi-pin")?t.target.parentNode:t.target.parentNode.parentNode;a.classList.add("active"),n.disableControlsRotating(),e.onPinClick&&t.isTrusted&&e.onPinClick(n.scene),document.querySelectorAll(".poi-pin-wrapper.active").forEach((function(e){e!==a&&e.classList.remove("active")}))})),null===(a=i.querySelector(".poi-callout-container"))||void 0===a||a.addEventListener("pointerup",(function(t){t.stopPropagation(),e.onPopupClick&&e.onPopupClick(n.camera,n.controls,n.scene,n.onNoZoneClick)}));var r=new M.a(i);r.position.set(e.position.x,e.position.y,e.position.z),n.scene.add(r)})),n.labelsRenderer=new M.b,n.labelsRenderer.setSize(n.canvas.clientWidth,n.canvas.clientHeight),n.labelsRenderer.domElement.classList.add(ce.a.labelsWrapper),n.containerWrapper.appendChild(n.labelsRenderer.domElement))},this.removeLabelsLayer=function(){var e;n.config.isLabelsEnabled&&(null===n||void 0===n||null===(e=n.labelsRenderer)||void 0===e?void 0:e.domElement)&&n.labelsRenderer.domElement.remove()},this.addCamera=function(){n.camera=new y.eb(75,n.containerWrapper.clientWidth/n.containerWrapper.clientHeight,n.config.cameraNear,n.config.cameraFar),n.camera.setFocalLength(300),n.camera.position.x=n.config.cameraPositionX,n.camera.position.y=n.config.cameraPositionY,n.camera.position.z=n.config.cameraPositionZ},this.addScene=function(){n.scene=new y.rb,window.scene=n.scene,n.sceneBackgroundColor=new y.l("#E9E9EE"),n.sceneBackgroundDarkColor=new y.l("#000"),n.scene.background=n.sceneBackgroundColor},this.addClock=function(){n.clock=new y.k},this.destroyGui=function(){n.gui&&n.gui.destroy()},this.addStats=function(){n.config.isStatsEnabled&&(n.stats=new T.a,n.containerWrapper.appendChild(n.stats.dom))},this.removeStats=function(){n.stats&&n.stats.dom.remove()},this.addRenderer=function(){n.renderer=new y.Lb({canvas:n.canvas}),n.renderer.setSize(n.canvas.clientWidth,n.canvas.clientHeight),n.renderer.setPixelRatio(window.devicePixelRatio),n.renderer.shadowMap.enabled=n.config.isShadowsEnabled,n.renderer.shadowMap.type=y.db},this.controlsRestartTimeout=void 0,this.suspendControlsRotating=function(){n.controls&&(n.controls.autoRotate=!1,clearTimeout(n.controlsRestartTimeout),n.controlsRestartTimeout=setTimeout((function(){n.controls&&(n.controls.autoRotate=!0)}),1e4))},this.enableControlsRotating=function(){n.controls&&(n.controls.autoRotate=!0,clearTimeout(n.controlsRestartTimeout))},this.disableControlsRotating=function(){n.controls&&(n.controls.autoRotate=!1,clearTimeout(n.controlsRestartTimeout))},this.addControls=function(){n.controls=new R(n.camera,n.renderer.domElement),n.controls.target.set(n.config.controlsTargetX,n.config.controlsTargetY,n.config.controlsTargetZ),n.controls.addEventListener("wasMovement",n.suspendControlsRotating)},this.setControlsParams=function(){n.controls&&(n.controls.maxDistance=n.config.controlsMaxDistance,n.controls.minDistance=n.config.controlsMinDistance,n.controls.minPolarAngle=Math.PI/4,n.controls.maxPolarAngle=Math.PI/2.4,n.controls.rotateSpeed=.2,n.controls.autoRotate=!0,n.controls.enableDamping=!0,n.controls.autoRotateSpeed=.5,n.controls.update())},this.removeControls=function(){n.controls&&(n.controls.dispose(),clearTimeout(n.controlsRestartTimeout),n.controls.removeEventListener("wasMovement",n.suspendControlsRotating),n.controls=null)},this.addHelpers=function(){window.color=y.l},this.addLights=function(){var e=new y.b("#fff",.6);n.scene.add(e),window.ambLight=e;var t=new y.o("#ffffff",0);t.position.set(-250,1100,-500),t.position.multiplyScalar(2),n.scene.add(t),window.dirLight=t,t.castShadow=!0,t.shadow.mapSize.width=4096,t.shadow.mapSize.height=4096;var a=1e3;t.shadow.camera.left=-a,t.shadow.camera.right=a,t.shadow.camera.top=a,t.shadow.camera.bottom=-a,t.shadow.camera.far=1e4,t.shadow.bias=-1e-4,t.shadow.normalBias=0;var i=new y.o("#ffffff",.48);i.position.set(-550,300,-550),i.position.multiplyScalar(2),n.scene.add(i),window.dirLight2=i;var r=new y.o("#ffffff",.48);r.position.set(550,300,550),r.position.multiplyScalar(2),n.scene.add(r),window.dirLight3=r},this.addComposers=function(){if(n.config.isBloomEnabled){n.bloomLayer=new y.D,n.bloomLayer.set(1),n.bloomLayer2=new y.D,n.bloomLayer2.set(2);var e=new F.a(n.scene,n.camera),t=new z.a(new y.Hb(window.innerWidth,window.innerHeight),.2,0,0);window.bloom=t,n.bloomComposer=new A.a(n.renderer),n.bloomComposer.renderToScreen=!1,n.bloomComposer.addPass(e),n.bloomComposer.addPass(t);var a=new z.a(new y.Hb(window.innerWidth,window.innerHeight),.2,.2,0);window.bloom2=a,n.bloomComposer2=new A.a(n.renderer),n.bloomComposer2.renderToScreen=!1,n.bloomComposer2.addPass(e),n.bloomComposer2.addPass(a);var i=new N.a(new y.sb({uniforms:{baseTexture:{value:null},bloomTexture:{value:n.bloomComposer.renderTarget2.texture},bloomTexture2:{value:n.bloomComposer2.renderTarget2.texture}},vertexShader:"\n          varying vec2 vUv;\n          void main() {\n          vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n          }\n        ",fragmentShader:"\n          uniform sampler2D baseTexture;\n          uniform sampler2D bloomTexture;\n          uniform sampler2D bloomTexture2;\n          varying vec2 vUv;\n          void main() {\n            gl_FragColor = texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture2, vUv );\n          }\n        ",defines:{}}),"baseTexture");i.needsSwap=!0,n.finalComposer=new A.a(n.renderer),n.finalComposer.addPass(e),n.finalComposer.addPass(i)}},this.darkMaterial=new y.S({color:"black"}),this.materials={},this.darkenNonBloomed=function(e){return function(t){t.isMesh&&!e.test(t.layers)&&(n.materials[t.uuid]=t.material,t.material=n.darkMaterial)}},this.restoreMaterial=function(e){n.materials[e.uuid]&&(e.material=n.materials[e.uuid],delete n.materials[e.uuid])},this.renderBloom=function(e,t){n.scene.background=n.sceneBackgroundDarkColor,n.scene.traverse(n.darkenNonBloomed(t)),e.render(),n.scene.background=n.sceneBackgroundColor,n.scene.traverse(n.restoreMaterial)},this.loadModel=function(){var e=new C.a,t=function(e){var t=e.scene,a=function(){var a=e.animations;a.length&&(n.mixer=new y.d(t),n.mixer.clipAction(a[0]).play())},i=new se;n.scene.add(t),n.scene.traverse(i.processMaterial),n.afterLoadProcess?n.afterLoadProcess(n.scene,(function(){a(),n.hideLoader()}),n.camera,n.setControlsParams,n.onNoZoneClick,n.onZoneClick):(n.setControlsParams(),a(),n.hideLoader())};me[n.config.modelPath]?t(me[n.config.modelPath]):e.load(n.config.modelPath,(function(e){var a;(null===n||void 0===n||null===(a=n.config)||void 0===a?void 0:a.modelPath)&&(me[n.config.modelPath]=e,t(e))}))},this.hideLoader=function(){var e;null===(e=n.containerWrapper)||void 0===e||e.classList.add(ce.a.wrapper_loaded)},this.showLoader=function(){var e;null===(e=n.containerWrapper)||void 0===e||e.classList.remove(ce.a.wrapper_loaded)},this.onMouseMove=function(e){n.mouse.x=e.clientX/window.innerWidth*2-1,n.mouse.y=-e.clientY/window.innerHeight*2+1},this.onMouseClick=function(e){if(e.target===n.canvas)if(n.config.onClick){n.raycaster.setFromCamera(n.mouse,n.camera);var t=n.raycaster.intersectObjects(n.scene.children,!0).map((function(e){return e.object.name}));n.config.onClick(t,n.scene,n.onNoZoneClick,n.onZoneClick)}else n.onNoZoneClick()},this.onTouchStart=function(e){n.onMouseMove(e.touches[0])},this.addMouseListeners=function(){n.raycaster=new y.ob,n.mouse=new y.Hb,window.addEventListener("touchstart",n.onTouchStart),window.addEventListener("pointermove",n.onMouseMove),window.addEventListener("pointerup",n.onMouseClick)},this.removeMouseListeners=function(){n.raycaster=null,n.mouse=null,window.removeEventListener("touchstart",n.onTouchStart),window.removeEventListener("pointermove",n.onMouseMove),window.removeEventListener("pointerup",n.onMouseClick)},this.onWindowResize=function(){var e=n.containerWrapper.clientHeight,t=n.containerWrapper.clientWidth;n.camera.aspect=t/e,n.camera.updateProjectionMatrix(),n.renderer.setSize(t,e),n.labelsRenderer&&n.labelsRenderer.setSize(t,e)},this.destroy=function(){n.requestAnimationId&&cancelAnimationFrame(n.requestAnimationId),n.removeStats(),n.removeLabelsLayer(),n.destroyGui(),n.camera=null,n.clock=null,n.removeControls(),n.mixer=null,n.renderer=null,n.scene=null,n.stats=null,n.labelsRenderer=null,n.config=null,n.canvas=null,n.showLoader(),n.containerWrapper=null,n.bloomLayer=null,n.bloomLayer2=null,n.bloomComposer=null,n.bloomComposer2=null,n.finalComposer=null,n.removeMouseListeners(),window.removeEventListener("resize",n.onWindowResize)},this.config=o,this.canvas=a,this.containerWrapper=i,this.afterLoadProcess=r,this.addClock(),this.addStats(),this.addHelpers(),this.addScene(),this.addCamera(),this.addRenderer(),this.addMouseListeners(),this.addControls(),this.addLights(),this.addComposers(),this.addLabelsLayer(),B.a.init(),window.addEventListener("resize",this.onWindowResize),this.loadModel(),this.addGui(),this.render()},fe=function(e){var t=e.className,n=e.config,a=e.afterLoadProcess,r=Object(i.createRef)(),o=Object(i.createRef)(),s=Object(i.createRef)();return Object(i.useEffect)((function(){var e;if((null===r||void 0===r?void 0:r.current)&&(null===s||void 0===s?void 0:s.current))return setTimeout((function(){(null===r||void 0===r?void 0:r.current)&&(null===s||void 0===s?void 0:s.current)&&(e=new he(Object(l.a)({canvas:r.current,containerWrapper:s.current,afterLoadProcess:a},n)))}),100),function(){e&&e.destroy()}}),[n,r,o,s]),Object(G.jsxs)("div",{className:v()(ce.a.wrapper,t),ref:s,children:[Object(G.jsx)("canvas",{className:ce.a.canvas,ref:r}),Object(G.jsx)("div",{className:ce.a.loader,children:Object(G.jsx)(H,{isAbsolute:!0})})]})},pe={},ve=function(e,t,n,a,i,r){Object.entries(pe).forEach((function(a){var i=Object(c.a)(a,2),r=i[0];i[1]&&!t.includes(r)&&(null===e||void 0===e||e[r].lights.forEach((function(e){var t=n.getObjectByName(e.name);t?requestAnimationFrame(de(t,!1)):console.log("".concat(e.name," light was not found"))})),e[r].pinsIds.forEach((function(e){var t;null===(t=document.querySelector("#".concat(e)))||void 0===t||t.classList.remove("active")})),pe[r]=!1)}));var o=!1;Object.keys(e).forEach((function(a){t.includes(a)&&(o=!0,null===e||void 0===e||e[a].lights.forEach((function(e){var t=n.getObjectByName(e.name);t?requestAnimationFrame(de(t,!0)):console.log("".concat(e.name," light was not found"))})),pe[a]=!0,e[a].pinsIds.forEach((function(e){setTimeout((function(){var t;null===(t=document.querySelector("#".concat(e)))||void 0===t||t.classList.add("active")}),100)})))})),o?a||(document.querySelectorAll(".poi-pin-wrapper.active").forEach((function(e){return e.classList.remove("active")})),r&&r()):i&&i()},ge=function(e){var t=e.className,n=e.data,a=e.place,i=e.isOuterNavigation,r=Object.entries(n).reduce((function(e,t){var n=Object(c.a)(t,2),a=n[0],i=n[1];return e.length?parseFloat(i)<e[1]?[a,i]:e:[a,parseFloat(i)]}),[]),o=Object(c.a)(r,2),s=o[0],d=o[1],u=function(e){var t="Plant Atlanta"===e?"./models/factory2":"./models/factory";return{areasByName:"Plant Atlanta"===e?{"Workshop area":{height:430,originalAreaNames:{"Plant Frankfurt":"Machining Area 1","Plant Beijing":"Machining Area 3","Plant Atlanta":"Machining Area 5"},lights:[{width:310,height:50,name:"Workshop area light 1",x:-480,y:50,z:365,rX:-90,rY:-45,rZ:-90},{width:310,height:50,name:"Workshop area light 2",x:-15,y:50,z:365,rX:-90,rY:45,rZ:-90},{width:330,height:50,name:"Workshop area light 3",x:-300,y:50,z:560,rX:-45,rY:0,rZ:0},{width:400,height:50,name:"Workshop area light 4",x:-255,y:50,z:190,rX:225,rY:0,rZ:0}],pinsIds:["WorkshopAreaPin"],width:355,x:-233,z:377}}:{"Workshop area":{height:450,originalAreaNames:{"Plant Frankfurt":"Machining Area 1","Plant Beijing":"Machining Area 3","Plant Atlanta":"Machining Area 5"},lights:[{width:480,height:50,name:"Workshop area light 1",x:-480,y:50,z:450,rX:-90,rY:-45,rZ:-90},{width:480,height:50,name:"Workshop area light 2",x:-15,y:50,z:450,rX:-90,rY:45,rZ:-90},{width:330,height:50,name:"Workshop area light 3",x:-300,y:50,z:730,rX:-45,rY:0,rZ:0},{width:400,height:50,name:"Workshop area light 4",x:-255,y:50,z:190,rX:225,rY:0,rZ:0}],pinsIds:["WorkshopAreaPin"],width:525,x:-238,z:452}},cameraFar:25e3,cameraNear:4e3,cameraPositionX:-13852,cameraPositionY:4324,cameraPositionZ:5534,controlsMaxDistance:16e3,controlsMinDistance:5e3,controlsTargetX:-117,controlsTargetY:0,controlsTargetZ:170,isBloomEnabled:!1,isDoubleBloomEnabled:!1,isLabelsEnabled:!0,isShadowsEnabled:!0,modelFolderPath:t,modelPath:"".concat(t,"/factory.gltf"),pinPosition:"Plant Atlanta"===e?{x:-220,y:100,z:380}:{x:-230,y:110,z:590},cameraFinalTarget:"Plant Atlanta"===e?[-140,0,305]:[-150,0,515]}}(a);return Object(G.jsx)(fe,{className:t,config:Object(l.a)(Object(l.a)({},u),{},{isOuterNavigation:i,pins:a?[{position:u.pinPosition,props:{hasTransfer:!0,id:"WorkshopAreaPin",info:d<.9?"Line Availability in ".concat(s," \u2014 ").concat((100*d).toFixed(2),"%"):"",status:d<.8?"danger":d<.9?"warning":"normal",title:d>=.9?"More Details":"Low performance"},onPinClick:function(e){ve(u.areasByName,["Workshop area"],e,!0)},onPopupClick:function(e,t,n,r){var o=e.position,s=o.x,d=o.y,l=o.z,m=function(e,t){var n=e-t,a=Math.abs(n)-3e3;return n>0?e-a:e+a},h=m(s,-150),f=m(d,-110),p=m(l,515),v=t.target,g=v.x,b=v.y,y=v.z,x=Object(c.a)(u.cameraFinalTarget,3),w=x[0],T=x[1],M=x[2];requestAnimationFrame(function o(c){return function(m){var v=c||m,x=m-v,A=x/2e3;e&&e.position.set(s-(s-h)*A,d-(d-f)*A,l-(l-p)*A),t&&t.target.set(g-(g-w)*A,b-(b-T)*A,y-(y-M)*A),x<2e3?requestAnimationFrame(o(v)):(_("WORKSHOP DETAILS ".concat(a)),i?window.location.hash="#workshop/".concat(a):setTimeout((function(){e&&e.position.set(u.cameraPositionX,u.cameraPositionY,u.cameraPositionZ),t&&t.target.set(u.controlsTargetX,u.controlsTargetY,u.controlsTargetZ),ve(u.areasByName,[],n,!1,r)}),7e3))}}())}}].concat(Object(b.a)("Plant Frankfurt"===a?[{position:{x:-17,y:62,z:-347},props:{hasTransfer:!0,id:"WarehouseAreaPin",info:"",status:"normal",title:"Warehouse Details"},onPopupClick:function(e,t,n,r){var o=e.position,s=o.x,d=o.y,l=o.z,c=function(e,t){var n=e-t,a=Math.abs(n)-3e3;return n>0?e-a:e+a},m=c(s,-150),h=c(d,-110),f=c(l,515),p=t.target,v=p.x,g=p.y,b=p.z;requestAnimationFrame(function o(c){return function(p){var y=c||p,x=p-y,w=x/2e3;e&&e.position.set(s-(s-m)*w,d-(d-h)*w,l-(l-f)*w),t&&t.target.set(v-(v- -17)*w,g-(g-0)*w,b-(b- -347)*w),x<2e3?requestAnimationFrame(o(y)):(_("WAREHOUSE DETAILS ".concat(a)),i?window.location.hash="#warehouse/".concat(a):setTimeout((function(){e&&e.position.set(u.cameraPositionX,u.cameraPositionY,u.cameraPositionZ),t&&t.target.set(u.controlsTargetX,u.controlsTargetY,u.controlsTargetZ),ve(u.areasByName,[],n,!1,r)}),7e3))}}())}}]:[])):[],onClick:function(e,t,n,a){ve(u.areasByName,e,t,!1,n,a)}}),afterLoadProcess:function(e,t,n,i){Object.entries(u.areasByName).forEach((function(t){var n=Object(c.a)(t,2),a=n[0],i=n[1],r=new y.fb(i.width,i.height),o=new y.S({color:"red"}),s=new y.R(r,o);s.name=a,s.position.set(i.x,.1,i.z),s.rotation.x=y.P.degToRad(-90),s.rotation.z=y.P.degToRad(-90),s.visible=!1,e.add(s),i.lights.forEach((function(t){var n=new y.pb("#9728d3",0,t.width,t.height);n.name=t.name,n.position.set(t.x,t.y,t.z),n.rotation.set(y.P.degToRad(t.rX),y.P.degToRad(t.rY),y.P.degToRad(t.rZ)),n.visible=!1,e.add(n)}))}));var r=new y.Bb;Promise.all([new Promise((function(t){r.load("".concat(u.modelFolderPath,"/scene.jpg"),(function(n){n.flipY=!1;var a=e.getObjectByName("Scene")||e.getObjectByName("Scene1");if(!a)return console.log('Object "sceneObj" not found'),void t();a.material=new y.V({color:"#fff",map:n,side:y.p}),a.castShadow=!1,a.receiveShadow=!1,t()}))})),new Promise((function(t){r.load("".concat(u.modelFolderPath,"/containers.jpg"),(function(n){n.flipY=!1;var i=e.getObjectByName("Box001")||e.getObjectByName("Container");if(!i)return console.log('Object "Box001" not found'),void t();i.material=new y.S({color:"#fff",map:n}),i.castShadow=!1,i.receiveShadow=!1,"Plant Atlanta"!==a&&(i.position.z=-123.54830169677734),t()}))}))].concat(Object(b.a)([["loader__1","loader-1.jpg"],["loader__2","loader-2.jpg"],["loader__3","loader-3.jpg"],["loader__4","loader-4.jpg"],["loader_01_grey","loader-1-grey.jpg"],["loader_02_grey","loader-2-grey.jpg"],["loader_03_grey","loader-3-grey.jpg"],["loader_04_grey","loader-4-grey.jpg"],["loader__1_purple","loader-1-purple.jpg"],["loader__2_purple","loader-2-purple.jpg"],["loader__3_purple","loader-3-purple.jpg"],["loader__4_purple","loader-4-purple.jpg"]].map((function(t){var n=Object(c.a)(t,2),a=n[0],i=n[1];return new Promise((function(t){r.load("".concat(u.modelFolderPath,"/").concat(i),(function(n){n.flipY=!1;var i=e.getObjectByName(a);i||(console.log('Object "'.concat(a,'" not found')),t()),i.material=new y.S({color:"#fff",map:n}),i.castShadow=!0,i.receiveShadow=!1,t()}),(function(){}),(function(){t()}))}))}))),[new Promise((function(t){r.load("".concat(u.modelFolderPath,"/floor.jpg"),(function(n){n.flipY=!1;var a=e.getObjectByName("Floor");if(!a)return console.log('Object "floorObj" not found'),void t();a.material=new y.V({color:"#fff",map:n}),a.castShadow=!1,a.receiveShadow=!1;var i=new y.fb(1e3,2e3),r=new y.tb;r.opacity=.1;var o=new y.R(i,r);o.rotation.x=y.P.degToRad(-90),o.position.y=.01,o.receiveShadow=!0,e.add(o);var s=new y.fb(8e3,8e3),d=new y.V({color:"#e3e5ea"}),l=new y.R(s,d);l.rotation.x=y.P.degToRad(-90),l.position.y=-.01,e.add(l),t()}))}))])).then((function(){var a=e.getObjectByName("Camera1");if(!a)return g(),t(),void i();var r=!0,o=function(){n.position.set(7*a.position.x,5*a.position.y,a.position.z),n.rotation.set(a.rotation.x,a.rotation.y,a.rotation.z)};o(),g(),t(),requestAnimationFrame((function e(){o(),r&&requestAnimationFrame(e)})),setTimeout((function(){r=!1,i()}),4e3)})).catch((function(){g(),t(),i()}))}})},be=r.a.memo(ge),ye=n(224),_e=n.n(ye),xe=function(e){var t=e.className,n=e.modelData,a=Object(m.e)().place,r=n[a]||{};return Object(i.useEffect)((function(){g()}),[]),Object(G.jsx)("div",{className:v()(_e.a.factoryPage,t),children:Object(G.jsx)(be,{className:_e.a.factoryModel,data:r,place:a,isOuterNavigation:!0})})},we=n(4),Te=n(62),Me=function(e){Object(O.a)(n,e);var t=Object(S.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(we.a)(n,[{key:"createElement",value:function(){var e,t,n=this.definition.data,a=n.status,i=n.style,r=n.isBest,o=n.statusInfo,s=n.hasTransfer,d=n.name,l=n.value,c=K($,{hasTransfer:s,hasValueBg:!0,id:"pin-".concat(null===(e=this.definition.data)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.replace(/ /g,"")),isBest:r,info:o,status:a,style:i,title:d,value:l});return this.onClick=this.onClick.bind(this),c.querySelector(".poi-pin").addEventListener("click",this.onClick),this.onContainerClick=this.onContainerClick.bind(this),c.querySelector(".poi-callout-container").addEventListener("click",this.onContainerClick),c}},{key:"setPosition",value:function(e){var t=e.screen.x,n=e.screen.y;this.element.style.transform="translate(".concat(t.toFixed(2),"px, ").concat(n.toFixed(2),"px)"),this.element.style.zIndex=Math.round(1e4*e.screen.y),e.world.similarityToCameraVector<.3?this.element.classList.add("hidden"):this.element.classList.remove("hidden")}},{key:"onClick",value:function(){document.querySelectorAll(".poi-pin-wrapper").forEach((function(e){return e.classList.remove("active")})),this.element.classList.add("active"),this.element.dispatchEvent(new CustomEvent("pinclick",{bubbles:!0,detail:this.definition}))}},{key:"onContainerClick",value:function(){this.element.dispatchEvent(new CustomEvent("pinContainerClick",{bubbles:!0,detail:this.definition}))}}]),n}(Te.c),Ae=function(e){Object(O.a)(n,e);var t=Object(S.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(we.a)(n,[{key:"createElement",value:function(){var e=document.createElement("div");return e.className="poi-callout-container-wrapper",e.innerHTML='<div class="poi-callout-container">\n      <div class="poi-callout-container__title">'.concat(this.definition.data.name,"</div>\n    </div>"),document.createElement("span")}},{key:"setPosition",value:function(e){}}]),n}(Te.c),Ce=n(293),je=n(226),Oe=n.p+"static/media/clouds.fe9768eb.png",Se=n.p+"static/media/New_Globe.c198f739.png",Pe=n.p+"static/media/back.afadfc84.jpg",Le=n.p+"static/media/worldmap_countries_global.245f0c31.png",De=n.p+"static/media/worldmap_countries_americas.91cd9706.png",Ee=n.p+"static/media/worldmap_countries_apj.9230da2a.png",Ie=n.p+"static/media/worldmap_countries_emea.303076cf.png",ke=n.p+"static/media/worldmap_countries_ids.8ae32d39.png",Re={EMEA:[38.3,30.5],APJ:[-.3,115.1],AMERICAS:[19.8,-75.4]},Fe={activeColor:Te.f.hexToRGB("#4C02A7"),activeCircleDiameter:.005,dangerRippleColor:Te.f.hexToRGB("#f7363e"),warningRippleColor:Te.f.hexToRGB("#ff9900"),rippleColor:Te.f.hexToRGB("#6700e7"),rippleDuration:4e3,rippleWidth:.1,rippleHeight:.1},Ne=function(){function e(t,n,a,i,r,o){var s=this;Object(w.a)(this,e),this.onMessage=function(e){var t,n,a,i,r,o,d;try{d=JSON.parse(e.data)}catch(h){d=e.data}var l=[].concat(Object(b.a)(d?Object.keys(d):[]),Object(b.a)(d.value?Object.keys(d.value):[]));if(l.includes("Country")&&l.includes("Region")){var c=(null===(t=d)||void 0===t?void 0:t.Country)||(null===(n=d)||void 0===n||null===(a=n.value)||void 0===a?void 0:a.Country),u=(null===(i=d)||void 0===i?void 0:i.Region)||(null===(r=d)||void 0===r||null===(o=r.value)||void 0===o?void 0:o.Region)||{US:"AMERICAS",CN:"APJ",IN:"APJ",SG:"APJ",DE:"EMEA",FR:"EMEA",GB:"EMEA",NL:"EMEA"}[c],m=Re[u];m?s.gkview.animationController.animateLatLonAlt(m[0],m[1],4,{duration:1500,onComplete:function(){s.selectRegionByName(u,m[0],m[1])}}):s.pointglobe&&s.selectRegionByName("NOCLICK")}},this.setRegionTextureByRegionName=function(e){var t={AMERICAS:s.pointglobe.material.textures.americas,APJ:s.pointglobe.material.textures.apj,EMEA:s.pointglobe.material.textures.emea,default:s.pointglobe.material.textures.bgTexture};s.pointglobe.material.uniforms.uBgTexture=t[e]||t.default},this.selectRegionByName=function(e,t,n){document.querySelectorAll(".poi-pin-wrapper").forEach((function(e){return e.classList.remove("active")})),s.pointglobe.material.uniforms.uActiveCircleDiameter=0,s.selectedDetailDef=null,s.calloutManager.replaceCallouts(s.pinDefs),s.gkview.ambientController.isEnabled="NOCLICK"===e,s.gkview.ambientController._ambientStrength=1,setTimeout((function(){s.setRegionTextureByRegionName(e)}),100),"NOCLICK"!==e&&s.pointglobe.rippleAtLocation(t,n,{activeColor:Fe.activeColor,duration:Fe.rippleDuration,width:Fe.rippleWidth,height:Fe.rippleHeight,rippleColor:Fe.rippleColor})},this.checkAndStartTour=function(e){"KeyT"===e.code?s.goTour():"KeyA"===e.code?s.clickPin("Plant Atlanta"):"KeyB"===e.code?s.clickPin("Plant Beijing"):"KeyF"===e.code&&s.clickPin("Plant Frankfurt")},this.stopTour=function(){clearTimeout(s.tourTimeoutId)},this.addTourListeners=function(){window.addEventListener("keyup",s.stopTour),window.addEventListener("keyup",s.checkAndStartTour),window.addEventListener("pointerdown",s.stopTour),s.isOuterNavigation||window.addEventListener("message",s.stopTour)},this.removeTourListeners=function(){s.stopTour(),window.removeEventListener("keyup",s.stopTour),window.removeEventListener("keyup",s.checkAndStartTour),window.removeEventListener("pointerdown",s.stopTour),s.isOuterNavigation||window.removeEventListener("message",s.stopTour)},this.clickRegion=function(e){var t=Re[e];t&&s.gkview.animationController.animateLatLonAlt(t[0],t[1],4,{duration:2e3,onComplete:function(){_(e),s.selectRegionByName(e,t[0],t[1])}})},this.clickPin=function(e){var t,n=null===(t=je.features.find((function(t){return t.properties.name===e})))||void 0===t?void 0:t.properties;if(n){var a=document.querySelector("#pin-".concat(n.name.replace(/ /g,"")," .poi-pin"));s.gkview.animationController.animateLatLonAlt(n.coordinates[1],n.coordinates[0],4,{duration:2e3,onComplete:function(){null===a||void 0===a||a.click()}})}},this.goTour=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[["AMERICAS","region"],["DC Seattle","pin"],["Plant Atlanta","pin"],["EMEA","region"],["DC Rotterdam","pin"],["Plant Frankfurt","pin"],["APJ","region"],["Plant Beijing","pin"],["DC Hong Kong","pin"]],n=Object(c.a)(t[e],2),a=n[0],i=n[1];"region"===i?s.clickRegion(a):s.clickPin(a),s.tourTimeoutId=setTimeout((function(){s.goTour(e+1===t.length?0:e+1)}),1e4)},this.destroy=function(){s.removeTourListeners(),s.calloutContainer.removeEventListener("pinclick",s.onPinClick),s.calloutContainer.removeEventListener("pinContainerClick",s.onPinContainerClick),window.removeEventListener("message",s.onMessage),s.atmosphere=null,s.calloutManager.removeAllCallouts(),s.calloutManager=null,s.pointglobe=null,s.gkview=null},this.gkOptions={apiKey:"{YOUR_GLOBEKIT_API_KEY}",wasmPath:"./models/gk/gkweb_bg.wasm",attributes:{alpha:!0},clearColor:[0,0,0,0]},this.gkview=new Te.g(t,this.gkOptions),this.gkview.addDrawable(new Te.b(Pe)),this.lightingImg=a,this.isOuterNavigation=i,this.calloutContainer=n,this.calloutManager=new Te.e(n),this.gkview.registerCalloutManager(this.calloutManager),this.calloutManager.shouldAutoRemoveCallout=function(e){return e.calloutClass!==Me},this.onPinClick=this.onPinClick.bind(this),this.calloutContainer.addEventListener("pinclick",this.onPinClick),this.onPinContainerClick=this.onPinContainerClick.bind(this),this.calloutContainer.addEventListener("pinContainerClick",this.onPinContainerClick),window.addEventListener("message",this.onMessage);var d=Object.entries(r).reduce((function(e,t){var n=Object(c.a)(e,2),a=n[0],i=n[1],r=Object(c.a)(t,2),o=r[0],s=r[1],d=parseFloat(i);return parseFloat(s)>d?[o,s]:[a,i]})),u=Object(c.a)(d,1)[0];this.pinDefs=je.features.map((function(e){var t=e.geometry.coordinates[1],n=e.geometry.coordinates[0],a=parseFloat(r[e.properties.name]),i=e.properties.name===u;return new Te.d(t,n,Me,Object(l.a)(Object(l.a)({},e.properties),Number.isFinite(a)?{hasTransfer:!0,isBest:i,status:a<.8?"danger":a<.9?"warning":"normal",statusInfo:i?"High\xa0Availability\xa0Plant":a>=.9?"":"Deviation of the plant availability \u2014 ".concat((100*(.9-a)).toFixed(2),"%"),value:"".concat((100*a).toFixed(2),"%")}:{}))})),this.calloutManager.replaceCallouts(this.pinDefs),this.gkview.onSelection=function(e){e.drawables.forEach((function(e){var t,n,a;if((null===e||void 0===e?void 0:e.obj.id)===(null===s||void 0===s||null===(t=s.pointglobe)||void 0===t?void 0:t.id)){var i=null===e||void 0===e||null===(n=e.selection)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.name;i&&(_(i),s.selectRegionByName(i,e.selection.lat,e.selection.lon))}}))},this.atmosphere=new Te.a({texture:Se}),this.gkview.addDrawable(this.atmosphere),fetch("./models/gk/pointglobe.bin").then((function(e){return e.arrayBuffer()})).then((function(e){var t={noise:Oe,id:ke,bgTexture:Le,americas:De,apj:Ee,emea:Ie};s.pointglobe=new Te.h(t,e,{activeColor:"#A100FF",activeColorOffset:8e-4,pointSize:.006,pointAlpha:1,randomPointSizeVariance:.005,randomPointSizeRatio:.6,minPointAlpha:0,color:"#FFFFFF"}),s.pointglobe.setInteractive(!0,!0,!0),s.pointglobe.addDataset(Ce.countries)})).then((function(){s.pointglobe&&s.gkview&&s.gkview.addDrawable(s.pointglobe,(function(){s.gkview.startDrawing(),o()}))})),this.addTourListeners()}return Object(we.a)(e,[{key:"onPinClick",value:function(e){var t=e.detail.latitude,n=e.detail.longitude,a=e.detail.data;_(e.detail.data.name);var i="warning"===e.detail.data.status?Fe.warningRippleColor:"danger"===e.detail.data.status?Fe.dangerRippleColor:Fe.rippleColor;this.pointglobe.rippleAtLocation(t,n,{activeColor:i,activeCircleDiameter:Fe.activeCircleDiameter,duration:7e3,height:.02,rippleColor:i,width:.02}),this.gkview.ambientController.isEnabled=!1,this.setRegionTextureByRegionName("default"),this.selectedDetailDef=new Te.d(t,n,Ae,a),this.calloutManager.replaceCallouts([].concat(Object(b.a)(this.pinDefs),[this.selectedDetailDef]))}},{key:"onPinContainerClick",value:function(e){var t=this;e.detail.data.hasTransfer&&(this.lightingImg.style.opacity=0,document.querySelectorAll(".poi-pin-wrapper").forEach((function(e){return e.classList.remove("active")})),setTimeout((function(){document.querySelectorAll(".poi-pin-wrapper").forEach((function(e){return e.classList.add("hide")}))}),1300),this.gkview.animationController.animateLatLonAlt(e.detail.data.coordinates[1],e.detail.data.coordinates[0],-1,{duration:2e3,onComplete:function(){_("DETAILS ".concat(e.detail.data.name)),t.isOuterNavigation?window.location.hash="#factory/".concat(e.detail.data.name):setTimeout((function(){t.lightingImg.style.opacity=1,document.querySelectorAll(".poi-pin-wrapper").forEach((function(e){e.classList.remove("hide"),e.classList.remove("active")})),t.pointglobe.material.uniforms.uActiveCircleDiameter=0,t.selectedDetailDef=null,t.calloutManager.replaceCallouts(t.pinDefs),t.gkview.animationController.animateLatLonAlt(e.detail.data.coordinates[1],e.detail.data.coordinates[0],4,{duration:0}),t.gkview.ambientController.isEnabled=!0,t.gkview.ambientController._ambientStrength=1}),7e3)}}))}}]),e}(),ze=n.p+"static/media/lighting.22e2e5f3.png",We=(n(358),n(127)),Be=n.n(We),Ue=function(e){var t=e.className,n=e.data,a=e.isOuterNavigation,r=Object(i.createRef)(),o=Object(i.createRef)(),s=Object(i.createRef)(),d=Object(i.createRef)();return Object(i.useEffect)((function(){if(r.current&&d.current&&s.current&&o.current){var e=new Ne(r.current,d.current,o.current,a,n,(function(){s.current&&(s.current.classList.add(Be.a.loaderLoaded),setTimeout((function(){s.current&&(s.current.hidden=!0)}),750)),g()}));return function(){e.destroy()}}}),[r,d,s]),Object(G.jsxs)("div",{className:v()(Be.a.wrapper,t),children:[Object(G.jsx)("canvas",{className:Be.a.canvas,ref:r}),Object(G.jsx)("img",{src:ze,className:Be.a.lighting,alt:"",ref:o}),Object(G.jsx)("div",{className:Be.a.callout,ref:d}),Object(G.jsx)("div",{ref:s,className:Be.a.loader,children:Object(G.jsx)(H,{isAbsolute:!0})})]})},Ye=r.a.memo(Ue),Ge=n(227),He=n.n(Ge),Ve=function(e){var t=e.data;return Object(G.jsx)("div",{className:He.a.modelPage,children:Object(G.jsx)(Ye,{className:He.a.model,data:t})})},Je=n(81),Ke=n.n(Je),Xe=function(e){var t,n=e.cardClassName,a=e.children,i=e.className,r=e.hasHover,o=e.hasPadding,s=e.row,l=void 0!==s&&s,c=e.subtitle,u=e.title,m=e.titleButtons,h=e.titleWrapperClassName,f=e.variant,p=void 0===f?0:f;return Object(G.jsxs)("div",{className:v()(Ke.a.wrapper,i,Ke.a["wrapper_variant-".concat(p)]),children:[(u||c)&&Object(G.jsxs)("div",{className:v()(h,Ke.a.titleWrapper),children:[u&&Object(G.jsx)("span",{className:Ke.a.title,children:u}),c&&Object(G.jsx)("span",{className:Ke.a.subTitle,children:c}),m&&Object(G.jsx)("div",{className:Ke.a.titleButtons,children:m})]}),Object(G.jsx)("div",{className:v()(n,Ke.a.card,l&&Ke.a.cardRow,Ke.a["card_variant-".concat(p)],(t={},Object(d.a)(t,Ke.a.card_hasHover,r),Object(d.a)(t,Ke.a.card_hasPadding,o),t)),children:a})]})},qe=n(518),Qe=(n(359),n(228)),Ze=n.n(Qe),$e=function(e){var t=e.className,n=e.height,a=e.size,i=void 0===a?"medium":a,r=e.width;return Object(G.jsx)("div",{className:v()(Ze.a.loadingSkeleton,Ze.a[i],t),style:{height:n,width:r}})},et=["title","titleId"];function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function nt(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function at(e,t){var n=e.title,r=e.titleId,o=nt(e,et);return i.createElement("svg",tt({fill:"none",height:8,viewBox:"0 0 10 8",width:10,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,a||(a=i.createElement("path",{d:"M0 8H10L5 0L0 8Z",fill:"currentColor"})))}var it,rt=i.forwardRef(at),ot=(n.p,n(294)),st=n.n(ot),dt=n(43),lt=n.n(dt),ct=function(e){var t=e.className;return Object(G.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(G.jsx)("path",{d:"M11 8.50006V11.5001C11 11.7653 10.8946 12.0197 10.7071 12.2072C10.5195 12.3948 10.2652 12.5001 9.99996 12.5001H4.49999C4.23478 12.5001 3.98043 12.3948 3.79289 12.2072C3.60536 12.0197 3.5 11.7653 3.5 11.5001V6.00002C3.5 5.7348 3.60536 5.48044 3.79289 5.2929C3.98043 5.10536 4.23478 5 4.49999 5H7.49998",stroke:"#7E898F",strokeWidth:"0.9",strokeLinecap:"round",strokeLinejoin:"round"}),Object(G.jsx)("path",{d:"M9.49988 3.5H12.4999V6.50005",stroke:"#7E898F",strokeWidth:"0.9",strokeLinecap:"round",strokeLinejoin:"round"}),Object(G.jsx)("path",{d:"M7 9.00009L12.5 3.5",stroke:"#7E898F",strokeWidth:"0.9",strokeLinecap:"round",strokeLinejoin:"round"})]})},ut=function(e){var t,n=e.animateKpi,a=e.children,o=e.className,s=e.deviation,u=e.deviationDirection,m=e.hoverChildren,h=e.infoTitle,f=e.infoValue,p=e.kpi,g=e.kpiTextSize,b=void 0===g?"medium":g,y=e.loading,_=e.noPadding,x=e.onClick,w=e.status,T=e.title,M=e.titleDescription,A=e.titleHref,C=A?"a":"div",j=Object(i.useState)(0),O=Object(c.a)(j,2),S=O[0],P=O[1];return Object(i.useEffect)((function(){return function(){P(parseFloat(String(p)))}}),[p,P]),Object(G.jsxs)("div",{className:v()(lt.a.item,o,(t={},Object(d.a)(t,lt.a.item_danger,"danger"===w),Object(d.a)(t,lt.a.item_warning,"warning"===w),Object(d.a)(t,lt.a.item_primary,"primary"===w),Object(d.a)(t,lt.a.item_noPadding,_),t)),onClick:x,children:[Object(G.jsx)("div",{className:lt.a.titleWrapper,children:Object(G.jsxs)(C,Object(l.a)(Object(l.a)({className:lt.a.title},A?{href:A,target:"_blank",rel:"noreferrer noopener"}:{}),{},{children:[T,M&&Object(G.jsx)("span",{className:lt.a.titleDescription,children:M}),"danger"===w&&Object(G.jsx)(qe.a,{className:lt.a.titleIcon,name:"message-warning"}),A&&Object(G.jsx)(ct,{className:lt.a.titleLinkIcon})]}))}),m&&Object(G.jsx)("div",{className:lt.a.hoverContentWrapper,children:m}),Object(G.jsxs)("div",{className:lt.a.contentWrapper,children:[void 0!==p&&Object(G.jsx)(r.a.Fragment,{children:y?Object(G.jsx)($e,{size:b}):Object(G.jsx)("div",{className:v()(lt.a.kpi,lt.a["kpi_".concat(b)]),children:n?Object(G.jsx)(st.a,{duration:1,start:S,suffix:String(p).includes("%")?"%":"",end:parseFloat(String(p)),decimals:String(parseFloat(String(p))).includes(".")?String(parseFloat(String(p))).split(".")[1].length:0}):p})}),Object(G.jsxs)("div",{className:v()(lt.a.deviationWrapper,"up"===u?lt.a.deviationWrapper_up:lt.a.deviationWrapper_down),children:[u&&Object(G.jsx)(rt,{className:v()(lt.a.deviationIcon,"up"===u?lt.a.deviationIcon_up:lt.a.deviationIcon_down)}),Object(G.jsx)("span",{className:lt.a.deviation,children:s})]}),Object(G.jsxs)("div",{className:lt.a.subInfo,children:[Object(G.jsx)("div",{className:lt.a.subInfoTitle,children:h}),Object(G.jsx)("div",{className:lt.a.subInfoValue,children:f})]})]}),a&&Object(G.jsx)("div",{className:lt.a.content,children:a})]})},mt=n(519),ht=n(529),ft=n(165),pt=n(185),vt=n(523),gt=n(317),bt=n(182),yt=n(184),_t=["title","titleId"];function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function wt(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tt(e,t){var n=e.title,a=e.titleId,r=wt(e,_t);return i.createElement("svg",xt({xmlns:"http://www.w3.org/2000/svg",width:17,height:8,viewBox:"0 0 17 8",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,it||(it=i.createElement("path",{d:"M8.82142 6.85942C8.77476 7.09808 8.22524 7.09808 8.17858 6.85942C7.8867 5.36675 7.36617 3.47444 6.5 2.5C4.9379 0.742639 3.5 -1.82822e-07 0.500002 -1.39876e-06L16.5 0C14 -2.18557e-07 12.0621 0.74264 10.5 2.5C9.63383 3.47444 9.1133 5.36675 8.82142 6.85942Z"})))}var Mt,At,Ct,jt=i.forwardRef(Tt),Ot=(n.p,n(162)),St=n.n(Ot),Pt={global:[{name:"Sep",revenue:7.48,cogs:5.3,profit:2.24},{name:"Oct",revenue:7.53,cogs:5.2,profit:2.38},{name:"Nov",revenue:7.6,cogs:5.19,profit:2.45},{name:"Dec",revenue:7.57,cogs:5.25,profit:2.38},{name:"Jan",revenue:7.87,cogs:5.39,profit:2.52},{name:"Feb",revenue:6.95,cogs:4.95,profit:2.05},{name:"Mar",revenue:7.78,cogs:5.31,profit:2.5},{name:"Apr",revenue:7.52,cogs:5.2,profit:2.36},{name:"May",revenue:7.69,cogs:5.34,profit:2.4},{name:"Jun",revenue:7.28,cogs:5.26,profit:2.45},{name:"Jul",revenue:7.69,cogs:6.57,profit:1.56},{name:"Aug",revenue:8.12,cogs:6.79,profit:1.67}],americas:[{name:"Sep",revenue:1.92,cogs:1.35,profit:.57},{name:"Oct",revenue:2.17,cogs:1.46,profit:.73},{name:"Nov",revenue:2.5,cogs:1.42,profit:.64},{name:"Dec",revenue:2.11,cogs:1.5,profit:.63},{name:"Jan",revenue:2.16,cogs:1.52,profit:.66},{name:"Feb",revenue:1.92,cogs:1.4,profit:.54},{name:"Mar",revenue:2.12,cogs:1.44,profit:.69},{name:"Apr",revenue:2.06,cogs:1.43,profit:.64},{name:"May",revenue:2,cogs:1.39,profit:.63},{name:"Jun",revenue:1.99,cogs:1.43,profit:.69},{name:"Jul",revenue:2.07,cogs:1.79,profit:.39},{name:"Aug",revenue:2.18,cogs:1.86,profit:.43}],apj:[{name:"Sep",revenue:2.72,cogs:1.94,profit:.8},{name:"Oct",revenue:2.72,cogs:1.89,profit:.83},{name:"Nov",revenue:2.78,cogs:1.91,profit:.89},{name:"Dec",revenue:2.67,cogs:1.87,profit:.81},{name:"Jan",revenue:2.83,cogs:1.93,profit:.91},{name:"Feb",revenue:2.55,cogs:1.75,profit:.82},{name:"Mar",revenue:2.88,cogs:1.96,profit:.92},{name:"Apr",revenue:2.75,cogs:1.87,profit:.88},{name:"May",revenue:2.83,cogs:1.97,profit:.88},{name:"Jun",revenue:2.8,cogs:1.98,profit:.98},{name:"Jul",revenue:2.83,cogs:2.38,profit:.58},{name:"Aug",revenue:2.88,cogs:2.44,profit:.6}],emea:[{name:"Sep",revenue:2.84,cogs:2.01,profit:.87},{name:"Oct",revenue:2.64,cogs:1.85,profit:.82},{name:"Nov",revenue:2.77,cogs:1.86,profit:.92},{name:"Dec",revenue:2.8,cogs:1.87,profit:.94},{name:"Jan",revenue:2.88,cogs:1.93,profit:.95},{name:"Feb",revenue:2.48,cogs:1.8,profit:.7},{name:"Mar",revenue:2.78,cogs:1.93,profit:.89},{name:"Apr",revenue:2.71,cogs:1.9,profit:.83},{name:"May",revenue:2.86,cogs:1.99,profit:.89},{name:"Jun",revenue:2.49,cogs:1.85,profit:.78},{name:"Jul",revenue:2.8,cogs:2.4,profit:.59},{name:"Aug",revenue:3.06,cogs:2.49,profit:.64}]},Lt=r.a.memo((function(e){var t=e.currentData,n=e.onTooltipRender;return Object(G.jsx)(mt.a,{width:"100%",height:"100%",children:Object(G.jsxs)(ht.a,{data:t,margin:{},children:[Object(G.jsx)(ft.a,{content:n}),Object(G.jsx)(pt.a,{fontSize:12,axisLine:!1,tickLine:!1,style:{fill:"#858F93"},dx:-10}),Object(G.jsx)(vt.a,{strokeDasharray:"2 4",vertical:!1,stroke:"#858F93"}),Object(G.jsx)(gt.a,{dataKey:"revenue",stackId:"a",barSize:16,fill:"#F0F1F5",shape:Object(G.jsx)(Dt,{})}),Object(G.jsx)(gt.a,{dataKey:"cogs",stackId:"a",barSize:16,fill:"#9A5AED",shape:Object(G.jsx)(Dt,{})}),Object(G.jsx)(bt.a,{dataKey:"profit",stroke:"#A95DF1"}),Object(G.jsx)(yt.a,{dataKey:"name",dy:0,fontSize:10,style:{fill:"#B4BAC1"},axisLine:!1,tickLine:!1})]})})})),Dt=function(e){var t=e.fill,n=e.x,a=e.y,i=e.width,r=e.height;return Object(G.jsx)("rect",{fill:t,x:n,y:a+1,width:i,height:r-2,rx:4,ry:4})},Et=function(e){var t=e.currentData,n=e.positionX,a=e.hoveredData;if(!a)return null;var i=t.find((function(e){return e.name===a}));return i?Object(G.jsxs)("div",{className:St.a.tooltip,style:{left:n},children:[Object(G.jsx)("table",{className:St.a.tooltipTable,children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{}),Object(G.jsx)("th",{children:"Fact"})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:"Revenue"}),Object(G.jsx)("td",{children:i.revenue})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:"COGS"}),Object(G.jsx)("td",{children:i.cogs})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:"Gross Profit"}),Object(G.jsx)("td",{children:i.profit})]})]})}),Object(G.jsx)(jt,{className:St.a.tooltipRectangle})]}):null},It=function(e){var t=e.regionName,n=Object(i.useState)(0),a=Object(c.a)(n,2),r=a[0],o=a[1],s=Object(i.useState)(null),d=Object(c.a)(s,2),l=d[0],u=d[1],m=Object(i.useCallback)((function(e){return o((null===e||void 0===e?void 0:e.coordinate.x)||0),u(e.active?e.label:null),null}),[u,o]),h=Pt[t];return h?Object(G.jsxs)("div",{className:St.a.wrapper,children:[Object(G.jsx)(Et,{currentData:h,positionX:r,hoveredData:l}),Object(G.jsx)(Lt,{currentData:h,onTooltipRender:m})]}):null},kt=n(108),Rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=String(e).split("."),a=Object(c.a)(n,2),i=a[0],r=a[1];return"".concat(i,".").concat(r?r.padEnd(t,"0"):"0".repeat(t))},Ft=[{name:"Jul",l:3},{name:"Aug",l:2.1},{name:"Sep",l:2.9},{name:"Oct",l:2},{name:"Nov",l:2.2}],Nt=function(e){var t=e.fill,n=e.x,a=e.y,i=e.width,r=e.height,o=e.index;return Object(G.jsx)("rect",{fill:["#e9eff8","#fff","transparent","transparent","transparent"][o]||t,x:n+2,y:a+1,width:i-4,height:r-2,rx:2,ry:2,stroke:["#e9eff8","#fff","#fff","#F6363E","#FF9900"][o]||t,strokeWidth:2})},zt=function(e){var t=e.x,n=e.y,a=e.width,i=e.value,r=e.index,o=e.fill;return Object(G.jsx)("text",{fontSize:12,x:t+a/2,y:n-10,fill:["rgba(39,42,46,0.5)","#272A2E","#272A2E","#F6363E","#FF9900"][r]||o,textAnchor:"middle",dominantBaseline:"middle",children:Rt(i,1)})},Wt=function(e){var t=e.className;return Object(G.jsx)(mt.a,{className:t,width:"100%",height:"100%",children:Object(G.jsxs)(ht.a,{data:Ft,margin:{top:20,right:5,bottom:0,left:-3},children:[Object(G.jsx)(gt.a,{dataKey:"l",barSize:16,fill:"#ffffff",shape:Object(G.jsx)(Nt,{}),children:Object(G.jsx)(kt.a,{dataKey:"l",content:zt})}),Object(G.jsx)(yt.a,{dataKey:"name",fontSize:10,style:{fill:"#858F93"},axisLine:!1,tickLine:!1,interval:0})]})})},Bt=n(128),Ut=n.n(Bt),Yt=function(e){var t=e.children,n=e.className,a=e.isHorizontal;return Object(G.jsx)("div",{className:v()(Ut.a.list,a&&Ut.a.list_horizontal,n),children:t})},Gt=function(e){var t=e.name,n=e.isVertical,a=e.value,i=e.loading;return Object(G.jsxs)("div",{className:v()(Ut.a.listItem,n&&Ut.a.listItem_vertical),children:[Object(G.jsx)("div",{className:Ut.a.listItemName,children:t}),Object(G.jsx)("div",{className:Ut.a.listItemValue,children:i?Object(G.jsx)($e,{size:"xsmall"}):a})]})},Ht=n(231),Vt=n.n(Ht),Jt=function(e){var t=e.type;return Object(G.jsx)("span",{className:v()(Vt.a.pin,t&&Vt.a["pin_type-".concat(t)])})},Kt=n(117),Xt=n.n(Kt),qt=n(196),Qt=n.n(qt),Zt=function(e){var t=e.className,n=e.status,a=e.value;return Object(G.jsx)("div",{className:Qt.a.wrapper,children:Object(G.jsx)("span",{className:v()(Qt.a.bar,n&&Qt.a["bar_status-".concat(n)],t),style:{width:"".concat(a,"%")}})})},$t=function(e){var t=e.className,n=e.children;return Object(G.jsx)("div",{className:v()(Xt.a.wrapper,t),children:n})},en=function(e){var t=e.title,n=e.status,a=e.variant,i=e.value;return Object(G.jsxs)("div",{className:v()(Xt.a.item,n&&Xt.a["item_status-".concat(n)],"two-lines"===a&&Xt.a["item_variant-two-lines"]),children:[Object(G.jsx)("div",{className:Xt.a.itemTitle,children:t}),Object(G.jsx)("div",{className:Xt.a.itemChart,children:Object(G.jsx)(Zt,{status:n,value:i})}),Object(G.jsxs)("div",{className:Xt.a.itemValue,children:[i,"%"]})]})},tn=n(48),nn=n.n(tn),an=n(97),rn=n.n(an),on=function(e){var t=e.className;return Object(G.jsxs)("div",{className:v()(rn.a.sideButtons,t),children:[Object(G.jsxs)("div",{className:rn.a.sideButton,children:[Object(G.jsx)("span",{className:v()(rn.a.sideButtonIcon,rn.a.sideButtonIconRhombus)}),"DC"]}),Object(G.jsxs)("div",{className:rn.a.sideButton,children:[Object(G.jsx)("span",{className:v()(rn.a.sideButtonIcon,rn.a.sideButtonIconCircle)}),"Plant"]}),Object(G.jsxs)("div",{className:rn.a.sideButton,children:[Object(G.jsx)("svg",{className:v()(rn.a.iconStar),width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(G.jsx)("path",{d:"M19.1002 14.3075C18.7894 14.6113 18.6466 15.0507 18.7174 15.4816L19.7841 21.437C19.8741 21.9417 19.6629 22.4526 19.2441 22.7443C18.8338 23.0469 18.2879 23.0832 17.8403 22.8411L12.5262 20.045C12.3414 19.9457 12.1363 19.8925 11.9263 19.8864H11.6011C11.4883 19.9034 11.378 19.9397 11.2772 19.9953L5.96187 22.8048C5.69911 22.9379 5.40155 22.9851 5.10998 22.9379C4.39968 22.8024 3.92574 22.1197 4.04212 21.3995L5.10998 15.4441C5.18077 15.0095 5.03799 14.5677 4.72723 14.259L0.394599 10.0225C0.0322468 9.66783 -0.0937368 9.13523 0.0718416 8.65469C0.232621 8.17535 0.642967 7.82553 1.1385 7.74685L7.10172 6.87412C7.55526 6.82691 7.95361 6.54851 8.15759 6.13696L10.7852 0.702058C10.8476 0.581014 10.928 0.469653 11.0252 0.375238L11.1332 0.290507C11.1896 0.227564 11.2544 0.175515 11.3264 0.133149L11.4572 0.0847312L11.6611 0H12.1663C12.6174 0.0472074 13.0146 0.319558 13.2221 0.726267L15.8846 6.13696C16.0766 6.53277 16.4497 6.80754 16.8804 6.87412L22.8437 7.74685C23.3476 7.81948 23.7687 8.17051 23.9355 8.65469C24.0927 9.14007 23.9571 9.67267 23.5876 10.0225L19.1002 14.3075Z",fill:"white"})}),"High Availability Plant"]})]})},sn={global:{diversityRatio:"55.6%",totalHeadcount:900,male:44.4,female:38.9,lgbt:16.7,otif:.79,otifMtd:.78,otifWtd:0,cashPosition:2.1,revenue:60.4,revenueMtd:7.6,revenueWtd:1.9,revenue3day:.8,revenueDtd:.3,cogs:44.4,cogsMtd:6.4,cogsWtd:1.5,cogs3day:.6,cogsDtd:.2,profit:17.4,profitMtd:1.6,profitWtd:.4,profit3day:.2,profitDtd:.1},americas:{diversityRatio:"53.3%",totalHeadcount:300,male:46.7,female:38.3,lgbt:15,otif:0,otifMtd:0,otifWtd:0,cashPosition:1.7,revenue:16.4,revenueMtd:2,revenueWtd:.5,revenue3day:.2,revenueDtd:.1,cogs:12.1,cogsMtd:1.7,cogsWtd:.4,cogs3day:.2,cogsDtd:.1,profit:4.6,profitMtd:.4,profitWtd:.1,profit3day:0,profitDtd:0},apj:{diversityRatio:"53.3%",totalHeadcount:300,male:46.7,female:38.3,lgbt:15,otif:0,otifMtd:0,otifWtd:0,cashPosition:.3,revenue:22.2,revenueMtd:2.7,revenueWtd:.7,revenue3day:.3,revenueDtd:.1,cogs:16.4,cogsMtd:2.3,cogsWtd:.5,cogs3day:.2,cogsDtd:.1,profit:6.5,profitMtd:.6,profitWtd:.2,profit3day:.1,profitDtd:0},emea:{diversityRatio:"60.0%",totalHeadcount:300,male:40,female:40,lgbt:20,otif:.79,otifMtd:.78,otifWtd:0,cashPosition:.1,revenue:21.9,revenueMtd:2.9,revenueWtd:.7,revenue3day:.3,revenueDtd:.1,cogs:16.1,cogsMtd:2.3,cogsWtd:.5,cogs3day:.2,cogsDtd:.1,profit:6.2,profitMtd:.6,profitWtd:.2,profit3day:.1,profitDtd:0}},dn=function(e){var t=e.className,n=e.modelData,a=e.regionName;Object(i.useEffect)((function(){g()}),[]);var o=r.a.useState(!0),s=Object(c.a)(o,2),d=s[0],l=s[1];r.a.useLayoutEffect((function(){setTimeout((function(){l(!1)}),3e3)}));var u=sn[a];return u?Object(G.jsxs)("div",{className:v()(nn.a.kpiPage,t),children:[Object(G.jsx)(Ye,{className:nn.a.kpiModel,data:n,isOuterNavigation:!0}),Object(G.jsx)(on,{className:nn.a.cardModelLegend}),Object(G.jsx)(Xe,{className:nn.a.kpiCardSales,title:"Sales",subtitle:"YTD \u2013 $M",row:!0,titleWrapperClassName:nn.a.kpiCardSalesTitleWrapper,children:Object(G.jsxs)("div",{className:nn.a.kpiCardSalesInner,children:[Object(G.jsxs)(Xe,{className:nn.a.kpiCardSalesLeft,hasPadding:!0,variant:1,row:!0,children:[Object(G.jsx)("div",{className:nn.a.cardSalesCell,children:Object(G.jsx)(ut,{animateKpi:!0,hoverChildren:Object(G.jsxs)(Yt,{className:nn.a.kpiCard3List,children:[Object(G.jsx)(Gt,{name:"DTD",value:u.revenueDtd}),Object(G.jsx)(Gt,{name:"3 day",value:u.revenue3day}),Object(G.jsx)(Gt,{name:"WTD",value:u.revenueWtd}),Object(G.jsx)(Gt,{name:"MTD",value:u.revenueMtd})]}),loading:d,kpi:u.revenue,status:"primary",title:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Jt,{type:1}),"Revenue"]}),noPadding:!0,children:Object(G.jsx)(Yt,{isHorizontal:!0,children:Object(G.jsx)(Gt,{loading:d,name:"MTD",value:u.revenueMtd})})})}),Object(G.jsx)("div",{className:nn.a.cardSalesCell,children:Object(G.jsx)(ut,{animateKpi:!0,hoverChildren:Object(G.jsxs)(Yt,{className:nn.a.kpiCard3List,children:[Object(G.jsx)(Gt,{name:"DTD",value:u.cogsDtd}),Object(G.jsx)(Gt,{name:"3 day",value:u.cogs3day}),Object(G.jsx)(Gt,{name:"WTD",value:u.cogsWtd}),Object(G.jsx)(Gt,{name:"MTD",value:u.cogsMtd})]}),loading:d,kpi:u.cogs,title:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Jt,{type:2}),"COGS"]}),noPadding:!0,children:Object(G.jsx)(Yt,{isHorizontal:!0,children:Object(G.jsx)(Gt,{loading:d,name:"MTD",value:u.cogsMtd})})})}),Object(G.jsx)("div",{className:v()(nn.a.cardSalesCell,nn.a.cardSalesCellLast),children:Object(G.jsx)(ut,{animateKpi:!0,hoverChildren:Object(G.jsxs)(Yt,{className:nn.a.kpiCard3List,children:[Object(G.jsx)(Gt,{name:"DTD",value:u.profitDtd}),Object(G.jsx)(Gt,{name:"3 day",value:u.profit3day}),Object(G.jsx)(Gt,{name:"WTD",value:u.profitWtd}),Object(G.jsx)(Gt,{name:"MTD",value:u.profitMtd})]}),loading:d,kpi:u.profit,title:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Jt,{type:3}),"Gross Profit"]}),noPadding:!0,children:Object(G.jsx)(Yt,{isHorizontal:!0,children:Object(G.jsx)(Gt,{loading:d,name:"MTD",value:u.profitMtd})})})}),Object(G.jsx)("div",{className:nn.a.cardSalesChart,children:d?Object(G.jsx)($e,{height:"90px",width:"100%"}):Object(G.jsx)(It,{regionName:a})})]}),Object(G.jsxs)(Xe,{className:nn.a.kpiCardSalesRight,hasPadding:!0,row:!0,variant:3,children:[Object(G.jsx)("div",{className:nn.a.kpiCard6,children:Object(G.jsx)(ut,{animateKpi:!0,loading:d,kpi:u.cashPosition,noPadding:!0,title:"Cash Position",titleDescription:"$B",titleHref:"https://example.com"})}),Object(G.jsxs)("div",{className:nn.a.kpiCard8,children:[Object(G.jsx)(ut,{animateKpi:!0,loading:d,noPadding:!0,title:"Cash Forecast",titleDescription:"$B",titleHref:"https://example.com"}),Object(G.jsx)("div",{className:nn.a.kpiCard8ChartWrapper,children:d?Object(G.jsx)($e,{height:"50px",width:"100%"}):Object(G.jsx)(Wt,{className:nn.a.kpiCard8Chart})})]}),Object(G.jsxs)("div",{className:nn.a.kpiCard5,children:[Object(G.jsx)(ut,{loading:d,animateKpi:!0,kpi:u.otif,noPadding:!0,title:"Customer OTIF",status:u.otif<.8?"danger":u.otif<.9?"warning":"normal"}),Object(G.jsxs)(Yt,{isHorizontal:!0,children:[Object(G.jsx)(Gt,{loading:d,name:"MTD",value:u.otifMtd}),Object(G.jsx)(Gt,{loading:d,name:"WTD",value:u.otifWtd})]})]})]})]})}),Object(G.jsxs)(Xe,{className:nn.a.kpiCard2,hasHover:!0,title:"HR",subtitle:"YTD",children:[Object(G.jsx)(ut,{loading:d,animateKpi:!0,kpi:u.diversityRatio,title:"Diversity Ratio"}),Object(G.jsx)(ut,{animateKpi:!0,loading:d,hoverChildren:Object(G.jsxs)($t,{children:[Object(G.jsx)(en,{variant:"two-lines",title:"Male",value:u.male}),Object(G.jsx)(en,{variant:"two-lines",title:"Female",value:u.female}),Object(G.jsx)(en,{variant:"two-lines",title:"LGBT",value:u.lgbt})]}),kpi:u.totalHeadcount,title:"Total Headcount"})]}),Object(G.jsx)(Xe,{className:nn.a.kpiCard4,hasPadding:!0,title:"Circularity",subtitle:"CTI",children:Object(G.jsxs)(Yt,{children:[Object(G.jsx)(Gt,{loading:d,name:"Circular Inflow",value:"27%"}),Object(G.jsx)(Gt,{loading:d,name:"Circular Outflow",value:"33%"}),Object(G.jsx)(Gt,{loading:d,name:"Critical Inflow",value:"8%"}),Object(G.jsx)(Gt,{loading:d,name:"Water Circularity",value:"50%"})]})})]}):null},ln=n(232),cn=n.n(ln),un=function(e){var t=e.data,n=Object(m.e)().place,a=t[n]||{};return Object(G.jsx)("div",{className:cn.a.factoryPage,children:Object(G.jsx)(ge,{data:a,className:cn.a.factoryModel,place:n})})},mn={"Machine Area 1_1":{x:92,y:26,z:6},"Machine Area 1_2":{x:92,y:26,z:-90},"Machine Area 1_3":{x:92,y:26,z:-195},"Machine Area 2_1":{x:-109,y:26,z:-167},"Machine Area 2_2":{x:-109,y:26,z:-71},"Machine Area 2_3":{x:-109,y:26,z:31},Assembly:{x:96,y:26,z:223},Packaging:{x:-33,y:26,z:223}},hn={"Machine Area 1":{height:50,originalAreaNames:{"Plant Frankfurt":"Machining Area 1","Plant Beijing":"Machining Area 3","Plant Atlanta":"Machining Area 5"},pinsIds:["MachineArea1_1","MachineArea1_2","MachineArea1_3"],width:280,x:92,z:-81},"Machine Area 2":{height:50,originalAreaNames:{"Plant Frankfurt":"Machining Area 2","Plant Beijing":"Machining Area 4","Plant Atlanta":"Machining Area 6"},pinsIds:["MachineArea2_1","MachineArea2_2","MachineArea2_3"],width:280,x:-108,z:-81},Assembly:{height:80,originalAreaNames:{"Plant Frankfurt":"Assembly Line 1","Plant Beijing":"Assembly Line 2","Plant Atlanta":"Assembly Line 3"},pinsIds:["Assembly"],width:220,x:79,z:229},Packaging:{height:90,originalAreaNames:{"Plant Frankfurt":"Packaging Line 1","Plant Beijing":"Packaging Line 2","Plant Atlanta":"Packaging Line 3"},pinsIds:["Packaging"],width:220,x:-10,z:229}},fn=function(e){var t=e.href,n=e.title;return Object(G.jsxs)("a",{href:t,target:"_blank",ref:"noreferrer",style:{display:"block",fontSize:"13px",paddingTop:"6px",whiteSpace:"nowrap"},children:[n,Object(G.jsx)("svg",{width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginLeft:"4px"},children:Object(G.jsx)("path",{d:"M1 4.50009H7.30096M7.30096 4.50009L4.1503 1.47363M7.30096 4.50009L4.1503 7.52626",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})]})},pn={"Machine 23":Object(G.jsx)("h4",{style:{color:"red",marginBottom:"0px",marginTop:"5px",fontWeight:"normal"},children:"Failure Probability\xa0\u2014\xa040%"}),"Machine 24":Object(G.jsx)("h4",{style:{color:"red",marginBottom:"0px",marginTop:"5px",fontWeight:"normal"},children:"Failure Probability\xa0\u2014\xa045%"}),"Machine 25":Object(G.jsx)("h4",{style:{color:"red",marginBottom:"0px",marginTop:"5px",fontWeight:"normal"},children:"Failure Probability\xa0\u2014\xa045%"})},vn={"Machine 2":Object(G.jsx)(fn,{href:"https://my304266.scmibp1.ondemand.com/ui#IBPDashboard-manage&/dashboard/FA163E2C70811EDBBE98F9303B2660BE/1628598831736",title:"Alternate optimizer evaluation"}),"Machine 23":Object(G.jsx)(fn,{href:"https://sapinnovation-accenture-com.iam-pr.cfapps.eu10.hana.ondemand.com/cp.portal/site#ainequipment-display?sap-ui-app-id-hint=sap.iot.ain.manageequipments&/0D83A82A73474E0E9039CB692F81058F",title:"Intelligent Asset Management"}),"Machine 24":Object(G.jsx)(fn,{href:"https://sapinnovation-accenture-com.iam-pr.cfapps.eu10.hana.ondemand.com/cp.portal/site#ainequipment-display?sap-ui-app-id-hint=sap.iot.ain.manageequipments&/CCFF7093549B45FB81C8D59E8681748F",title:"Intelligent Asset Management"}),"Machine 25":Object(G.jsx)(fn,{href:"https://sapinnovation-accenture-com.iam-pr.cfapps.eu10.hana.ondemand.com/cp.portal/site#ainequipment-display?sap-ui-app-id-=&/1E647BC96688406DB63B10F9E9E0CE3D",title:"Intelligent Asset Management"}),"Machine 28":Object(G.jsx)(fn,{href:"https://sapinnovation-accenture-com.iam-pr.cfapps.eu10.hana.ondemand.com/cp.portal/site#ainequipment-display?sap-ui-app-id-hint=sap.iot.ain.manageequipments&/380E573E74EF4681A5727D56240A8E94",title:"Intelligent Asset Management"}),"Machine 29":Object(G.jsx)(fn,{href:"https://sapinnovation-accenture-com.iam-pr.cfapps.eu10.hana.ondemand.com/cp.portal/site#ainequipment-display?sap-ui-app-id-hint=sap.iot.ain.manageequipments&/7B7CAC23E7D543A99C5FF4F59B6D4773",title:"Intelligent Asset Management"})},gn={},bn={},yn=1e3,_n=function e(t,n,a,i){return function(r){var o=i||r,s=r-o,d=a?Math.min(s/1e3,1):Math.max(1-s/1e3,0);[t].concat(Object(b.a)(t.children)).forEach((function(e){e.material.opacity=d})),n.material.opacity=a?Math.min(s/1e4,.1):Math.max(.1-s/1e4,0),s<yn&&requestAnimationFrame(e(t,n,a,o))}},xn=function(e){return function(t,n,a,i,r,o){Object.entries(gn).forEach((function(e){var a=Object(c.a)(e,2),i=a[0];if(a[1]&&!t.includes(i)){var r=n.getObjectByName("".concat(i," light"));requestAnimationFrame(de(r,!1)),hn[i].pinsIds.forEach((function(e){var t;null===(t=document.querySelector("#".concat(e)))||void 0===t||t.classList.remove("preselected")})),gn[i]=!1}}));var s=!1;Object.keys(hn).forEach((function(i){if(t.includes(i)){var r;if(s=!0,!o&&!a)_("AreaDetails ".concat(JSON.stringify({EXPLINE:null===hn||void 0===hn||null===(r=hn[i].originalAreaNames)||void 0===r?void 0:r[e]})));var d=n.getObjectByName("".concat(i," light"));if(d)requestAnimationFrame(de(d,!0)),gn[i]=!0,hn[i].pinsIds.forEach((function(e){var t;null===(t=document.querySelector("#".concat(e)))||void 0===t||t.classList.add("preselected")}));else console.log("".concat(i," light was not found"))}})),s?a||(document.querySelectorAll(".poi-pin-wrapper.active").forEach((function(e){return e.classList.remove("active")})),r&&r()):i&&i()}},wn=function(e){var t=e.className,n=e.data,a=e.place,r=e.line;Object(i.useEffect)((function(){return function(){Object.values(bn).forEach((function(e){cancelAnimationFrame(e)})),Mt&&window.removeEventListener("message",Mt)}}),[]);var o="Plant Atlanta"===a?"./models/workshop2":"./models/workshop",s="".concat(o,"/workshop.gltf");return Object(G.jsx)(fe,{className:t,config:{cameraFar:15e3,cameraNear:1e3,cameraPositionX:-6595,cameraPositionY:1631,cameraPositionZ:2088,controlsMaxDistance:12e3,controlsMinDistance:2e3,controlsTargetX:0,controlsTargetY:0,controlsTargetZ:0,isBloomEnabled:!1,isLabelsEnabled:!0,isShadowsEnabled:!0,modelPath:s,pins:Object.entries(n).reduce((function(e,t){var n=Object(c.a)(t,2),i=n[0],r=Object(c.a)(n[1],3),o=r[0],s=r[1],d=r[2],l=mn[i];if(!l)return e;var u=parseFloat(s);return[].concat(Object(b.a)(e),[{position:l,props:{hasTransfer:!1,hasValueBg:!0,id:i.replace(/ /g,""),info:Number.isFinite(u)?Object(G.jsxs)(G.Fragment,{children:["Machine\xa0Availability Rate\xa0\u2014\xa0",(100*u).toFixed(2),"%",pn[o],vn[o]||""]}):"",status:u<.8?"danger":u<.9?"warning":"normal",title:o,value:Number.isFinite(u)?"".concat((100*u).toFixed(2),"%"):""},onPinClick:function(e){_("MachineDetails ".concat(JSON.stringify({RESDESCR:o,EXPLINE:d}))),xn(a)([i.replace(/_\d/,"")],e,!0)}}])}),[]),onPinDeselectClick:function(){_("MACHINE NOCLICK")},onClick:function(e,t,n,i){xn(a)(e,t,!1,n,i)}},afterLoadProcess:function(e,t,n,i,s,d){Object.entries(hn).forEach((function(t){var n=Object(c.a)(t,2),a=n[0],i=n[1],r=new y.fb(i.width,i.height),o=new y.S({color:"red"}),s=new y.R(r,o);s.name=a,s.position.set(i.x,.1,i.z),s.rotation.x=y.P.degToRad(-90),s.rotation.z=y.P.degToRad(-90),s.visible=!1,e.add(s);var d=new y.pb("#9728d3",0,i.width+5,i.height+5);d.name="".concat(a," light"),d.position.set(i.x,21,i.z),d.rotation.x=y.P.degToRad(-90),d.rotation.z=y.P.degToRad(-90),d.visible=!1,e.add(d)}));var l=new y.Bb;Promise.all([new Promise((function(t){l.load("".concat(o,"/scene.jpg"),(function(n){var a=e.getObjectByName("Scene1")||e.getObjectByName("Scene");n.flipY=!1,a.material=new y.V({color:"#fff",map:n,side:y.p}),a.castShadow=!1,a.receiveShadow=!1,t()}))})),new Promise((function(t){l.load("".concat(o,"/conveyor.jpg"),(function(n){n.flipY=!1;var a=e.getObjectByName("Conveer");if(!a)return console.log('Object "Conveer" not found'),void t();a.material=new y.V({color:"#fff",map:n}),a.castShadow=!1,a.receiveShadow=!1;var i=new y.fb(156,187),r=new y.tb;r.opacity=.1;var o=new y.R(i,r);o.rotation.x=y.P.degToRad(-90),o.position.set(34,7,232),o.receiveShadow=!0,e.add(o),t()}))})),new Promise((function(t){l.load("".concat(o,"/loader.jpg"),(function(n){n.flipY=!1;var a=new y.S({color:"#fff",map:n});["LOADER_01","LOADER_02","LOADER_03","LOADER_04","LOADER_05"].forEach((function(t){var n=e.getObjectByName(t);n?(n.material=a,n.castShadow=!0,n.receiveShadow=!1):console.log('Object "'.concat(t,'" not found'))})),t()}))})),new Promise((function(t){l.load("".concat(o,"/loader-part-grey-1.jpg"),(function(n){n.flipY=!1;var a=new y.S({color:"#fff",map:n});["LOADER_01_GREY","LOADER_02_GREY"].forEach((function(t){var n=e.getObjectByName(t);n?(n.material=a,n.castShadow=!0,n.receiveShadow=!1):console.log('Object "'.concat(t,'" not found'))})),t()}))})),new Promise((function(t){l.load("".concat(o,"/loader-part-grey-2.jpg"),(function(n){n.flipY=!1;var a=new y.S({color:"#fff",map:n});["LOADER_03_GREY","LOADER_04_GREY","LOADER_05_GREY"].forEach((function(t){var n=e.getObjectByName(t);n?(n.material=a,n.castShadow=!0,n.receiveShadow=!1):console.log('Object "'.concat(t,'" not found'))})),t()}))})),new Promise((function(t){l.load("".concat(o,"/loader-part-purple.jpg"),(function(n){n.flipY=!1;var a=new y.S({color:"#fff",map:n});["LOADER_01_PURPLE","LOADER_02_PURPLE","LOADER_03_PURPLE","LOADER_04_PURPLE","LOADER_05_PURPLE"].forEach((function(t){var n=e.getObjectByName(t);n?(n.material=a,n.castShadow=!0,n.receiveShadow=!1):console.log('Object "'.concat(t,'" not found'))})),t()}))})),new Promise((function(t){l.load("".concat(o,"/machine-part-1.jpg"),(function(n){n.flipY=!1;var a=e.getObjectByName("Det_01")||e.getObjectByName("machine-part-1");if(!a)return console.log('Object "Det_01" not found'),void t();a.material=new y.S({color:"#fff",map:n}),a.castShadow=!1,a.receiveShadow=!1,t()}))})),new Promise((function(t){l.load("".concat(o,"/machine-part-2.jpg"),(function(n){n.flipY=!1;var a=e.getObjectByName("Det_02")||e.getObjectByName("machine-part-2");if(!a)return console.log('Object "Det_02" not found'),void t();a.material=new y.S({color:"#fff",map:n}),a.castShadow=!1,a.receiveShadow=!1,t()}))})),new Promise((function(t){l.load("".concat(o,"/floor.jpg"),(function(n){n.flipY=!1;var a=e.getObjectByName("Floor");a?a.material=new y.V({color:"#fff",map:n}):console.log('Object "Floor" not found');var i=new y.fb(700,800),r=new y.tb;r.opacity=.1;var o=new y.R(i,r);o.position.z=50,o.rotation.x=y.P.degToRad(-90),o.position.y=.01,o.receiveShadow=!0,e.add(o);var s=new y.fb(6e3,6e3),d=new y.V({color:"#e2e5e9"}),l=new y.R(s,d);l.rotation.x=y.P.degToRad(-90),l.position.y=-.01,e.add(l),t()}))}))]).then((function(){[{name:"LOADER_01",shadow:{x:-200,z:590,height:280,width:200},visiblePoint:550,visibleReverse:!1},{name:"LOADER_03",shadow:{x:-200,z:-490,height:280,width:200},visiblePoint:-480,visibleReverse:!0}].forEach((function(t){var n=e.getObjectByName(t.name);if(n){var a=new y.fb(t.shadow.width,t.shadow.height),i=new y.tb;i.opacity=0;var r=new y.R(a,i);r.rotation.x=y.P.degToRad(-90),r.position.x=t.shadow.x,r.position.y=.01,r.position.z=t.shadow.z,r.receiveShadow=!0,e.add(r),[n].concat(Object(b.a)(n.children)).forEach((function(e){e.material&&(e.material=e.material.clone(),e.material.transparent=!0,e.material.opacity=0)}));var o=!1;!function e(n,a){return function(){var i=Math.round(n.position.z);t.visibleReverse?i>t.visiblePoint&&!o?(o=!0,requestAnimationFrame(_n(n,r,!0))):i<t.visiblePoint&&o&&(o=!1,requestAnimationFrame(_n(n,r,!1))):i<t.visiblePoint&&!o?(o=!0,requestAnimationFrame(_n(n,r,!0))):i>t.visiblePoint&&o&&(o=!1,requestAnimationFrame(_n(n,r,!1))),bn[t.name]=requestAnimationFrame(e(n,a))}}(n,Math.random())()}else console.log('Object "'.concat(t.name,'" was not found'))}))})).then((function(){Mt=function(e,t,n,a){return function(i){var r,o,s;if(i.data&&(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.includes))if(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.includes("AreaDetails ")){var d=i.data.replace("AreaDetails ",""),l=JSON.parse(d).EXPLINE;if(void 0===l)return;var u=Object.entries(hn).find((function(t){var n=Object(c.a)(t,2);return n[0],n[1].originalAreaNames[e]===l}))||[],m=Object(c.a)(u,1)[0];xn(e)(m?[m]:[],t,!1,n,a,!0)}else if(null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.includes("MachineDetails ")){var h,f=i.data.replace("MachineDetails ",""),p=JSON.parse(f).RESDESCR;if(void 0===p)return;var v=null===(h=qa[p])||void 0===h?void 0:h.replace(/ /g,"");if(!v)return void xn(e)([],t,!1,n,a,!0);var g=document.querySelector("#".concat(v," .poi-pin"));if(!g)return;g.dispatchEvent(new Event("pointerup"))}}}(a,e,s,d),window.addEventListener("message",Mt)})).then((function(){var o=e.getObjectByName("Camera");if(!o)return g(),t(),void i();var l=!0,u=function(){n.position.set(12*o.position.x,10*o.position.y,o.position.z),n.rotation.set(o.rotation.x,o.rotation.y,o.rotation.z)};u(),g(),t(),requestAnimationFrame((function t(){if(u(),l)requestAnimationFrame(t);else if(r){var n=Object.entries(hn).find((function(e){var t=Object(c.a)(e,2);t[0];return t[1].originalAreaNames[a]===r}))||[],i=Object(c.a)(n,1)[0];if(!i)return;xn(a)([i],e,!1,s,d,!0)}})),setTimeout((function(){l=!1,i()}),4e3)})).catch((function(){g(),t(),i()}))}})},Tn=r.a.memo(wn),Mn=n(233),An=n.n(Mn),Cn=function(e){var t=e.data,n=Object(m.e)(),a=n.place,i=n.line,r=t[a]||{};return Object(G.jsx)("div",{className:An.a.workshopPage,children:Object(G.jsx)(wn,{className:An.a.workshopModel,data:r,place:a,line:i})})},jn=function(e){var t=e.href,n=e.title;return Object(G.jsxs)("a",{href:t,target:"_blank",ref:"noreferrer",style:{display:"block",fontSize:"13px",paddingTop:"6px",whiteSpace:"nowrap"},children:[n,Object(G.jsx)("svg",{width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginLeft:"4px"},children:Object(G.jsx)("path",{d:"M1 4.50009H7.30096M7.30096 4.50009L4.1503 1.47363M7.30096 4.50009L4.1503 7.52626",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})]})},On=[{position:{x:130,y:28,z:19},props:{hasTransfer:!1,id:"RoboticArmPin",info:Object(G.jsxs)(G.Fragment,{children:["Failure Probability - 40  %",Object(G.jsx)(jn,{href:"https://sapinnovation-accenture-com.iam-pr.cfapps.eu10.hana.ondemand.com/cp.portal/site#ainequipment-display?sap-ui-app-id-hint=sap.iot.ain.manageequipments&/659E500FCE494494B9684BA71518D936",title:"Intelligent Asset Management"})]}),status:"danger",title:"Robotic Arm"}}],Sn={},Pn={},Ln={},Dn=1e3,En=function e(t,n,a,i){return function(r){var o=i||r,s=r-o,d=a?Math.min(s/1e3,1):Math.max(1-s/1e3,0);[t].concat(Object(b.a)(t.children)).forEach((function(e){e.material.opacity=d})),n.material.opacity=a?Math.min(s/1e4,.1):Math.max(.1-s/1e4,0),s<Dn&&requestAnimationFrame(e(t,n,a,o))}},In=function(e){return function(t,n,a,i,r,o){Object.entries(Pn).forEach((function(e){var a=Object(c.a)(e,2),i=a[0];if(a[1]&&!t.includes(i)){var r=n.getObjectByName("".concat(i," light"));requestAnimationFrame(de(r,!1)),Sn[i].pinsIds.forEach((function(e){var t;null===(t=document.querySelector("#".concat(e)))||void 0===t||t.classList.remove("active")})),Pn[i]=!1}}));var s=!1;Object.keys(Sn).forEach((function(i){if(t.includes(i)){var r;if(s=!0,!o&&!a)_("AreaDetails ".concat(JSON.stringify({EXPLINE:null===Sn||void 0===Sn||null===(r=Sn[i].originalAreaNames)||void 0===r?void 0:r[e]})));var d=n.getObjectByName("".concat(i," light"));if(d)requestAnimationFrame(de(d,!0)),Pn[i]=!0,Sn[i].pinsIds.forEach((function(e){setTimeout((function(){var t;null===(t=document.querySelector("#".concat(e)))||void 0===t||t.classList.add("active")}),100)}));else console.log("".concat(i," light was not found"))}})),s?a||(document.querySelectorAll(".poi-pin-wrapper.active").forEach((function(e){return e.classList.remove("active")})),r&&r()):i&&i()}},kn=function(e){var t=e.className,n=(e.data,e.place),a=e.line;Object(i.useEffect)((function(){return function(){Object.values(Ln).forEach((function(e){cancelAnimationFrame(e)})),At&&window.removeEventListener("message",At)}}),[]);var r="/models/warehouse",o="".concat(r,"/warehouse.gltf");return Object(G.jsx)(fe,{className:t,config:{cameraFar:15e3,cameraNear:1e3,cameraPositionY:1631,cameraPositionX:-6595,cameraPositionZ:2088,controlsMaxDistance:12e3,controlsMinDistance:2e3,controlsTargetX:0,controlsTargetY:0,controlsTargetZ:0,isBloomEnabled:!1,isLabelsEnabled:!0,isShadowsEnabled:!0,modelPath:o,pins:On.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{onPinClick:function(t){_("PinDetails ".concat(e.props.id)),In(n)([e.props.title],t,!0)}})})),onPinDeselectClick:function(){_("MACHINE NOCLICK")},onClick:function(e,t,a,i){In(n)(e,t,!1,a,i)}},afterLoadProcess:function(e,t,i,o,s,d){Object.keys(Sn).length&&Object.entries(Sn).forEach((function(t){var n=Object(c.a)(t,2),a=n[0],i=n[1],r=new y.fb(i.width,i.height),o=new y.S({color:"red"}),s=new y.R(r,o);s.name=a,s.position.set(i.x,.1,i.z),s.rotation.x=y.P.degToRad(-90),s.rotation.z=y.P.degToRad(-90),s.visible=!1,e.add(s);var d=new y.pb("#9728d3",0,i.width+5,i.height+5);d.name="".concat(a," light"),d.position.set(i.x,21,i.z),d.rotation.x=y.P.degToRad(-90),d.rotation.z=y.P.degToRad(-90),d.visible=!1,e.add(d)}));var l=new y.Bb;Promise.all([].concat(Object(b.a)([["conveyor","Conveer"],["box-green","Box_green"],["box-yellow","Box_yellow"],["tools-01","Tools_01"],["tools-02","Tools_02"],["tools-03","Tools_03"],["loader-part-01","Work_in_progress_01"],["loader-part-02","Work_in_progress_02"]].map((function(t){var n=Object(c.a)(t,2),a=n[0],i=n[1];new Promise((function(t){l.load("".concat(r,"/").concat(a,".jpg"),(function(n){var a=e.getObjectByName(i);if(!a)return console.log('Object "'.concat(i,'" not found')),void t();n.flipY=!1,a.material=new y.S({color:"#fff",map:n,side:y.p}),a.castShadow=!1,a.receiveShadow=!1,t()}))}))}))),[[["Robotic_arm_base","Robotic_arm_base"],["Robotic_arm_part_1","Robotic_arm_part_1"],["Robotic_arm_part_2","Robotic_arm_part_2"],["Robotic_arm_part_3","Robotic_arm_part_3"],["Box_Robotic_arm","Box_Robotic_arm"],["Box_car_1","Box_car_1"],["Box_car_2","Box_car_2"],["Box_car_3","Box_car_3"],["Box_car_4","Box_car_4"],["Box_car_5","Box_car_5"],["Box_car_6","Box_car_6"],["CAR_1","CAR_1"],["CAR_2","CAR_2"],["CAR_3","CAR_3"],["CAR_4","CAR_4"],["CAR_5","CAR_5"],["CAR_6","CAR_6"],["machine-part-1","machine_part_1"],["machine-part-2","machine_part_2"]].map((function(t){var n=Object(c.a)(t,2),a=n[0],i=n[1];new Promise((function(t){l.load("".concat(r,"/").concat(a,".jpg"),(function(n){var a=e.getObjectByName(i);if(!a)return console.log('Object "'.concat(i,'" not found')),void t();n.flipY=!1,a.material=new y.S({color:"#fff",map:n,side:y.p}),a.castShadow=!0,a.receiveShadow=!1,t()}))}))})),new Promise((function(t){l.load("".concat(r,"/floor.jpg"),(function(n){n.flipY=!1;var a=e.getObjectByName("Floor");a?a.material=new y.V({color:"#fff",map:n}):console.log('Object "Floor" not found');var i=new y.fb(700,500),r=new y.tb;r.opacity=.1;var o=new y.R(i,r);o.position.z=50,o.rotation.x=y.P.degToRad(-90),o.position.y=.01,o.receiveShadow=!0,e.add(o);var s=new y.fb(6e3,6e3),d=new y.V({color:"#e2e5e9"}),l=new y.R(s,d);l.rotation.x=y.P.degToRad(-90),l.position.y=-.01,e.add(l),t()}))}))])).then((function(){[{name:"CAR_1",shadow:{x:-100,z:375,height:150,width:150},visiblePoint:320,visibleReverse:!1},{name:"CAR_5",shadow:{x:100,z:375,height:150,width:150},visiblePoint:320,visibleReverse:!1}].forEach((function(t){var n=e.getObjectByName(t.name);if(n){var a=new y.fb(t.shadow.width,t.shadow.height),i=new y.tb;i.opacity=0;var r=new y.R(a,i);r.rotation.x=y.P.degToRad(-90),r.position.x=t.shadow.x,r.position.y=.01,r.position.z=t.shadow.z,r.receiveShadow=!0,e.add(r),[n].concat(Object(b.a)(n.children)).forEach((function(e){e.material&&(e.material=e.material.clone(),e.material.transparent=!0,e.material.opacity=0)}));var o=!1;!function e(n,a){return function(){var i=Math.round(n.position.z);t.visibleReverse?i>t.visiblePoint&&!o?(o=!0,requestAnimationFrame(En(n,r,!0))):i<t.visiblePoint&&o&&(o=!1,requestAnimationFrame(En(n,r,!1))):i<t.visiblePoint&&!o?(o=!0,requestAnimationFrame(En(n,r,!0))):i>t.visiblePoint&&o&&(o=!1,requestAnimationFrame(En(n,r,!1))),Ln[t.name]=requestAnimationFrame(e(n,a))}}(n,Math.random())()}else console.log('Object "'.concat(t.name,'" was not found'))}))})).then((function(){At=function(e,t,n,a){return function(i){var r,o,s;if(i.data&&(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.includes))if(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.includes("AreaDetails ")){var d=i.data.replace("AreaDetails ",""),l=JSON.parse(d).EXPLINE;if(void 0===l)return;var u=Object.entries(Sn).find((function(t){var n=Object(c.a)(t,2);return n[0],n[1].originalAreaNames[e]===l}))||[],m=Object(c.a)(u,1)[0];In(e)(m?[m]:[],t,!1,n,a,!0)}else if(null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.includes("MachineDetails ")){var h,f=i.data.replace("MachineDetails ",""),p=JSON.parse(f).RESDESCR;if(void 0===p)return;var v=null===(h=qa[p])||void 0===h?void 0:h.replace(/ /g,"");if(!v)return void In(e)([],t,!1,n,a,!0);var g=document.querySelector("#".concat(v," .poi-pin"));if(!g)return;g.dispatchEvent(new Event("pointerup"))}}}(n,e,s,d),window.addEventListener("message",At)})).then((function(){var r=e.getObjectByName("Camera1");if(!r)return g(),t(),void o();var l=!0,u=function(){i.position.set(9*r.position.x,7*r.position.y,r.position.z),i.rotation.set(r.rotation.x,r.rotation.y,r.rotation.z)};u(),g(),t(),requestAnimationFrame((function t(){if(u(),l)requestAnimationFrame(t);else if(a){var i=Object.entries(Sn).find((function(e){var t=Object(c.a)(e,2);t[0];return t[1].originalAreaNames[n]===a}))||[],r=Object(c.a)(i,1)[0];if(!r)return;In(n)([r],e,!1,s,d,!0)}})),setTimeout((function(){l=!1,o()}),4e3)})).catch((function(){g(),t(),o()}))}})},Rn=n(234),Fn=n.n(Rn),Nn=function(e){var t=e.data,n=Object(m.e)(),a=n.place,i=n.line,r=t[a]||{};return Object(G.jsx)("div",{className:Fn.a.workshopPage,children:Object(G.jsx)(kn,{className:Fn.a.workshopModel,data:r,place:a,line:i})})},zn=n(235),Wn=n.n(zn),Bn=function(e){var t=e.modelData,n=Object(m.e)(),a=n.place,r=n.line,o=t[a]||{};return Object(i.useEffect)((function(){g()}),[]),Object(G.jsx)("div",{className:Wn.a.workshopPage,children:Object(G.jsx)(Tn,{className:Wn.a.workshopModel,data:o,place:a,line:r})})},Un=n(524),Yn=n(71),Gn=n.n(Yn),Hn=Object(i.memo)((function(e){var t=e.onTooltipHover,n=e.values;return Object(G.jsx)(mt.a,{width:"100%",height:"100%",children:Object(G.jsxs)(Un.a,{width:500,height:300,data:n,syncId:"chartId",margin:{top:10,right:0,left:15,bottom:0},children:[Object(G.jsx)(vt.a,{strokeDasharray:"3 3",vertical:!1,stroke:"#F3F3F5"}),Object(G.jsx)(ft.a,{content:function(e){var n=e.active,a=e.label;return t(n,a),null}}),Object(G.jsx)(yt.a,{stroke:"#B9C1C6",dataKey:"name",fontSize:12,padding:{left:22,right:22},style:{fill:"#B9C1C6"}}),Object(G.jsx)(pt.a,{domain:[50,100],stroke:"#B9C1C6",fontSize:12,style:{fill:"#B9C1C6"},width:27}),Object(G.jsx)(bt.a,{dataKey:"d1",stroke:"#3ABEF0",dot:!1}),Object(G.jsx)(bt.a,{dataKey:"d2",stroke:"#8379F7",dot:!1}),Object(G.jsx)(bt.a,{dataKey:"d3",stroke:"#A100FF",dot:!1}),Object(G.jsx)(bt.a,{dataKey:"d4",stroke:"#F5BC51",dot:!1})]})})})),Vn=function(e){var t=e.data,n=e.hoveredData,a=e.selectedPeriod;return n&&a?Object(G.jsxs)("div",{className:Gn.a.tooltipWrapper,children:[Object(G.jsx)("table",{className:Gn.a.tooltipTable,children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("th",{}),Object(G.jsx)("th",{children:"Utilization"}),Object(G.jsx)("th",{children:"Availability"}),Object(G.jsx)("th",{children:"Quality Rate"})]}),t.names.map((function(e,n){return Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:e}),Object(b.a)(Array(3)).map((function(e,i){var r,o=null===(r=t.tables[i].data.find((function(e){return e.name===a})))||void 0===r?void 0:r.values[n];return o?Object(G.jsxs)("td",{children:[Rt(o),"%"]},i):null}))]},n)}))]})}),Object(G.jsx)(jt,{className:Gn.a.tooltipRectangle})]}):null},Jn=function(e){var t=e.place,n=(e.className,e.data),a=e.tableData,r=e.selectedPeriod,o=e.selectedMachine,s=e.selectedLine,d=Object(i.useState)(null),l=Object(c.a)(d,2),u=l[0],m=l[1],h=Object(i.useCallback)((function(e,t){m(e?t:null)}),[m]);return n?Object(G.jsxs)("div",{className:Gn.a.chartsGridWrapper,children:[Object(G.jsx)("div",{className:Gn.a.legend,children:null===n||void 0===n?void 0:n.names.map((function(e,n){return Object(G.jsxs)("div",{className:v()(Gn.a.legendItem,o===e&&Gn.a.legendItem_active),onClick:function(){window.location.hash.includes("workshop")||(window.location.hash="/workshop/".concat(t,"/").concat(e)),e.includes("Area")||e.includes("Line")?_("AreaDetails "+JSON.stringify({EXPLINE:e})):_("MachineDetails "+JSON.stringify({RESDESCR:e,EXPLINE:s}))},children:[Object(G.jsx)("span",{className:v()(Gn.a.legendPin,Gn.a["legendPin".concat(n+1)])}),e]},e)}))}),Object(G.jsxs)("div",{className:Gn.a.charts,children:[Object(G.jsx)(Vn,{hoveredData:u,data:a,selectedPeriod:r.replace(/ /g,"").toUpperCase()}),null===n||void 0===n?void 0:n.charts[r.replace(/ /g,"").toUpperCase()].map((function(e){var t=e.name,n=e.values;return Object(G.jsxs)("div",{className:Gn.a.chartWrapper,children:[Object(G.jsx)("div",{className:Gn.a.chartTitle,children:t}),Object(G.jsx)("div",{className:Gn.a.chart,children:Object(G.jsx)(Hn,{onTooltipHover:h,values:n})})]},t)}))]})]}):null},Kn=n(54),Xn=n.n(Kn),qn=function(e){var t=e.data,n=e.title,a=e.selectedPeriod;return t?Object(G.jsxs)("div",{className:Xn.a.tableWrapper,children:[Object(G.jsx)("div",{className:Xn.a.tableTitle,children:n}),Object(G.jsx)("div",{className:Xn.a.table,children:t.map((function(e,t){var n=e.values,i=e.name;return Object(G.jsxs)("div",{className:v()(Xn.a.column,i===a.replace(/ /g,"").toLocaleUpperCase()&&Xn.a.column_active),children:[n.map((function(e,t){return Object(G.jsx)("div",{className:v()(Xn.a.columnItem,e<80?Xn.a.columnItem_danger:e<90?Xn.a.columnItem_warning:null),children:Rt(e)},t)})),Object(G.jsx)("div",{className:v()(Xn.a.columnItem,Xn.a.columnItem_definition),children:i})]},i)}))})]}):null},Qn=function(e){var t=e.place,n=(e.className,e.data),a=e.selectedPeriod,i=e.selectedMachine,r=e.selectedLine;return n?Object(G.jsxs)("div",{className:Xn.a.tablesGridWrapper,children:[Object(G.jsx)("div",{className:Xn.a.legend,children:null===n||void 0===n?void 0:n.names.map((function(e,n){return Object(G.jsxs)("div",{className:v()(Xn.a.legendItem,i===e&&Xn.a.legendItem_active),onClick:function(){window.location.hash.includes("workshop")||(window.location.hash="/workshop/".concat(t,"/").concat(e)),e.includes("Area")||e.includes("Line")?_("AreaDetails "+JSON.stringify({EXPLINE:e})):_("MachineDetails "+JSON.stringify({RESDESCR:e,EXPLINE:r}))},children:[Object(G.jsx)("span",{className:v()(Xn.a.legendPin,Xn.a["legendPin".concat(n+1)])}),e]},e)}))}),Object(G.jsx)("div",{className:Xn.a.tables,children:null===n||void 0===n?void 0:n.tables.map((function(e,t){var n=e.name,i=e.data;return Object(G.jsx)(qn,{data:i,selectedPeriod:a,title:n},n)}))})]}):null},Zn=n(528),$n=n(525),ea=n(236),ta=n.n(ea),na=function(e){var t=e.lines,n=e.selectedLineName,a=e.onLineChange;return Object(i.useEffect)((function(){return function(){t&&a(t[0])}}),[]),Object(G.jsx)("div",{className:ta.a.wrapper,children:Object(G.jsx)(Zn.a,{className:ta.a.select,onChange:function(e){var t,n=null===(t=e.detail.selectedOption)||void 0===t?void 0:t.value;a(n),_("AreaDetails "+JSON.stringify({EXPLINE:n}))},children:t.map((function(e){return Object(G.jsx)($n.a,{selected:n===e,value:e,children:e},e)}))})})},aa=n(44),ia=n.n(aa),ra=n(324),oa=function(e){var t=e.selectedPeriod,n=Object(m.e)(),a=n.place,o=n.line,s=Object(i.useState)("graphics"),d=Object(c.a)(s,2),l=d[0],u=d[1],f=Object(i.useState)(o||"Production Line"),p=Object(c.a)(f,2),g=p[0],y=p[1],x=Object(i.useState)(null),w=Object(c.a)(x,2),T=w[0],M=w[1],A=r.a.useState(!0),C=Object(c.a)(A,2),j=C[0],O=C[1];r.a.useLayoutEffect((function(){setTimeout((function(){O(!1)}),3e3)})),Object(i.useEffect)((function(){var e=function(e){var t=e.data,n=function(){try{return JSON.parse(t)}catch(e){return t}}();if("string"===typeof n)if("MACHINE NOCLICK"===n)y("Production Line"),M(null);else if(n.includes("AreaDetails ")){var a=n.replace("AreaDetails ",""),i=JSON.parse(a).EXPLINE;if(void 0===i)return;y(i)}else if(n.includes("MachineDetails ")){var r=n.replace("MachineDetails ",""),o=JSON.parse(r),s=o.RESDESCR,d=o.EXPLINE;if(void 0===s)return;y(d),M(s)}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[y]);var S=ra[a];return S?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(m.a,{exact:!0,path:["/workshop/:place/:line","/workshop/:place","/workshop"],children:function(e){var t=e.match;return Object(G.jsx)(h.CSSTransition,{appear:!0,classNames:"cardLineAnimate",in:null!==t,timeout:{appear:700,enter:1400,exit:700},unmountOnExit:!0,children:Object(G.jsx)("div",{children:Object(G.jsx)(na,{selectedLineName:g,lines:["Production Line"].concat(Object(b.a)(S.kpi.map((function(e){return Object(c.a)(e,1)[0]})))),onLineChange:y})})})}}),Object(G.jsx)(Xe,{cardClassName:ia.a.cardCard,className:v()(ia.a.factoryCard,ia.a.card),hasPadding:!0,title:"Overall Line Effectiveness",subtitle:"WTD \u2014 %",variant:1,titleButtons:Object(G.jsxs)("div",{className:ia.a.switcherWrapper,children:[Object(G.jsx)("button",{className:v()(ia.a.switcherButton,"graphics"===l&&ia.a.switcherButton_active),onClick:function(){u("graphics")},children:Object(G.jsx)("svg",{className:v()(ia.a.switcherButtonIcon,ia.a.switcherButtonIcon_stroke),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:Object(G.jsx)("path",{d:"M22 12H18L15 21L9 3L6 12H2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),Object(G.jsx)("button",{className:v()(ia.a.switcherButton,"tables"===l&&ia.a.switcherButton_active),onClick:function(){u("tables")},children:Object(G.jsx)("svg",{className:v()(ia.a.switcherButtonIcon,ia.a.switcherButtonIcon_fill),xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:Object(G.jsx)("path",{d:"M11 15C10.7292 15 10.4896 14.9062 10.2812 14.7188C10.0938 14.5104 10 14.2708 10 14C10 13.7083 10.0938 13.4688 10.2812 13.2812C10.4896 13.0938 10.7292 13 11 13H25C25.2917 13 25.5312 13.0938 25.7188 13.2812C25.9062 13.4688 26 13.7083 26 14C26 14.2708 25.9062 14.5104 25.7188 14.7188C25.5312 14.9062 25.2917 15 25 15H11ZM11 19.9688C10.7292 19.9688 10.4896 19.875 10.2812 19.6875C10.0938 19.4792 10 19.2396 10 18.9688C10 18.6771 10.0938 18.4375 10.2812 18.25C10.4896 18.0625 10.7292 17.9688 11 17.9688H25C25.2917 17.9688 25.5312 18.0625 25.7188 18.25C25.9062 18.4375 26 18.6771 26 18.9688C26 19.2396 25.9062 19.4792 25.7188 19.6875C25.5312 19.875 25.2917 19.9688 25 19.9688H11ZM11 24.9375C10.7292 24.9375 10.4896 24.8438 10.2812 24.6562C10.0938 24.4479 10 24.2083 10 23.9375C10 23.6458 10.0938 23.4062 10.2812 23.2188C10.4896 23.0312 10.7292 22.9375 11 22.9375H25C25.2917 22.9375 25.5312 23.0312 25.7188 23.2188C25.9062 23.4062 26 23.6458 26 23.9375C26 24.2083 25.9062 24.4479 25.7188 24.6562C25.5312 24.8438 25.2917 24.9375 25 24.9375H11Z"})})})]}),titleWrapperClassName:ia.a.cardTitleWrapper,children:Object(G.jsxs)("div",{className:ia.a.cardGrid,children:[Object(G.jsxs)("div",{className:ia.a.cardCells,children:[Object(G.jsx)("div",{className:ia.a.cardCell,children:Object(G.jsx)(ut,{animateKpi:!0,loading:j,onClick:function(){window.location.hash.includes("workshop")||(window.location.hash="/workshop/".concat(a,"/").concat(S.kpi[0][0])),M(null),y(S.kpi[0][0]),_("AreaDetails "+JSON.stringify({EXPLINE:S.kpi[0][0]}))},className:v()(ia.a.cardCellItem,g===S.kpi[0][0]&&ia.a.cardCellItem_active),kpi:S.kpi[0][1],title:j?"Bottleneck:":"Bottleneck: ".concat(S.kpi[0][0]),kpiTextSize:"large",noPadding:!0})}),Object(G.jsx)("div",{className:ia.a.cardCell,children:S.kpi.map((function(e,t){var n=Object(c.a)(e,2),i=n[0],r=n[1];return 0===t?null:Object(G.jsx)("div",{children:Object(G.jsx)(ut,{animateKpi:!0,className:v()(ia.a.cardCellItem,g===i&&ia.a.cardCellItem_active),loading:j,onClick:function(){window.location.hash.includes("workshop")||(window.location.hash="/workshop/".concat(a,"/").concat(i)),M(null),y(i),_("AreaDetails "+JSON.stringify({EXPLINE:i}))},kpi:r,title:i,kpiTextSize:"xsmall",noPadding:!0})},i)}))})]}),Object(G.jsx)("span",{className:ia.a.spacer}),Object(G.jsx)("div",{className:ia.a.cardData,children:j?Object(G.jsx)($e,{height:"140px",width:"100%"}):Object(G.jsxs)(G.Fragment,{children:["graphics"===l&&Object(G.jsx)(Jn,{place:a,className:ia.a.cardCharts,data:S.chartsData[g],tableData:S.tablesData[g],selectedPeriod:t,selectedMachine:T,selectedLine:g}),"tables"===l&&Object(G.jsx)(Qn,{place:a,className:ia.a.cardTables,data:S.tablesData[g],selectedPeriod:t,selectedMachine:T,selectedLine:g})]})})]})})]}):null},sa=n(325),da=n.n(sa),la={global:{planAdherence:"79.1%",planAvailability:"80.7%",planAdherenceValues:{dtd:79.1,"3day":79.3,wtd:79.3,mtd:91.6,ytd:95.7},planAvailabilityValues:{dtd:80.7,"3day":80.7,wtd:80.7,mtd:93,ytd:96.6}},americas:{planAdherence:"96.4%",planAvailability:"98.4%",planAdherenceValues:{dtd:96.4,"3day":96.6,wtd:96.7,mtd:97.1,ytd:98.47},planAvailabilityValues:{dtd:98.4,"3day":98.4,wtd:98.4,mtd:98.5,ytd:99.26}},apj:{planAdherence:"92.6%",planAvailability:"94.5%",planAdherenceValues:{dtd:92.6,"3day":93.1,wtd:93,mtd:96.2,ytd:98.3},planAvailabilityValues:{dtd:94.5,"3day":94.7,wtd:94.7,mtd:97.6,ytd:99.1}},emea:{planAdherence:"48.2%",planAvailability:"49.2%",planAdherenceValues:{dtd:48.2,"3day":48.3,wtd:48.3,mtd:81.6,ytd:90.5},planAvailabilityValues:{dtd:49.2,"3day":49.2,wtd:49.2,mtd:82.8,ytd:91.4}}},ca=function(e){return e<80?"danger":e<90?"warning":"normal"},ua=function(e){var t=e.className,n=e.regionName,a=r.a.useState(!0),i=Object(c.a)(a,2),o=i[0],s=i[1];r.a.useLayoutEffect((function(){setTimeout((function(){s(!1)}),3e3)}));var d=la[n];return d?Object(G.jsxs)(Xe,{className:v()(da.a.card,t),hasHover:!0,title:"Operational",subtitle:"DTD",children:[Object(G.jsx)(ut,{animateKpi:!0,loading:o,hoverChildren:Object(G.jsxs)($t,{children:[Object(G.jsx)(en,{status:ca(d.planAdherenceValues.dtd),title:"DTD",value:d.planAdherenceValues.dtd}),Object(G.jsx)(en,{status:ca(d.planAdherenceValues["3day"]),title:"3 day",value:d.planAdherenceValues["3day"]}),Object(G.jsx)(en,{status:ca(d.planAdherenceValues.wtd),title:"WTD",value:d.planAdherenceValues.wtd}),Object(G.jsx)(en,{status:ca(d.planAdherenceValues.mtd),title:"MTD",value:d.planAdherenceValues.mtd})]}),kpi:d.planAdherence,title:"Plan Adherence"}),Object(G.jsx)(ut,{animateKpi:!0,loading:o,hoverChildren:Object(G.jsxs)($t,{children:[Object(G.jsx)(en,{status:ca(d.planAvailabilityValues.dtd),title:"DTD",value:d.planAvailabilityValues.dtd}),Object(G.jsx)(en,{status:ca(d.planAvailabilityValues["3day"]),title:"3 day",value:d.planAvailabilityValues["3day"]}),Object(G.jsx)(en,{status:ca(d.planAvailabilityValues.wtd),title:"WTD",value:d.planAvailabilityValues.wtd}),Object(G.jsx)(en,{status:ca(d.planAvailabilityValues.mtd),title:"MTD",value:d.planAvailabilityValues.mtd})]}),kpi:d.planAvailability,title:"Availability"})]}):null},ma=n(326),ha=n.n(ma),fa=function(){var e=r.a.useState(!0),t=Object(c.a)(e,2),n=t[0],a=t[1];return r.a.useLayoutEffect((function(){setTimeout((function(){a(!1)}),3e3)})),Object(G.jsx)(Xe,{className:ha.a.card,hasPadding:!0,title:"OHS",variant:2,children:Object(G.jsxs)(Yt,{children:[Object(G.jsx)(Gt,{loading:n,name:"Serious Injury",value:"1"}),Object(G.jsx)(Gt,{loading:n,name:"Minor Injury",value:"2"}),Object(G.jsx)(Gt,{loading:n,name:"Property Damage",value:"1"}),Object(G.jsx)(Gt,{loading:n,name:"Near Misses",value:"1"})]})})},pa=n(199),va=n.n(pa),ga=function(e){var t=e.onPeriodSelect,n=e.selectedPeriod;return Object(G.jsx)("div",{className:va.a.wrapper,children:["DTD","3 Day","WTD","MTD","YTD"].map((function(e){return Object(G.jsx)("div",{className:v()(va.a.item,e===n&&va.a.item_active),onClick:function(){t(e)},children:e},e)}))})},ba=["title","titleId"];function ya(){return(ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _a(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xa(e,t){var n=e.title,a=e.titleId,r=_a(e,ba);return i.createElement("svg",ya({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,Ct||(Ct=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53846 1.38462C4.58675 1.38462 1.38462 4.5842 1.38462 8.52941C1.38462 12.4746 4.58675 15.6742 8.53846 15.6742C10.51 15.6742 12.2939 14.8786 13.5885 13.59C14.8889 12.2955 15.6923 10.5068 15.6923 8.52941C15.6923 4.5842 12.4902 1.38462 8.53846 1.38462ZM0 8.52941C0 3.81799 3.82355 0 8.53846 0C13.2534 0 17.0769 3.81799 17.0769 8.52941C17.0769 10.6402 16.3086 12.5727 15.0375 14.0616L17.7969 16.8179C18.0675 17.0881 18.0677 17.5264 17.7975 17.7969C17.5273 18.0675 17.089 18.0677 16.8184 17.7975L14.0564 15.0387C12.5685 16.2983 10.6418 17.0588 8.53846 17.0588C3.82355 17.0588 0 13.2408 0 8.52941Z",fill:"#272A2E"})))}var wa,Ta,Ma=i.forwardRef(xa),Aa=(n.p,["title","titleId"]);function Ca(){return(Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ja(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oa(e,t){var n=e.title,a=e.titleId,r=ja(e,Aa);return i.createElement("svg",Ca({width:16,height:18,viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,wa||(wa=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.2972 4.92604C2.12012 1.94246 4.91898 0 8 0C11.081 0 13.8799 1.94246 14.7028 4.92604C14.9006 5.64337 15.0849 6.36463 15.2233 7.01036C15.5464 8.51739 15.8157 10.529 15.9823 11.9217C16.1392 13.2325 15.2355 14.4335 13.9086 14.6439C12.3181 14.896 9.86365 15.2308 8 15.2308C6.13635 15.2308 3.68191 14.896 2.09143 14.6439C0.764542 14.4335 -0.139154 13.2325 0.0176565 11.9217C0.184279 10.529 0.453613 8.51739 0.776676 7.01036C0.915101 6.36463 1.09936 5.64337 1.2972 4.92604ZM8 1.38462C5.50217 1.38462 3.29317 2.95427 2.64889 5.29018C2.45489 5.99357 2.27808 6.68707 2.14726 7.29733C1.83849 8.73769 1.57517 10.6951 1.40897 12.0843C1.33938 12.666 1.73642 13.1853 2.31333 13.2767C3.90039 13.5283 6.2581 13.8462 8 13.8462C9.74191 13.8462 12.0996 13.5283 13.6867 13.2767C14.2636 13.1853 14.6606 12.666 14.591 12.0843C14.4248 10.6951 14.1615 8.73769 13.8527 7.29733C13.7219 6.68707 13.5451 5.99357 13.3511 5.29018C12.7068 2.95427 10.4978 1.38462 8 1.38462Z",fill:"#272A2E"})),Ta||(Ta=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.13199 13.8462C6.51887 13.8462 6.83249 14.1561 6.83249 14.5385V15.4615C6.83249 16.0988 7.3552 16.6154 8 16.6154C8.6448 16.6154 9.16751 16.0988 9.16751 15.4615V14.5385C9.16751 14.1561 9.48113 13.8462 9.86801 13.8462C10.2549 13.8462 10.5685 14.1561 10.5685 14.5385V15.4615C10.5685 16.8635 9.41855 18 8 18C6.58145 18 5.43149 16.8635 5.43149 15.4615V14.5385C5.43149 14.1561 5.74511 13.8462 6.13199 13.8462Z",fill:"#272A2E"})))}var Sa,Pa=i.forwardRef(Oa),La=(n.p,["title","titleId"]);function Da(){return(Da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ea(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ia(e,t){var n=e.title,a=e.titleId,r=Ea(e,La);return i.createElement("svg",Da({width:18,height:14,viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,Sa||(Sa=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.400391 0.999903C0.400391 0.668532 0.66902 0.399902 1.00039 0.399902H17.0004C17.3318 0.399902 17.6004 0.668532 17.6004 0.999903C17.6004 1.33127 17.3318 1.5999 17.0004 1.5999H1.00039C0.66902 1.5999 0.400391 1.33127 0.400391 0.999903ZM0.400391 6.9999C0.400391 6.66853 0.66902 6.3999 1.00039 6.3999H17.0004C17.3318 6.3999 17.6004 6.66853 17.6004 6.9999C17.6004 7.33127 17.3318 7.5999 17.0004 7.5999H1.00039C0.66902 7.5999 0.400391 7.33127 0.400391 6.9999ZM1.00039 12.3999C0.66902 12.3999 0.400391 12.6685 0.400391 12.9999C0.400391 13.3313 0.66902 13.5999 1.00039 13.5999H17.0004C17.3318 13.5999 17.6004 13.3313 17.6004 12.9999C17.6004 12.6685 17.3318 12.3999 17.0004 12.3999H1.00039Z",fill:"black"})))}var ka,Ra=i.forwardRef(Ia),Fa=(n.p,["title","titleId"]);function Na(){return(Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function za(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wa(e,t){var n=e.title,a=e.titleId,r=za(e,Fa);return i.createElement("svg",Na({width:34,height:36,viewBox:"0 0 34 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,ka||(ka=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.8246 13.7464L0 0V7.58137L24.4974 17.5372L0 27.493V35.0744L33.8246 21.328L33.8246 21.3278L33.8246 13.7466L33.8246 13.7464Z",fill:"#A100FF"})))}var Ba=i.forwardRef(Wa),Ua=(n.p,n(129)),Ya=n.n(Ua),Ga=function(e){var t,n,a=e.className,i=Object(m.f)("/factory/:place"),r=Object(m.f)("/workshop/:place"),o=(null===i||void 0===i||null===(t=i.params)||void 0===t?void 0:t.place)||(null===r||void 0===r||null===(n=r.params)||void 0===n?void 0:n.place);return Object(G.jsxs)("header",{className:v()(Ya.a.header,a),children:[Object(G.jsxs)("div",{className:Ya.a.breadcrumbs,children:[Object(G.jsx)(Ba,{}),Object(G.jsxs)("div",{children:[Object(G.jsxs)(u.b,{to:"/",className:Ya.a.navLink,children:["/ Global information"," "]}),o&&Object(G.jsxs)(u.b,{to:"/factory/".concat(o),className:Ya.a.navLink,children:["/ ",o," "]}),r&&Object(G.jsx)(u.b,{to:"/workshop/".concat(o),className:Ya.a.navLink,children:"/ Workshop"})]})]}),Object(G.jsx)("div",{className:"header-info-options"}),Object(G.jsxs)("div",{className:Ya.a.menu,children:[Object(G.jsx)(Ma,{className:"search"}),Object(G.jsx)(Pa,{className:"alert"}),Object(G.jsx)(Ra,{className:"burger"})]})]})},Ha=n(238),Va=n.n(Ha),Ja=function(e){var t=e.regionName;return Object(G.jsx)("div",{className:Va.a.wrapper,children:Object(G.jsx)(Zn.a,{className:Va.a.select,onChange:function(e){var t,n=null===(t=e.detail.selectedOption)||void 0===t?void 0:t.value;_(n),_(JSON.stringify({Region:n,Country:""}))},children:[["global","Select region",""],["americas","AMERICAS","AMERICAS"],["apj","APJ","APJ"],["emea","EMEA","EMEA"]].map((function(e){var n=Object(c.a)(e,3),a=n[0],i=n[1],r=n[2];return Object(G.jsx)($n.a,{selected:t===a,value:r,children:i},a)}))})})},Ka=n(327),Xa=n.n(Ka),qa={"Machine 1":"Machine Area 1_1","Machine 2":"Machine Area 1_2","Machine 3":"Machine Area 1_3","Machine 5":"Machine Area 2_1","Machine 6":"Machine Area 2_2","Machine 7":"Machine Area 2_3","Machine 9":"Assembly","Machine 11":"Packaging","Machine 12":"Machine Area 1_1","Machine 13":"Machine Area 1_2","Machine 14":"Machine Area 1_3","Machine 16":"Machine Area 2_1","Machine 17":"Machine Area 2_2","Machine 18":"Machine Area 2_3","Machine 20":"Assembly","Machine 22":"Packaging","Machine 23":"Machine Area 1_1","Machine 24":"Machine Area 1_2","Machine 25":"Machine Area 1_3","Machine 27":"Machine Area 2_1","Machine 28":"Machine Area 2_2","Machine 29":"Machine Area 2_3","Machine 31":"Assembly","Machine 33":"Packaging"},Qa={level1:{"Plant Atlanta":"0.981500","Plant Beijing":"0.952896","Plant Frankfurt":"0.490750"},level2:{"Plant Frankfurt":{"Assembly Line 1":"0.996799","Machining Area 1":"0.000000","Machining Area 2":"0.981500","Packaging Line 1":"0.996799"},"Plant Beijing":{"Assembly Line 2":"0.996799","Machining Area 3":"0.955792","Machining Area 4":"0.950000","Packaging Line 2":"0.996799"},"Plant Atlanta":{"Assembly Line 3":"0.996799","Machining Area 5":"0.981500","Machining Area 6":"0.981500","Packaging Line 3":"0.996799"}},level3:{"Plant Frankfurt":{Assembly:["Machine 9","0.996799","Assembly Line 1"],"Machine Area 1_1":["Machine 1","0.981500","Machining Area 1"],"Machine Area 1_2":["Machine 2","0.000000","Machining Area 1"],"Machine Area 1_3":["Machine 3","0.981500","Machining Area 1"],"Machine Area 2_1":["Machine 5","0.981500","Machining Area 2"],"Machine Area 2_2":["Machine 6","0.981500","Machining Area 2"],"Machine Area 2_3":["Machine 7","0.981500","Machining Area 2"],Packaging:["Machine 11","0.996799","Packaging Line 1"]},"Plant Beijing":{Assembly:["Machine 20","0.996799","Assembly Line 2"],"Machine Area 1_1":["Machine 12","0.981500","Machining Area 3"],"Machine Area 1_2":["Machine 13","0.950000","Machining Area 3"],"Machine Area 1_3":["Machine 14","0.981500","Machining Area 3"],"Machine Area 2_1":["Machine 16","0.981500","Machining Area 4"],"Machine Area 2_2":["Machine 17","0.950000","Machining Area 4"],"Machine Area 2_3":["Machine 18","0.981500","Machining Area 4"],Packaging:["Machine 22","0.996799","Packaging Line 2"]},"Plant Atlanta":{Assembly:["Machine 31","0.996799","Assembly Line 3"],"Machine Area 1_1":["Machine 23","0.981500","Machining Area 5"],"Machine Area 1_2":["Machine 24","0.981500","Machining Area 5"],"Machine Area 1_3":["Machine 25","0.981500","Machining Area 5"],"Machine Area 2_1":["Machine 27","0.981500","Machining Area 6"],"Machine Area 2_2":["Machine 28","0.981500","Machining Area 6"],"Machine Area 2_3":["Machine 29","0.981500","Machining Area 6"],Packaging:["Machine 33","0.996799","Packaging Line 3"]}}},Za=function(){var e=Object(i.useState)(),t=Object(c.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)("global"),o=Object(c.a)(r,2),s=o[0],p=o[1],v=Object(i.useState)("DTD"),g=Object(c.a)(v,2),b=g[0],y=g[1];return Object(i.useEffect)((function(){var e=function(e){var t=e.data,n=function(){try{return JSON.parse(t)}catch(e){return t}}();if("string"===typeof n){var a={NOCLICK:"global",AMERICAS:"americas","DC Seattle":"americas","Plant Atlanta":"americas",APJ:"apj","Plant Beijing":"apj","DC Hong Kong":"apj",EMEA:"emea","DC Rotterdam":"emea","Plant Frankfurt":"emea"}[n];a&&p(a)}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[p]),Object(i.useEffect)((function(){fetch("https://myappdest-excellent-gelada-ic.cfapps.eu10.hana.ondemand.com/").then((function(e){try{return e.json()}catch(t){return Promise.reject()}})).then((function(e){var t={level1:Object(l.a)({},e[0].d.results.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(d.a)({},t.LOCDESCR,t.EXPPLANTAVAILRATEDTD))}),{})),level2:Object(l.a)({},e[1].d.results.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(d.a)({},t.LOCDESCR,Object(l.a)(Object(l.a)({},e[t.LOCDESCR]?e[t.LOCDESCR]:{}),{},Object(d.a)({},t.EXPLINE,t.EXPLINEAVAILRATEDTD))))}),{})),level3:Object(l.a)({},e[2].d.results.reduce((function(e,t){var n=qa[t.RESID]||"other";return Object(l.a)(Object(l.a)({},e),{},Object(d.a)({},t.LOCDESCR,Object(l.a)(Object(l.a)({},e[t.LOCDESCR]?e[t.LOCDESCR]:{}),{},Object(d.a)({},n,[t.RESID,t.EXPAVAILRATEDTD,t.EXPLINE]))))}),{}))};a(t)})).catch((function(e){a(Qa)}))}),[a]),n?Object(G.jsx)(f.a,{children:Object(G.jsx)("div",{className:Xa.a.app,children:Object(G.jsxs)(u.a,{hashType:"noslash",children:[Object(G.jsx)(m.a,{path:"/model",children:Object(G.jsx)(Ve,{data:n.level1})}),Object(G.jsx)(m.a,{path:["/model-factory/:place","/model-factory"],children:Object(G.jsx)(un,{data:n.level2})}),Object(G.jsx)(m.a,{path:["/model-workshop/:place/:line","/model-workshop/:place","/model-workshop"],children:Object(G.jsx)(Cn,{data:n.level3})}),Object(G.jsx)(m.a,{path:["/model-warehouse/:place/:line","/model-warehouse/:place","/model-warehouse","/warehouse/:place/:line","/warehouse/:place","/warehouse"],children:Object(G.jsx)(Nn,{data:n.level3})}),Object(G.jsx)(m.a,{exact:!0,path:["/","/factory/:place","/factory","/workshop/:place/:line","/workshop/:place","/workshop"],children:function(e){var t=e.match;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(h.CSSTransition,{appear:!0,in:null!==t,classNames:"headerAnimate",timeout:{appear:700,enter:1400,exit:700},unmountOnExit:!0,children:Object(G.jsx)("div",{children:Object(G.jsx)(Ga,{})})}),Object(G.jsx)(h.CSSTransition,{appear:!0,classNames:"cardOperationalAnimate",in:null!==t,timeout:{appear:700,enter:1400,exit:700},unmountOnExit:!0,children:Object(G.jsx)("div",{children:Object(G.jsx)(ua,{regionName:s})})})]})}}),Object(G.jsx)(m.a,{exact:!0,path:["/"],children:function(e){var t=e.match;return Object(G.jsx)(h.CSSTransition,{appear:!0,classNames:"regionSelectAnimate",in:null!==t,timeout:{appear:700,enter:1400,exit:700},unmountOnExit:!0,children:Object(G.jsx)("div",{children:Object(G.jsx)(Ja,{regionName:s})})})}}),Object(G.jsx)(m.a,{exact:!0,path:["/factory/:place","/factory","/workshop/:place/:line","/workshop/:place","/workshop"],children:function(e){var t=e.match;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(h.CSSTransition,{appear:!0,in:null!==t,classNames:"cardEffectivenessAnimate",timeout:{appear:700,enter:2100,exit:700},unmountOnExit:!0,children:Object(G.jsx)("div",{children:Object(G.jsx)(oa,{selectedPeriod:b})})}),Object(G.jsx)(h.CSSTransition,{appear:!0,in:null!==t,classNames:"cardOHSAnimate",timeout:{appear:700,enter:1400,exit:700},unmountOnExit:!0,children:Object(G.jsx)("div",{children:Object(G.jsx)(fa,{})})}),Object(G.jsx)(h.CSSTransition,{appear:!0,in:null!==t,classNames:"cardPeriodsAnimate",timeout:{appear:700,enter:1400,exit:700},unmountOnExit:!0,children:Object(G.jsx)("div",{children:Object(G.jsx)(ga,{onPeriodSelect:y,selectedPeriod:b})})})]})}}),Object(G.jsx)(m.a,{exact:!0,path:"/",children:function(e){var t=e.match;return Object(G.jsx)(h.CSSTransition,{appear:!0,classNames:"kpiPageAnimate",in:null!==t,timeout:{appear:700,enter:1400,exit:700},unmountOnExit:!0,children:Object(G.jsx)("div",{children:Object(G.jsx)(dn,{modelData:n.level1,regionName:s})})})}}),Object(G.jsx)(m.a,{exact:!0,path:["/factory/:place","/factory"],children:function(e){var t=e.match;return Object(G.jsx)(h.CSSTransition,{appear:!0,classNames:"factoryPageAnimate",in:null!==t,timeout:{appear:700,enter:1400,exit:700},unmountOnExit:!0,children:Object(G.jsx)("div",{children:Object(G.jsx)(xe,{modelData:n.level2})})})}}),Object(G.jsx)(m.a,{exact:!0,path:["/workshop/:place/:line","/workshop/:place","/workshop"],children:function(e){var t=e.match;return Object(G.jsx)(h.CSSTransition,{appear:!0,classNames:"workshopPageAnimate",in:null!==t,timeout:{appear:700,enter:1400,exit:700},unmountOnExit:!0,children:Object(G.jsx)("div",{children:Object(G.jsx)(Bn,{modelData:n.level3})})})}})]})})}):Object(G.jsx)(H,{isAbsolute:!0})},$a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,530)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};s.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(Za,{})}),document.getElementById("root")),$a()},54:function(e,t,n){e.exports={tablesGridWrapper:"TablesGrid_tablesGridWrapper__oTX6A",legend:"TablesGrid_legend__1gAQY",legendItem:"TablesGrid_legendItem__36-iD",legendItem_active:"TablesGrid_legendItem_active__3b9av",legendPin:"TablesGrid_legendPin__1FLo5",legendPin1:"TablesGrid_legendPin1__cK-c0",legendPin2:"TablesGrid_legendPin2__XrtTH",legendPin3:"TablesGrid_legendPin3__CnrU5",legendPin4:"TablesGrid_legendPin4__3XDOq",tables:"TablesGrid_tables__2vOgS",tableWrapper:"TablesGrid_tableWrapper__b7jIq",tableTitle:"TablesGrid_tableTitle__37fvK",table:"TablesGrid_table__23r7D",column:"TablesGrid_column__1uXMw",column_active:"TablesGrid_column_active__1_emv",columnItem:"TablesGrid_columnItem__15FrW",columnItem_danger:"TablesGrid_columnItem_danger__2artF",columnItem_warning:"TablesGrid_columnItem_warning__2a10i",columnItem_definition:"TablesGrid_columnItem_definition__owOUF"}},62:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return za})),n.d(t,"b",(function(){return Ra})),n.d(t,"c",(function(){return ni})),n.d(t,"d",(function(){return ti})),n.d(t,"e",(function(){return Aa})),n.d(t,"f",(function(){return fa})),n.d(t,"g",(function(){return Ca})),n.d(t,"h",(function(){return $a}));var a=n(10),i=n.n(a),r=n(17),o=n(2),s=n(4);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?b(e):t}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return y(this,n)}}function x(e,t,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw r}}return n}}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var C=Float32Array;function j(e,t,n){var a=new C(3);return e&&(a[0]=e),t&&(a[1]=t),n&&(a[2]=n),a}function O(e,t,n){return(n=n||new C(3))[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function S(e,t,n){n=n||new C(3);var a=e[2]*t[0]-e[0]*t[2],i=e[0]*t[1]-e[1]*t[0];return n[0]=e[1]*t[2]-e[2]*t[1],n[1]=a,n[2]=i,n}function P(e,t){t=t||new C(3);var n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],a=Math.sqrt(n);return a>1e-5?(t[0]=e[0]/a,t[1]=e[1]/a,t[2]=e[2]/a):(t[0]=0,t[1]=0,t[2]=0),t}var L,D,E,I=Float32Array;function k(e,t){return(t=t||new I(16))[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function R(e){return(e=e||new I(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function F(e,t){t=t||new I(16);var n=e[0],a=e[1],i=e[2],r=e[3],o=e[4],s=e[5],d=e[6],l=e[7],c=e[8],u=e[9],m=e[10],h=e[11],f=e[12],p=e[13],v=e[14],g=e[15],b=m*g,y=v*h,_=d*g,x=v*l,w=d*h,T=m*l,M=i*g,A=v*r,C=i*h,j=m*r,O=i*l,S=d*r,P=c*p,L=f*u,D=o*p,E=f*s,k=o*u,R=c*s,F=n*p,N=f*a,z=n*u,W=c*a,B=n*s,U=o*a,Y=b*s+x*u+w*p-(y*s+_*u+T*p),G=y*a+M*u+j*p-(b*a+A*u+C*p),H=_*a+A*s+O*p-(x*a+M*s+S*p),V=T*a+C*s+S*u-(w*a+j*s+O*u),J=1/(n*Y+o*G+c*H+f*V);return t[0]=J*Y,t[1]=J*G,t[2]=J*H,t[3]=J*V,t[4]=J*(y*o+_*c+T*f-(b*o+x*c+w*f)),t[5]=J*(b*n+A*c+C*f-(y*n+M*c+j*f)),t[6]=J*(x*n+M*o+S*f-(_*n+A*o+O*f)),t[7]=J*(w*n+j*o+O*c-(T*n+C*o+S*c)),t[8]=J*(P*l+E*h+k*g-(L*l+D*h+R*g)),t[9]=J*(L*r+F*h+W*g-(P*r+N*h+z*g)),t[10]=J*(D*r+N*l+B*g-(E*r+F*l+U*g)),t[11]=J*(R*r+z*l+U*h-(k*r+W*l+B*h)),t[12]=J*(D*m+R*v+L*d-(k*v+P*d+E*m)),t[13]=J*(z*v+P*i+N*m-(F*m+W*v+L*i)),t[14]=J*(F*d+U*v+E*i-(B*v+D*i+N*d)),t[15]=J*(B*m+k*i+W*d-(z*d+U*m+R*i)),t}function N(e,t,n){n=n||j();var a=t[0],i=t[1],r=t[2],o=a*e[3]+i*e[7]+r*e[11]+e[15];return n[0]=(a*e[0]+i*e[4]+r*e[8]+e[12])/o,n[1]=(a*e[1]+i*e[5]+r*e[9]+e[13])/o,n[2]=(a*e[2]+i*e[6]+r*e[10]+e[14])/o,n}function z(e,t,n){n=n||j();var a=t[0],i=t[1],r=t[2];return n[0]=a*e[0]+i*e[4]+r*e[8],n[1]=a*e[1]+i*e[5]+r*e[9],n[2]=a*e[2]+i*e[6]+r*e[10],n}var W=Object.freeze({__proto__:null,axisRotate:function(e,t,n,a){a=a||new I(16);var i=t[0],r=t[1],o=t[2],s=Math.sqrt(i*i+r*r+o*o),d=(i/=s)*i,l=(r/=s)*r,c=(o/=s)*o,u=Math.cos(n),m=Math.sin(n),h=1-u,f=d+(1-d)*u,p=i*r*h+o*m,v=i*o*h-r*m,g=i*r*h-o*m,b=l+(1-l)*u,y=r*o*h+i*m,_=i*o*h+r*m,x=r*o*h-i*m,w=c+(1-c)*u,T=e[0],M=e[1],A=e[2],C=e[3],j=e[4],O=e[5],S=e[6],P=e[7],L=e[8],D=e[9],E=e[10],k=e[11];return a[0]=f*T+p*j+v*L,a[1]=f*M+p*O+v*D,a[2]=f*A+p*S+v*E,a[3]=f*C+p*P+v*k,a[4]=g*T+b*j+y*L,a[5]=g*M+b*O+y*D,a[6]=g*A+b*S+y*E,a[7]=g*C+b*P+y*k,a[8]=_*T+x*j+w*L,a[9]=_*M+x*O+w*D,a[10]=_*A+x*S+w*E,a[11]=_*C+x*P+w*k,e!==a&&(a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15]),a},axisRotation:function(e,t,n){n=n||new I(16);var a=e[0],i=e[1],r=e[2],o=Math.sqrt(a*a+i*i+r*r),s=(a/=o)*a,d=(i/=o)*i,l=(r/=o)*r,c=Math.cos(t),u=Math.sin(t),m=1-c;return n[0]=s+(1-s)*c,n[1]=a*i*m+r*u,n[2]=a*r*m-i*u,n[3]=0,n[4]=a*i*m-r*u,n[5]=d+(1-d)*c,n[6]=i*r*m+a*u,n[7]=0,n[8]=a*r*m+i*u,n[9]=i*r*m-a*u,n[10]=l+(1-l)*c,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n},copy:k,frustum:function(e,t,n,a,i,r,o){var s=t-e,d=a-n,l=i-r;return(o=o||new I(16))[0]=2*i/s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*i/d,o[6]=0,o[7]=0,o[8]=(e+t)/s,o[9]=(a+n)/d,o[10]=r/l,o[11]=-1,o[12]=0,o[13]=0,o[14]=i*r/l,o[15]=0,o},getAxis:function(e,t,n){var a=4*t;return(n=n||j())[0]=e[a+0],n[1]=e[a+1],n[2]=e[a+2],n},getTranslation:function(e,t){return(t=t||j())[0]=e[12],t[1]=e[13],t[2]=e[14],t},identity:R,inverse:F,lookAt:function(e,t,n,a){return a=a||new I(16),L=L||j(),D=D||j(),P(function(e,t,n){return(n=n||new C(3))[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}(e,t,E=E||j()),E),P(S(n,E,L),L),P(S(E,L,D),D),a[0]=L[0],a[1]=L[1],a[2]=L[2],a[3]=0,a[4]=D[0],a[5]=D[1],a[6]=D[2],a[7]=0,a[8]=E[0],a[9]=E[1],a[10]=E[2],a[11]=0,a[12]=e[0],a[13]=e[1],a[14]=e[2],a[15]=1,a},multiply:function(e,t,n){n=n||new I(16);var a=e[0],i=e[1],r=e[2],o=e[3],s=e[4],d=e[5],l=e[6],c=e[7],u=e[8],m=e[9],h=e[10],f=e[11],p=e[12],v=e[13],g=e[14],b=e[15],y=t[0],_=t[1],x=t[2],w=t[3],T=t[4],M=t[5],A=t[6],C=t[7],j=t[8],O=t[9],S=t[10],P=t[11],L=t[12],D=t[13],E=t[14],k=t[15];return n[0]=a*y+s*_+u*x+p*w,n[1]=i*y+d*_+m*x+v*w,n[2]=r*y+l*_+h*x+g*w,n[3]=o*y+c*_+f*x+b*w,n[4]=a*T+s*M+u*A+p*C,n[5]=i*T+d*M+m*A+v*C,n[6]=r*T+l*M+h*A+g*C,n[7]=o*T+c*M+f*A+b*C,n[8]=a*j+s*O+u*S+p*P,n[9]=i*j+d*O+m*S+v*P,n[10]=r*j+l*O+h*S+g*P,n[11]=o*j+c*O+f*S+b*P,n[12]=a*L+s*D+u*E+p*k,n[13]=i*L+d*D+m*E+v*k,n[14]=r*L+l*D+h*E+g*k,n[15]=o*L+c*D+f*E+b*k,n},negate:function(e,t){return(t=t||new I(16))[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},ortho:function(e,t,n,a,i,r,o){return(o=o||new I(16))[0]=2/(t-e),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(a-n),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2/(i-r),o[11]=0,o[12]=(t+e)/(e-t),o[13]=(a+n)/(n-a),o[14]=(r+i)/(i-r),o[15]=1,o},perspective:function(e,t,n,a,i){i=i||new I(16);var r=Math.tan(.5*Math.PI-.5*e),o=1/(n-a);return i[0]=r/t,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=r,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(n+a)*o,i[11]=-1,i[12]=0,i[13]=0,i[14]=n*a*o*2,i[15]=0,i},rotateX:function(e,t,n){n=n||new I(16);var a=e[4],i=e[5],r=e[6],o=e[7],s=e[8],d=e[9],l=e[10],c=e[11],u=Math.cos(t),m=Math.sin(t);return n[4]=u*a+m*s,n[5]=u*i+m*d,n[6]=u*r+m*l,n[7]=u*o+m*c,n[8]=u*s-m*a,n[9]=u*d-m*i,n[10]=u*l-m*r,n[11]=u*c-m*o,e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n},rotateY:function(e,t,n){n=n||new I(16);var a=e[0],i=e[1],r=e[2],o=e[3],s=e[8],d=e[9],l=e[10],c=e[11],u=Math.cos(t),m=Math.sin(t);return n[0]=u*a-m*s,n[1]=u*i-m*d,n[2]=u*r-m*l,n[3]=u*o-m*c,n[8]=u*s+m*a,n[9]=u*d+m*i,n[10]=u*l+m*r,n[11]=u*c+m*o,e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n},rotateZ:function(e,t,n){n=n||new I(16);var a=e[0],i=e[1],r=e[2],o=e[3],s=e[4],d=e[5],l=e[6],c=e[7],u=Math.cos(t),m=Math.sin(t);return n[0]=u*a+m*s,n[1]=u*i+m*d,n[2]=u*r+m*l,n[3]=u*o+m*c,n[4]=u*s-m*a,n[5]=u*d-m*i,n[6]=u*l-m*r,n[7]=u*c-m*o,e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n},rotationX:function(e,t){t=t||new I(16);var n=Math.cos(e),a=Math.sin(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=a,t[7]=0,t[8]=0,t[9]=-a,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rotationY:function(e,t){t=t||new I(16);var n=Math.cos(e),a=Math.sin(e);return t[0]=n,t[1]=0,t[2]=-a,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=a,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rotationZ:function(e,t){t=t||new I(16);var n=Math.cos(e),a=Math.sin(e);return t[0]=n,t[1]=a,t[2]=0,t[3]=0,t[4]=-a,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},scale:function(e,t,n){n=n||new I(16);var a=t[0],i=t[1],r=t[2];return n[0]=a*e[0],n[1]=a*e[1],n[2]=a*e[2],n[3]=a*e[3],n[4]=i*e[4],n[5]=i*e[5],n[6]=i*e[6],n[7]=i*e[7],n[8]=r*e[8],n[9]=r*e[9],n[10]=r*e[10],n[11]=r*e[11],e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n},scaling:function(e,t){return(t=t||new I(16))[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},setAxis:function(e,t,n,a){a!==e&&(a=k(e,a));var i=4*n;return a[i+0]=t[0],a[i+1]=t[1],a[i+2]=t[2],a},setDefaultType:function(e){var t=I;return I=e,t},setTranslation:function(e,t,n){return e!==(n=n||R())&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11]),n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n},transformDirection:z,transformNormal:function(e,t,n){n=n||j();var a=F(e),i=t[0],r=t[1],o=t[2];return n[0]=i*a[0]+r*a[1]+o*a[2],n[1]=i*a[4]+r*a[5]+o*a[6],n[2]=i*a[8]+r*a[9]+o*a[10],n},transformPoint:N,translate:function(e,t,n){n=n||new I(16);var a=t[0],i=t[1],r=t[2],o=e[0],s=e[1],d=e[2],l=e[3],c=e[4],u=e[5],m=e[6],h=e[7],f=e[8],p=e[9],v=e[10],g=e[11],b=e[12],y=e[13],_=e[14],x=e[15];return e!==n&&(n[0]=o,n[1]=s,n[2]=d,n[3]=l,n[4]=c,n[5]=u,n[6]=m,n[7]=h,n[8]=f,n[9]=p,n[10]=v,n[11]=g),n[12]=o*a+c*i+f*r+b,n[13]=s*a+u*i+p*r+y,n[14]=d*a+m*i+v*r+_,n[15]=l*a+h*i+g*r+x,n},translation:function(e,t){return(t=t||new I(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},transpose:function(e,t){var n;if((t=t||new I(16))===e)return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,t;var a=e[0],i=e[1],r=e[2],o=e[3],s=e[4],d=e[5],l=e[6],c=e[7],u=e[8],m=e[9],h=e[10],f=e[11],p=e[12],v=e[13],g=e[14],b=e[15];return t[0]=a,t[1]=s,t[2]=u,t[3]=p,t[4]=i,t[5]=d,t[6]=m,t[7]=v,t[8]=r,t[9]=l,t[10]=h,t[11]=g,t[12]=o,t[13]=c,t[14]=f,t[15]=b,t}}),B={},U=B;function Y(e){if(e instanceof Int8Array)return 5120;if(e instanceof Uint8Array)return 5121;if(e instanceof Uint8ClampedArray)return 5121;if(e instanceof Int16Array)return 5122;if(e instanceof Uint16Array)return 5123;if(e instanceof Int32Array)return 5124;if(e instanceof Uint32Array)return 5125;if(e instanceof Float32Array)return 5126;throw new Error("unsupported typed array type")}U[5120]=Int8Array,U[5121]=Uint8Array,U[5122]=Int16Array,U[5123]=Uint16Array,U[5124]=Int32Array,U[5125]=Uint32Array,U[5126]=Float32Array,U[32819]=Uint16Array,U[32820]=Uint16Array,U[33635]=Uint16Array,U[5131]=Uint16Array,U[33640]=Uint32Array,U[35899]=Uint32Array,U[35902]=Uint32Array,U[36269]=Uint32Array,U[34042]=Uint32Array;var G="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function H(){var e;(e=console).error.apply(e,arguments)}function V(){var e;(e=console).warn.apply(e,arguments)}function J(e,t){return"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture}function K(e,t,n,a,i){e.bindBuffer(t,n),e.bufferData(t,a,i||35044)}function X(e,t,n,a){if("undefined"!=typeof WebGLBuffer&&t instanceof WebGLBuffer)return t;n=n||34962;var i=e.createBuffer();return K(e,n,i,t,a),i}function q(e){return"indices"===e}function Q(e){return e.length?e:e.data}var Z=/coord|texture/i,$=/color|colour/i;function ee(e,t){var n;if(t%(n=Z.test(e)?2:$.test(e)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(n," but ").concat(t," values is not evenly divisible by ").concat(n,". You should specify it."));return n}function te(e,t){return e.numComponents||e.size||ee(t,Q(e).length)}function ne(e,t){if(G(e))return e;if(G(e.data))return e.data;Array.isArray(e)&&(e={data:e});var n=e.type;return n||(n=q(t)?Uint16Array:Float32Array),new n(e.data)}var ae=["position","positions","a_position"];function ie(e,t,n){var a=function(e,t){var n={};return Object.keys(t).forEach((function(a){if(!q(a)){var i=t[a],r=i.attrib||i.name||i.attribName||""+a;if(i.value){if(!Array.isArray(i.value)&&!G(i.value))throw new Error("array.value is not array or typedarray");n[r]={value:i.value}}else{var o,s,d,l;if(i.buffer&&i.buffer instanceof WebGLBuffer)o=i.buffer,l=i.numComponents||i.size,s=i.type,d=i.normalize;else if("number"==typeof i||"number"==typeof i.data){var c=i.data||i,u=i.type||Float32Array,m=c*u.BYTES_PER_ELEMENT;s=function(e){if(e===Int8Array)return 5120;if(e===Uint8Array)return 5121;if(e===Uint8ClampedArray)return 5121;if(e===Int16Array)return 5122;if(e===Uint16Array)return 5123;if(e===Int32Array)return 5124;if(e===Uint32Array)return 5125;if(e===Float32Array)return 5126;throw new Error("unsupported typed array type")}(u),d=void 0!==i.normalize?i.normalize:(f=u)===Int8Array||f===Uint8Array,l=i.numComponents||i.size||ee(a,c),o=e.createBuffer(),e.bindBuffer(34962,o),e.bufferData(34962,m,i.drawType||35044)}else{var h=ne(i,a);o=X(e,h,void 0,i.drawType),s=Y(h),d=void 0!==i.normalize?i.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(h),l=te(i,a)}n[r]={buffer:o,numComponents:l,type:s,normalize:d,stride:i.stride||0,offset:i.offset||0,divisor:void 0===i.divisor?void 0:i.divisor,drawType:i.drawType}}}var f})),e.bindBuffer(34962,null),n}(e,t),i=Object.assign({},n||{});i.attribs=Object.assign({},n?n.attribs:{},a);var r=t.indices;if(r){var o=ne(r,"indices");i.indices=X(e,o,34963),i.numElements=o.length,i.elementType=Y(o)}else i.numElements||(i.numElements=function(e,t){var n,a;for(a=0;a<ae.length&&!((n=ae[a])in t)&&!((n=""+n)in t);++a);a===ae.length&&(n=Object.keys(t)[0]);var i=t[n];e.bindBuffer(34962,i.buffer);var r=e.getBufferParameter(34962,34660);e.bindBuffer(34962,null);var o,s=r/(5120===(o=i.type)||5121===o?1:5122===o||5123===o?2:5124===o||5125===o||5126===o?4:0),d=i.numComponents||i.size,l=s/d;if(l%1!=0)throw new Error("numComponents ".concat(d," not correct for length ").concat(length));return l}(e,i.attribs));return i}function re(e,t){var n={};return Object.keys(t).forEach((function(a){n[a]=function(e,t,n){var a="indices"===n?34963:34962;return X(e,ne(t,n),a)}(e,t[a],a)})),t.indices?(n.numElements=t.indices.length,n.elementType=Y(ne(t.indices))):n.numElements=function(e){var t,n;for(n=0;n<ae.length&&!((t=ae[n])in e);++n);n===ae.length&&(t=Object.keys(e)[0]);var a=e[t],i=Q(a).length,r=te(a,t),o=i/r;if(i%r>0)throw new Error("numComponents ".concat(r," not correct for length ").concat(i));return o}(t),n}var oe=Q,se=te;function de(e,t){var n=0;return e.push=function(){for(var t=0;t<arguments.length;++t){var a=arguments[t];if(a instanceof Array||G(a))for(var i=0;i<a.length;++i)e[n++]=a[i];else e[n++]=a}},e.reset=function(e){n=e||0},e.numComponents=t,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function le(e,t,n){return de(new(n||Float32Array)(e*t),e)}function ce(e){return"indices"!==e}function ue(e,t,n){for(var a=e.length,i=new Float32Array(3),r=0;r<a;r+=3)n(t,[e[r],e[r+1],e[r+2]],i),e[r]=i[0],e[r+1]=i[1],e[r+2]=i[2]}function me(e,t,n){n=n||j();var a=t[0],i=t[1],r=t[2];return n[0]=a*e[0]+i*e[1]+r*e[2],n[1]=a*e[4]+i*e[5]+r*e[6],n[2]=a*e[8]+i*e[9]+r*e[10],n}function he(e,t){return ue(e,t,z),e}function fe(e,t){return ue(e,F(t),me),e}function pe(e,t){return ue(e,t,N),e}function ve(e,t){return Object.keys(e).forEach((function(n){var a=e[n];n.indexOf("pos")>=0?pe(a,t):n.indexOf("tan")>=0||n.indexOf("binorm")>=0?he(a,t):n.indexOf("norm")>=0&&fe(a,t)})),e}function ge(e,t,n){return e=e||2,{position:{numComponents:2,data:[(t=t||0)+-1*(e*=.5),(n=n||0)+-1*e,t+1*e,n+-1*e,t+-1*e,n+1*e,t+1*e,n+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function be(e,t,n,a,i){e=e||1,t=t||1,n=n||1,a=a||1,i=i||R();for(var r=(n+1)*(a+1),o=le(3,r),s=le(3,r),d=le(2,r),l=0;l<=a;l++)for(var c=0;c<=n;c++){var u=c/n,m=l/a;o.push(e*u-.5*e,0,t*m-.5*t),s.push(0,1,0),d.push(u,m)}for(var h=n+1,f=le(3,n*a*2,Uint16Array),p=0;p<a;p++)for(var v=0;v<n;v++)f.push((p+0)*h+v,(p+1)*h+v,(p+0)*h+v+1),f.push((p+1)*h+v,(p+1)*h+v+1,(p+0)*h+v+1);return ve({position:o,normal:s,texcoord:d,indices:f},i)}function ye(e,t,n,a,i,r,o){if(t<=0||n<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");a=a||0,r=r||0;for(var s=(i=i||Math.PI)-a,d=(o=o||2*Math.PI)-r,l=(t+1)*(n+1),c=le(3,l),u=le(3,l),m=le(2,l),h=le(3,l),f=le(3,l),p=0;p<=n;p++)for(var v=0;v<=t;v++){var g=v/t,b=p/n,y=d*g+r,_=s*b+a,x=Math.sin(y),w=Math.cos(y),T=Math.sin(_),M=w*T,A=Math.cos(_),C=x*T,j=d*((v+1)/t)+r,O=s*(p/n)+a,S=Math.sin(j),P=Math.cos(j),L=Math.sin(O),D=Math.cos(O);h.push(P*L-M,D-A,S*L-C);var E=d*(v/t)+r,I=s*((p+1)/n)+a,k=Math.sin(E),R=Math.cos(E),F=Math.sin(I),N=R*F-M,z=Math.cos(I)-A,W=k*F-C;c.push(e*M,e*A,e*C),u.push(M,A,C),m.push(1-g,b),f.push(N,z,W)}for(var B=t+1,U=le(3,t*n*2,Uint16Array),Y=0;Y<t;Y++)for(var G=0;G<n;G++)U.push((G+0)*B+Y,(G+0)*B+Y+1,(G+1)*B+Y),U.push((G+1)*B+Y,(G+0)*B+Y+1,(G+1)*B+Y+1);return{position:c,normal:u,texcoord:m,indices:U,tangent:h,bitangent:f}}var _e=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function xe(e){for(var t=(e=e||1)/2,n=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],a=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],i=[[1,0],[0,0],[0,1],[1,1]],r=le(3,24),o=le(3,24),s=le(2,24),d=le(3,12,Uint16Array),l=0;l<6;++l){for(var c=_e[l],u=0;u<4;++u){var m=n[c[u]],h=a[l],f=i[u];r.push(m),o.push(h),s.push(f)}var p=4*l;d.push(p+0,p+1,p+2),d.push(p+0,p+2,p+3)}return{position:r,normal:o,texcoord:s,indices:d}}function we(e,t,n,a,i,r,o){if(a<3)throw new Error("radialSubdivisions must be 3 or greater");if(i<1)throw new Error("verticalSubdivisions must be 1 or greater");for(var s=void 0===r||r,d=void 0===o||o,l=(s?2:0)+(d?2:0),c=(a+1)*(i+1+l),u=le(3,c),m=le(3,c),h=le(2,c),f=le(3,a*(i+l/2)*2,Uint16Array),p=a+1,v=Math.atan2(e-t,n),g=Math.cos(v),b=Math.sin(v),y=i+(d?2:0),_=s?-2:0;_<=y;++_){var x=_/i,w=n*x,T=void 0;_<0?(w=0,x=1,T=e):_>i?(w=n,x=1,T=t):T=e+_/i*(t-e),-2!==_&&_!==i+2||(T=0,x=0),w-=n/2;for(var M=0;M<p;++M){var A=Math.sin(M*Math.PI*2/a),C=Math.cos(M*Math.PI*2/a);u.push(A*T,w,C*T),_<0?m.push(0,-1,0):_>i?m.push(0,1,0):0===T?m.push(0,0,0):m.push(A*g,b,C*g),h.push(M/a,1-x)}}for(var j=0;j<i+l;++j)if(!(1===j&&s||j===i+l-2&&d))for(var O=0;O<a;++O)f.push(p*(j+0)+0+O,p*(j+0)+1+O,p*(j+1)+1+O),f.push(p*(j+0)+0+O,p*(j+1)+1+O,p*(j+1)+0+O);return{position:u,normal:m,texcoord:h,indices:f}}function Te(e,t){t=t||[];for(var n=[],a=0;a<e.length;a+=4){var i=e[a],r=e.slice(a+1,a+4);r.push.apply(r,t);for(var o=0;o<i;++o)n.push.apply(n,r)}return n}function Me(){var e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=Te([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),n=Te([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),a=e.length/3,i={position:le(3,a),texcoord:le(2,a),normal:le(3,a),color:le(4,a,Uint8Array),indices:le(3,a/3,Uint16Array)};i.position.push(e),i.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),i.normal.push(t),i.color.push(n);for(var r=0;r<a;++r)i.indices.push(r);return i}function Ae(e,t,n,a,i,r,o){if(i<=0)throw new Error("subdivisionDown must be > 0");var s=(o=o||1)-(r=r||0),d=2*(i+1)*4,l=le(3,d),c=le(3,d),u=le(2,d);function m(e,t,n){return e+(t-e)*n}function h(t,n,o,d,h,f){for(var p=0;p<=i;p++){var v=n/1,g=p/i,b=2*(v-.5),y=(r+g*s)*Math.PI,_=Math.sin(y),x=Math.cos(y),w=m(e,t,_),T=b*a,M=x*e,A=_*w;l.push(T,M,A);var j=O((S=[0,_,x],P=o,(L=(L=void 0)||new C(3))[0]=S[0]*P[0],L[1]=S[1]*P[1],L[2]=S[2]*P[2],L),d);c.push(j),u.push(v*h+f,g)}var S,P,L}for(var f=0;f<2;f++){var p=2*(f/1-.5);h(t,f,[1,1,1],[0,0,0],1,0),h(t,f,[0,0,0],[p,0,0],0,0),h(n,f,[1,1,1],[0,0,0],1,0),h(n,f,[0,0,0],[p,0,0],0,1)}var v=le(3,2*i*4,Uint16Array);function g(e,t){for(var n=0;n<i;++n)v.push(e+n+0,e+n+1,t+n+0),v.push(e+n+1,t+n+1,t+n+0)}var b=i+1;return g(0*b,4*b),g(5*b,7*b),g(6*b,2*b),g(3*b,1*b),{position:l,normal:c,texcoord:u,indices:v}}function Ce(e,t,n,a,i,r){return we(e,e,t,n,a,i,r)}function je(e,t,n,a,i,r){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(a<3)throw new Error("verticalSubdivisions must be 3 or greater");i=i||0;for(var o=(r=r||2*Math.PI)-i,s=n+1,d=a+1,l=s*d,c=le(3,l),u=le(3,l),m=le(2,l),h=le(3,n*a*2,Uint16Array),f=0;f<d;++f)for(var p=f/a,v=p*Math.PI*2,g=Math.sin(v),b=e+g*t,y=Math.cos(v),_=y*t,x=0;x<s;++x){var w=x/n,T=i+w*o,M=Math.sin(T),A=Math.cos(T),C=M*b,j=A*b,O=M*g,S=A*g;c.push(C,_,j),u.push(O,y,S),m.push(w,1-p)}for(var P=0;P<a;++P)for(var L=0;L<n;++L){var D=1+L,E=1+P;h.push(s*P+L,s*E+L,s*P+D),h.push(s*E+L,s*E+D,s*P+D)}return{position:c,normal:u,texcoord:m,indices:h}}function Oe(e,t,n,a,i){if(t<3)throw new Error("divisions must be at least 3");i=i||1,a=a||0;for(var r=(t+1)*((n=n||1)+1),o=le(3,r),s=le(3,r),d=le(2,r),l=le(3,n*t*2,Uint16Array),c=0,u=e-a,m=t+1,h=0;h<=n;++h){for(var f=a+u*Math.pow(h/n,i),p=0;p<=t;++p){var v=2*Math.PI*p/t,g=f*Math.cos(v),b=f*Math.sin(v);if(o.push(g,0,b),s.push(0,1,0),d.push(1-p/t,h/n),h>0&&p!==t){var y=c+(p+1),_=c+p,x=c+p-m,w=c+(p+1)-m;l.push(y,_,x),l.push(y,x,w)}}c+=t+1}return{position:o,normal:s,texcoord:d,indices:l}}function Se(e){return function(t){var n=e.apply(this,Array.prototype.slice.call(arguments,1));return re(t,n)}}function Pe(e){return function(t){var n=e.apply(null,Array.prototype.slice.call(arguments,1));return ie(t,n)}}var Le=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function De(e,t,n,a){a=a||0;for(var i=e.length,r=0;r<i;++r)t[n+r]=e[r]+a}function Ee(e,t){var n,a,i=oe(e),r=new i.constructor(t),o=r;return i.numComponents&&i.numElements&&de(r,i.numComponents),e.data&&(n=e,a=o={data:r},Le.forEach((function(e){var t=n[e];void 0!==t&&(a[e]=t)}))),o}var Ie=Pe(Me),ke=Se(Me),Re=Pe(xe),Fe=Se(xe),Ne=Pe(be),ze=Se(be),We=Pe(ye),Be=Se(ye),Ue=Pe(we),Ye=Se(we),Ge=Pe(ge),He=Se(ge),Ve=Pe(Ae),Je=Se(Ae),Ke=Pe(Ce),Xe=Se(Ce),qe=Pe(je),Qe=Se(je),Ze=Pe(Oe),$e=Se(Oe),et=Ve,tt=Je,nt=Ae,at=Object.freeze({__proto__:null,create3DFBufferInfo:Ie,create3DFBuffers:ke,create3DFVertices:Me,createAugmentedTypedArray:le,createCubeBufferInfo:Re,createCubeBuffers:Fe,createCubeVertices:xe,createPlaneBufferInfo:Ne,createPlaneBuffers:ze,createPlaneVertices:be,createSphereBufferInfo:We,createSphereBuffers:Be,createSphereVertices:ye,createTruncatedConeBufferInfo:Ue,createTruncatedConeBuffers:Ye,createTruncatedConeVertices:we,createXYQuadBufferInfo:Ge,createXYQuadBuffers:He,createXYQuadVertices:ge,createCresentBufferInfo:et,createCresentBuffers:tt,createCresentVertices:nt,createCrescentBufferInfo:Ve,createCrescentBuffers:Je,createCrescentVertices:Ae,createCylinderBufferInfo:Ke,createCylinderBuffers:Xe,createCylinderVertices:Ce,createTorusBufferInfo:qe,createTorusBuffers:Qe,createTorusVertices:je,createDiscBufferInfo:Ze,createDiscBuffers:$e,createDiscVertices:Oe,deindexVertices:function(e){var t=e.indices,n={},a=t.length;return Object.keys(e).filter(ce).forEach((function(i){for(var r=e[i],o=r.numComponents,s=le(o,a,r.constructor),d=0;d<a;++d)for(var l=t[d]*o,c=0;c<o;++c)s.push(r[l+c]);n[i]=s})),n},flattenNormals:function(e){if(e.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");for(var t=e.normal,n=t.length,a=0;a<n;a+=9){var i=t[a+0],r=t[a+1],o=t[a+2],s=t[a+3],d=t[a+4],l=t[a+5],c=i+s+t[a+6],u=r+d+t[a+7],m=o+l+t[a+8],h=Math.sqrt(c*c+u*u+m*m);c/=h,u/=h,m/=h,t[a+0]=c,t[a+1]=u,t[a+2]=m,t[a+3]=c,t[a+4]=u,t[a+5]=m,t[a+6]=c,t[a+7]=u,t[a+8]=m}return e},makeRandomVertexColors:function(e,t){t=t||{};var n=e.position.numElements,a=le(4,n,Uint8Array),i=t.rand||function(e,t){return t<3?(256,256*Math.random()|0):255};if(e.color=a,e.indices)for(var r=0;r<n;++r)a.push(i(r,0),i(r,1),i(r,2),i(r,3));else for(var o=t.vertsPerColor||3,s=n/o,d=0;d<s;++d)for(var l=[i(d,0),i(d,1),i(d,2),i(d,3)],c=0;c<o;++c)a.push(l);return e},reorientDirections:he,reorientNormals:fe,reorientPositions:pe,reorientVertices:ve,concatVertices:function(e){for(var t,n={},a=function(a){var i=e[a];Object.keys(i).forEach((function(e){n[e]||(n[e]=[]),t||"indices"===e||(t=e);var a=i[e],r=se(a,e),o=oe(a).length/r;n[e].push(o)}))},i=0;i<e.length;++i)a(i);var r=n[t],o={};return Object.keys(n).forEach((function(t){var n=function(t){for(var n,a=0,i=0;i<e.length;++i){var r=e[i][t];a+=oe(r).length,n&&!r.data||(n=r)}return{length:a,spec:n}}(t),a=Ee(n.spec,n.length);!function(t,n,a){for(var i=0,r=0,o=0;o<e.length;++o){var s=e[o][t],d=oe(s);"indices"===t?(De(d,a,r,i),i+=n[o]):De(d,a,r),r+=d.length}}(t,r,oe(a)),o[t]=a})),o},duplicateVertices:function(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n],i=oe(a),r=Ee(a,i.length);De(i,oe(r),0),t[n]=r})),t}});function it(e){return!!e.texStorage2D}function rt(e){return!e.texStorage2D}var ot,st,dt,lt=(ot={},st={},function(e,t){return function(e){var t=e.constructor.name;if(!ot[t]){for(var n in e)if("number"==typeof e[n]){var a=st[e[n]];st[e[n]]=a?"".concat(a," | ").concat(n):n}ot[t]=!0}}(e),st[t]||"0x"+t.toString(16)}),ct={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},ut=G;function mt(){return dt=dt||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null)}var ht,ft=6407,pt=33319,vt={6406:{numColorComponents:1},6409:{numColorComponents:1},6410:{numColorComponents:2},6407:{numColorComponents:3},6408:{numColorComponents:4},6403:{numColorComponents:1},36244:{numColorComponents:1},33319:{numColorComponents:2},33320:{numColorComponents:2}};function gt(e){if(!ht){var t={6406:{textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},6409:{textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},6410:{textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]}};t[ft]={textureFormat:ft,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},t[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},t[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[5121]},t[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[5120]},t[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},t[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[5126]},t[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5121]},t[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5120]},t[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5123]},t[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},t[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},t[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},t[33323]={textureFormat:pt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[5121]},t[36757]={textureFormat:pt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[5120]},t[33327]={textureFormat:pt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},t[33328]={textureFormat:pt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[5126]},t[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5121]},t[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5120]},t[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5123]},t[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},t[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5125]},t[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},t[32849]={textureFormat:ft,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[5121]},t[35905]={textureFormat:ft,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5121]},t[36194]={textureFormat:ft,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},t[36758]={textureFormat:ft,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5120]},t[35898]={textureFormat:ft,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},t[35901]={textureFormat:ft,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},t[34843]={textureFormat:ft,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},t[34837]={textureFormat:ft,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5126]},t[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5121]},t[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5120]},t[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5123]},t[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},t[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5125]},t[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},t[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},t[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},t[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[5120]},t[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},t[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},t[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},t[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},t[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[5126]},t[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5121]},t[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5120]},t[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},t[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5123]},t[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},t[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},t[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5125]},t[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},t[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},t[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5126]},t[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},t[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(t).forEach((function(e){var n=t[e];n.bytesPerElementMap={},n.bytesPerElement.forEach((function(e,t){var a=n.type[t];n.bytesPerElementMap[a]=e}))})),ht=t}return ht[e]}function bt(e){var t=gt(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function yt(e){return 0==(e&e-1)}function _t(e,t,n,a,i){if(i%1!=0)throw"can't guess dimensions";if(n||a){if(a){if(!n&&(n=i/a)%1)throw"can't guess dimensions"}else if((a=i/n)%1)throw"can't guess dimensions"}else{var r=Math.sqrt(i/(34067===t?6:1));r%1==0?(n=r,a=r):(n=i,a=1)}return{width:n,height:a}}vt[ft]={numColorComponents:3},vt[36248]={numColorComponents:3},vt[6408]={numColorComponents:4},vt[36249]={numColorComponents:4},vt[6402]={numColorComponents:1},vt[34041]={numColorComponents:2};var xt={};function wt(e,t){void 0!==t.colorspaceConversion&&(xt.colorspaceConversion=e.getParameter(37443),e.pixelStorei(37443,t.colorspaceConversion)),void 0!==t.premultiplyAlpha&&(xt.premultiplyAlpha=e.getParameter(37441),e.pixelStorei(37441,t.premultiplyAlpha)),void 0!==t.flipY&&(xt.flipY=e.getParameter(37440),e.pixelStorei(37440,t.flipY))}function Tt(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(37443,xt.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(37441,xt.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(37440,xt.flipY)}function Mt(e){xt.unpackAlignment=e.getParameter(3317),it(e)&&(xt.unpackRowLength=e.getParameter(3314),xt.unpackImageHeight=e.getParameter(32878),xt.unpackSkipPixels=e.getParameter(3316),xt.unpackSkipRows=e.getParameter(3315),xt.unpackSkipImages=e.getParameter(32877))}function At(e){e.pixelStorei(3317,xt.unpackAlignment),it(e)&&(e.pixelStorei(3314,xt.unpackRowLength),e.pixelStorei(32878,xt.unpackImageHeight),e.pixelStorei(3316,xt.unpackSkipPixels),e.pixelStorei(3315,xt.unpackSkipRows),e.pixelStorei(32877,xt.unpackSkipImages))}function Ct(e,t,n){var a=n.target||3553;e.bindTexture(a,t),function(e,t,n,a){a.minMag&&(n.call(e,t,10241,a.minMag),n.call(e,t,10240,a.minMag)),a.min&&n.call(e,t,10241,a.min),a.mag&&n.call(e,t,10240,a.mag),a.wrap&&(n.call(e,t,10242,a.wrap),n.call(e,t,10243,a.wrap),(32879===t||"undefined"!=typeof WebGLSampler&&t instanceof WebGLSampler)&&n.call(e,t,32882,a.wrap)),a.wrapR&&n.call(e,t,32882,a.wrapR),a.wrapS&&n.call(e,t,10242,a.wrapS),a.wrapT&&n.call(e,t,10243,a.wrapT),a.minLod&&n.call(e,t,33082,a.minLod),a.maxLod&&n.call(e,t,33083,a.maxLod),a.baseLevel&&n.call(e,t,33084,a.baseLevel),a.maxLevel&&n.call(e,t,33085,a.maxLevel)}(e,a,e.texParameteri,n)}function jt(e,t,n,a,i,r){r=r||6408;var o=(n=n||ct.textureOptions).target||3553;if(a=a||n.width,i=i||n.height,e.bindTexture(o,t),function(e,t,n,a){if(!it(e))return yt(t)&&yt(n);var i=gt(a);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}(e,a,i,r))e.generateMipmap(o);else{var s=function(e){var t=gt(e);if(!t)throw"unknown internal format";return t.textureFilterable}(r)?9729:9728;e.texParameteri(o,10241,s),e.texParameteri(o,10240,s),e.texParameteri(o,10242,33071),e.texParameteri(o,10243,33071)}}function Ot(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function St(e,t){return(t=t||{}).cubeFaceOrder||[34069,34070,34071,34072,34073,34074]}function Pt(e,t){var n=St(0,t).map((function(e,t){return{face:e,ndx:t}}));return n.sort((function(e,t){return e.face-t.face})),n}function Lt(e,t,n,a){var i=(a=a||ct.textureOptions).target||3553,r=a.level||0,o=n.width,s=n.height,d=a.internalFormat||a.format||6408,l=bt(d),c=a.format||l.format,u=a.type||l.type;if(wt(e,a),e.bindTexture(i,t),34067===i){var m,h,f=n.width,p=n.height;if(f/6===p)m=p,h=[0,0,1,0,2,0,3,0,4,0,5,0];else if(p/6===f)m=f,h=[0,0,0,1,0,2,0,3,0,4,0,5];else if(f/3==p/2)m=f/3,h=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(f/2!=p/3)throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);m=f/2,h=[0,0,1,0,0,1,1,1,0,2,1,2]}var v=mt();v?(v.canvas.width=m,v.canvas.height=m,o=m,s=m,Pt(0,a).forEach((function(t){var a=h[2*t.ndx+0]*m,i=h[2*t.ndx+1]*m;v.drawImage(n,a,i,m,m,0,0,m,m),e.texImage2D(t.face,r,d,c,u,v.canvas)})),v.canvas.width=1,v.canvas.height=1):"undefined"!=typeof createImageBitmap&&(o=m,s=m,Pt(0,a).forEach((function(l){var f=h[2*l.ndx+0]*m,p=h[2*l.ndx+1]*m;e.texImage2D(l.face,r,d,m,m,0,c,u,null),createImageBitmap(n,f,p,m,m,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(n){wt(e,a),e.bindTexture(i,t),e.texImage2D(l.face,r,d,c,u,n),Tt(e,a),Ot(a)&&jt(e,t,a,o,s,d)}))})))}else if(32879===i||35866===i){var g=Math.min(n.width,n.height),b=Math.max(n.width,n.height),y=b/g;if(y%1!=0)throw"can not compute 3D dimensions of element";var _=n.width===b?1:0,x=n.height===b?1:0;Mt(e),e.pixelStorei(3317,1),e.pixelStorei(3314,n.width),e.pixelStorei(32878,0),e.pixelStorei(32877,0),e.texImage3D(i,r,d,g,g,g,0,c,u,null);for(var w=0;w<y;++w){var T=w*g*_,M=w*g*x;e.pixelStorei(3316,T),e.pixelStorei(3315,M),e.texSubImage3D(i,r,0,0,w,g,g,1,c,u,n)}At(e)}else e.texImage2D(i,r,d,c,u,n);Tt(e,a),Ot(a)&&jt(e,t,a,o,s,d),Ct(e,t,a)}function Dt(){}function Et(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function It(e,t,n){return Et(e)?(setTimeout((function(){n(null,e)})),e):function(e,t,n){var a;if(n=n||Dt,t=function(e,t){return void 0!==t||function(e){if("undefined"!=typeof document){var t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}var n=new URL(location.href).origin;return new URL(e,location.href).origin===n}(e)?t:"anonymous"}(e,t=void 0!==t?t:ct.crossOrigin),"undefined"!=typeof Image){a=new Image,void 0!==t&&(a.crossOrigin=t);var i=function(){a.removeEventListener("error",r),a.removeEventListener("load",o),a=null},r=function(){var t="couldn't load image: "+e;H(t),n(t,a),i()},o=function(){n(null,a),i()};return a.addEventListener("error",r),a.addEventListener("load",o),a.src=e,a}if("undefined"!=typeof ImageBitmap){var s,d,l=function(){n(s,d)},c={};t&&(c.mode="cors"),fetch(e,c).then((function(e){if(!e.ok)throw e;return e.blob()})).then((function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){d=e,setTimeout(l)})).catch((function(e){s=e,setTimeout(l)})),a=null}return a}(e,t,n)}function kt(e,t,n){var a=(n=n||ct.textureOptions).target||3553;if(e.bindTexture(a,t),!1!==n.color){var i=function(e){return ut(e=e||ct.textureColor)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(n.color);if(34067===a)for(var r=0;r<6;++r)e.texImage2D(34069+r,0,6408,1,1,0,6408,5121,i);else 32879===a||35866===a?e.texImage3D(a,0,6408,1,1,1,0,6408,5121,i):e.texImage2D(a,0,6408,1,1,0,6408,5121,i)}}function Rt(e,t,n){n=n||Dt,t=t||ct.textureOptions;var a=e.createTexture(),i=t.target||3553,r=t.width||1,o=t.height||1,s=t.internalFormat||6408;e.bindTexture(i,a),34067===i&&(e.texParameteri(i,10242,33071),e.texParameteri(i,10243,33071));var d=t.src;if(d)if("function"==typeof d&&(d=d(e,t)),"string"==typeof d)!function(e,t,n,a){a=a||Dt,kt(e,t,n=n||ct.textureOptions),It((n=Object.assign({},n)).src,n.crossOrigin,(function(i,r){i?a(i,t,r):(Lt(e,t,r,n),a(null,t,r))}))}(e,a,t,n);else if(ut(d)||Array.isArray(d)&&("number"==typeof d[0]||Array.isArray(d[0])||ut(d[0]))){var l=function(e,t,n,a){var i=(a=a||ct.textureOptions).target||3553;e.bindTexture(i,t);var r=a.width,o=a.height,s=a.depth,d=a.level||0,l=a.internalFormat||a.format||6408,c=bt(l),u=a.format||c.format,m=a.type||function(e,t,n){return ut(t)?Y(t):n||5121}(0,n,c.type);if(ut(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{var h=function(e){var t=B[e];if(!t)throw new Error("unknown gl type");return t}(m);n=new h(n)}var f,p=function(e,t){var n=gt(e);if(!n)throw"unknown internal format";var a=n.bytesPerElementMap[t];if(void 0===a)throw"unknown internal format";return a}(l,m),v=n.byteLength/p;if(v%1)throw"length wrong size for format: "+lt(e,u);if(32879===i||35866===i)if(r||o||s)!r||o&&s?!o||r&&s?(f=_t(0,i,r,o,v/s),r=f.width,o=f.height):(f=_t(0,i,r,s,v/o),r=f.width,s=f.height):(f=_t(0,i,o,s,v/r),o=f.width,s=f.height);else{var g=Math.cbrt(v);if(g%1!=0)throw"can't guess cube size of array of numElements: "+v;r=g,o=g,s=g}else f=_t(0,i,r,o,v),r=f.width,o=f.height;if(Mt(e),e.pixelStorei(3317,a.unpackAlignment||1),wt(e,a),34067===i){var b=v/6*(p/n.BYTES_PER_ELEMENT);Pt(0,a).forEach((function(t){var a=b*t.ndx,i=n.subarray(a,a+b);e.texImage2D(t.face,d,l,r,o,0,u,m,i)}))}else 32879===i||35866===i?e.texImage3D(i,d,l,r,o,s,0,u,m,n):e.texImage2D(i,d,l,r,o,0,u,m,n);return Tt(e,a),At(e),{width:r,height:o,depth:s,type:m}}(e,a,d,t);r=l.width,o=l.height}else Array.isArray(d)&&("string"==typeof d[0]||Et(d[0]))?34067===i?function(e,t,n,a){a=a||Dt;var i=n.src;if(6!==i.length)throw"there must be 6 urls for a cubemap";var r=n.level||0,o=n.internalFormat||n.format||6408,s=bt(o),d=n.format||s.format,l=n.type||5121,c=n.target||3553;if(34067!==c)throw"target must be TEXTURE_CUBE_MAP";kt(e,t,n),n=Object.assign({},n);var u,m=6,h=[],f=St(0,n);u=i.map((function(i,s){return It(i,n.crossOrigin,(p=f[s],function(i,s){--m,i?h.push(i):s.width!==s.height?h.push("cubemap face img is not a square: "+s.src):(wt(e,n),e.bindTexture(c,t),5===m?St().forEach((function(t){e.texImage2D(t,r,o,d,l,s)})):e.texImage2D(p,r,o,d,l,s),Tt(e,n),Ot(n)&&e.generateMipmap(c)),0===m&&a(h.length?h:void 0,t,u)}));var p}))}(e,a,t,n):function(e,t,n,a){a=a||Dt;var i=n.src,r=n.internalFormat||n.format||6408,o=bt(r),s=n.format||o.format,d=n.type||5121,l=n.target||35866;if(32879!==l&&35866!==l)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";kt(e,t,n),n=Object.assign({},n);var c,u=i.length,m=[],h=n.level||0,f=n.width,p=n.height,v=i.length,g=!0;c=i.map((function(i,o){return It(i,n.crossOrigin,(b=o,function(i,o){if(--u,i)m.push(i);else{if(wt(e,n),e.bindTexture(l,t),g){g=!1,f=n.width||o.width,p=n.height||o.height,e.texImage3D(l,h,r,f,p,v,0,s,d,null);for(var y=0;y<v;++y)e.texSubImage3D(l,h,0,0,y,f,p,1,s,d,o)}else{var _,x=o;o.width===f&&o.height===p||(x=(_=mt()).canvas,_.canvas.width=f,_.canvas.height=p,_.drawImage(o,0,0,f,p)),e.texSubImage3D(l,h,0,0,b,f,p,1,s,d,x),_&&x===_.canvas&&(_.canvas.width=0,_.canvas.height=0)}Tt(e,n),Ot(n)&&e.generateMipmap(l)}0===u&&a(m.length?m:void 0,t,c)}));var b}))}(e,a,t,n):(Lt(e,a,d,t),r=d.width,o=d.height);else!function(e,t,n){var a=n.target||3553;e.bindTexture(a,t);var i=n.level||0,r=n.internalFormat||n.format||6408,o=bt(r),s=n.format||o.format,d=n.type||o.type;if(wt(e,n),34067===a)for(var l=0;l<6;++l)e.texImage2D(34069+l,i,r,n.width,n.height,0,s,d,null);else 32879===a||35866===a?e.texImage3D(a,i,r,n.width,n.height,n.depth,0,s,d,null):e.texImage2D(a,i,r,n.width,n.height,0,s,d,null);Tt(e,n)}(e,a,t);return Ot(t)&&jt(e,a,t,r,o,s),Ct(e,a,t),a}var Ft=H;function Nt(e){return"undefined"!=typeof document&&document.getElementById?document.getElementById(e):null}var zt={};function Wt(e,t){return zt[t].bindPoint}function Bt(e,t){return function(n){e.uniform1i(t,n)}}function Ut(e,t){return function(n){e.uniform1iv(t,n)}}function Yt(e,t){return function(n){e.uniform2iv(t,n)}}function Gt(e,t){return function(n){e.uniform3iv(t,n)}}function Ht(e,t){return function(n){e.uniform4iv(t,n)}}function Vt(e,t,n,a){var i=Wt(0,t);return it(e)?function(t){var r,o;J(0,t)?(r=t,o=null):(r=t.texture,o=t.sampler),e.uniform1i(a,n),e.activeTexture(33984+n),e.bindTexture(i,r),e.bindSampler(n,o)}:function(t){e.uniform1i(a,n),e.activeTexture(33984+n),e.bindTexture(i,t)}}function Jt(e,t,n,a,i){for(var r=Wt(0,t),o=new Int32Array(i),s=0;s<i;++s)o[s]=n+s;return it(e)?function(t){e.uniform1iv(a,o),t.forEach((function(t,a){var i,s;e.activeTexture(33984+o[a]),J(0,t)?(i=t,s=null):(i=t.texture,s=t.sampler),e.bindSampler(n,s),e.bindTexture(r,i)}))}:function(t){e.uniform1iv(a,o),t.forEach((function(t,n){e.activeTexture(33984+o[n]),e.bindTexture(r,t)}))}}function Kt(e,t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(34962,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||5126,n.normalize||!1,n.stride||0,n.offset||0),void 0!==n.divisor&&e.vertexAttribDivisor(t,n.divisor)}}function Xt(e,t){return function(n){if(n.value){if(e.disableVertexAttribArray(t),4!==n.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(t,n.value)}else e.bindBuffer(34962,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||5124,n.stride||0,n.offset||0),void 0!==n.divisor&&e.vertexAttribDivisor(t,n.divisor)}}function qt(e,t){return function(n){if(n.value){if(e.disableVertexAttribArray(t),4!==n.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(t,n.value)}else e.bindBuffer(34962,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||5125,n.stride||0,n.offset||0),void 0!==n.divisor&&e.vertexAttribDivisor(t,n.divisor)}}function Qt(e,t,n){var a=n.size,i=n.count;return function(n){e.bindBuffer(34962,n.buffer);for(var r=n.size||n.numComponents||a,o=r/i,s=n.type||5126,d=zt[s].size*r,l=n.normalize||!1,c=n.offset||0,u=d/i,m=0;m<i;++m)e.enableVertexAttribArray(t+m),e.vertexAttribPointer(t+m,o,s,l,d,c+u*m),void 0!==n.divisor&&e.vertexAttribDivisor(t+m,n.divisor)}}zt[5126]={Type:Float32Array,size:4,setter:function(e,t){return function(n){e.uniform1f(t,n)}},arraySetter:function(e,t){return function(n){e.uniform1fv(t,n)}}},zt[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(n){e.uniform2fv(t,n)}}},zt[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(n){e.uniform3fv(t,n)}}},zt[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(n){e.uniform4fv(t,n)}}},zt[5124]={Type:Int32Array,size:4,setter:Bt,arraySetter:Ut},zt[35667]={Type:Int32Array,size:8,setter:Yt},zt[35668]={Type:Int32Array,size:12,setter:Gt},zt[35669]={Type:Int32Array,size:16,setter:Ht},zt[5125]={Type:Uint32Array,size:4,setter:function(e,t){return function(n){e.uniform1ui(t,n)}},arraySetter:function(e,t){return function(n){e.uniform1uiv(t,n)}}},zt[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(n){e.uniform2uiv(t,n)}}},zt[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(n){e.uniform3uiv(t,n)}}},zt[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(n){e.uniform4uiv(t,n)}}},zt[35670]={Type:Uint32Array,size:4,setter:Bt,arraySetter:Ut},zt[35671]={Type:Uint32Array,size:8,setter:Yt},zt[35672]={Type:Uint32Array,size:12,setter:Gt},zt[35673]={Type:Uint32Array,size:16,setter:Ht},zt[35674]={Type:Float32Array,size:16,setter:function(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}}},zt[35675]={Type:Float32Array,size:36,setter:function(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}}},zt[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}}},zt[35685]={Type:Float32Array,size:24,setter:function(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}}},zt[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}}},zt[35687]={Type:Float32Array,size:24,setter:function(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}}},zt[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}}},zt[35689]={Type:Float32Array,size:32,setter:function(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}}},zt[35690]={Type:Float32Array,size:48,setter:function(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}}},zt[35678]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:3553},zt[35680]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:34067},zt[35679]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:32879},zt[35682]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:3553},zt[36289]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:35866},zt[36292]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:35866},zt[36293]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:34067},zt[36298]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:3553},zt[36299]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:32879},zt[36300]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:34067},zt[36303]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:35866},zt[36306]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:3553},zt[36307]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:32879},zt[36308]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:34067},zt[36311]={Type:null,size:0,setter:Vt,arraySetter:Jt,bindPoint:35866};var Zt={};Zt[5126]={size:4,setter:Kt},Zt[35664]={size:8,setter:Kt},Zt[35665]={size:12,setter:Kt},Zt[35666]={size:16,setter:Kt},Zt[5124]={size:4,setter:Xt},Zt[35667]={size:8,setter:Xt},Zt[35668]={size:12,setter:Xt},Zt[35669]={size:16,setter:Xt},Zt[5125]={size:4,setter:qt},Zt[36294]={size:8,setter:qt},Zt[36295]={size:12,setter:qt},Zt[36296]={size:16,setter:qt},Zt[35670]={size:4,setter:Xt},Zt[35671]={size:8,setter:Xt},Zt[35672]={size:12,setter:Xt},Zt[35673]={size:16,setter:Xt},Zt[35674]={size:4,setter:Qt,count:2},Zt[35675]={size:9,setter:Qt,count:3},Zt[35676]={size:16,setter:Qt,count:4};var $t=/^[ \t]*\n/;function en(e,t,n,a){var i=a||Ft,r=e.createShader(n),o=0;if($t.test(t)&&(o=1,t=t.replace($t,"")),e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,35713)){var s=e.getShaderInfoLog(r);return i(function(e,t){return t=t||0,++t,e.split("\n").map((function(e,n){return n+t+": "+e})).join("\n")}(t,o)+"\n*** Error compiling shader: "+s),e.deleteShader(r),null}return r}function tn(e,t,n){var a,i;if("function"==typeof t&&(n=t,t=void 0),"function"==typeof e)n=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var r=e;n=r.errorCallback,e=r.attribLocations,a=r.transformFeedbackVaryings,i=r.transformFeedbackMode}var o={errorCallback:n||Ft,transformFeedbackVaryings:a,transformFeedbackMode:i};if(e){var s={};Array.isArray(e)?e.forEach((function(e,n){s[e]=t?t[n]:n})):s=e,o.attribLocations=s}return o}var nn=["VERTEX_SHADER","FRAGMENT_SHADER"];function an(e,t){t.forEach((function(t){e.deleteShader(t)}))}function rn(e){var t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}function on(e,t){for(var n=e.uniformSetters||e,a=arguments.length,i=1;i<a;++i){var r=arguments[i];if(Array.isArray(r))for(var o=r.length,s=0;s<o;++s)on(n,r[s]);else for(var d in r){var l=n[d];l&&l(r[d])}}}function sn(e,t,n){n.vertexArrayObject?e.bindVertexArray(n.vertexArrayObject):(function(e,t){for(var n in t){var a=e[n];a&&a(t[n])}}(t.attribSetters||t,n.attribs),n.indices&&e.bindBuffer(34963,n.indices))}function dn(e,t,n){var a=e.createVertexArray();return e.bindVertexArray(a),t.length||(t=[t]),t.forEach((function(t){sn(e,t,n)})),e.bindVertexArray(null),{numElements:n.numElements,elementType:n.elementType,vertexArrayObject:a}}var ln=/^(.*?)_/;function cn(e,t){lt(e,0);var n=e.getExtension(t);if(n){var a={},i=ln.exec(t)[1],r="_"+i;for(var o in n){var s=n[o],d="function"==typeof s,l=d?i:r,c=o;o.endsWith(l)&&(c=o.substring(0,o.length-l.length)),void 0!==e[c]?d||e[c]===s||V(c,e[c],s,o):d?e[c]=function(e){return function(){return e.apply(n,arguments)}}(s):(e[c]=s,a[c]=s)}a.constructor={name:n.constructor.name},lt(a,0)}return n}var un=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function mn(e){for(var t=0;t<un.length;++t)cn(e,un[t])}function hn(e,t){t=t||1,t=Math.max(0,t);var n=e.clientWidth*t|0,a=e.clientHeight*t|0;return(e.width!==n||e.height!==a)&&(e.width=n,e.height=a,!0)}var fn=function(){function e(t,n){var a=this;l(this,e),m(this,"gl",null),m(this,"isWebGL2",null),m(this,"init",(function(){var e=a.gl;e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.enable(e.CULL_FACE),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)})),m(this,"resize",(function(e,t){a.gl.viewport(0,0,e,t)})),m(this,"prepareRenderFrame",(function(){a.gl.clear(a.gl.COLOR_BUFFER_BIT|a.gl.DEPTH_BUFFER_BIT)})),this.gl=function(e,t){return function(e,t){for(var n=["webgl","experimental-webgl"],a=null,i=0;i<n.length;++i)if(a=e.getContext(n[i],t)){mn(a);break}return a}(e,t)}(t,n),this.isWebGL2=it(this.gl)&&rt(this.gl),mn(this.gl),this.gl.drawArraysInstanced&&this.gl.createVertexArray?hn(t):alert("need drawArraysInstanced and createVertexArray")}return u(e,[{key:"clearColor",set:function(e){this.gl.clearColor(e[0],e[1],e[2],e[3])}}]),e}(),pn="undefined"!=typeof Float32Array?Float32Array:Array;function vn(){var e=new pn(16);return pn!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function gn(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bn(e,t){var n=t[0],a=t[1],i=t[2],r=t[3],o=t[4],s=t[5],d=t[6],l=t[7],c=t[8],u=t[9],m=t[10],h=t[11],f=t[12],p=t[13],v=t[14],g=t[15],b=n*s-a*o,y=n*d-i*o,_=n*l-r*o,x=a*d-i*s,w=a*l-r*s,T=i*l-r*d,M=c*p-u*f,A=c*v-m*f,C=c*g-h*f,j=u*v-m*p,O=u*g-h*p,S=m*g-h*v,P=b*S-y*O+_*j+x*C-w*A+T*M;return P?(P=1/P,e[0]=(s*S-d*O+l*j)*P,e[1]=(i*O-a*S-r*j)*P,e[2]=(p*T-v*w+g*x)*P,e[3]=(m*w-u*T-h*x)*P,e[4]=(d*C-o*S-l*A)*P,e[5]=(n*S-i*C+r*A)*P,e[6]=(v*_-f*T-g*y)*P,e[7]=(c*T-m*_+h*y)*P,e[8]=(o*O-s*C+l*M)*P,e[9]=(a*C-n*O-r*M)*P,e[10]=(f*w-p*_+g*b)*P,e[11]=(u*_-c*w-h*b)*P,e[12]=(s*A-o*j-d*M)*P,e[13]=(n*j-a*A+i*M)*P,e[14]=(p*y-f*x-v*b)*P,e[15]=(c*x-u*y+m*b)*P,e):null}function yn(e,t,n){var a=t[0],i=t[1],r=t[2],o=t[3],s=t[4],d=t[5],l=t[6],c=t[7],u=t[8],m=t[9],h=t[10],f=t[11],p=t[12],v=t[13],g=t[14],b=t[15],y=n[0],_=n[1],x=n[2],w=n[3];return e[0]=y*a+_*s+x*u+w*p,e[1]=y*i+_*d+x*m+w*v,e[2]=y*r+_*l+x*h+w*g,e[3]=y*o+_*c+x*f+w*b,y=n[4],_=n[5],x=n[6],w=n[7],e[4]=y*a+_*s+x*u+w*p,e[5]=y*i+_*d+x*m+w*v,e[6]=y*r+_*l+x*h+w*g,e[7]=y*o+_*c+x*f+w*b,y=n[8],_=n[9],x=n[10],w=n[11],e[8]=y*a+_*s+x*u+w*p,e[9]=y*i+_*d+x*m+w*v,e[10]=y*r+_*l+x*h+w*g,e[11]=y*o+_*c+x*f+w*b,y=n[12],_=n[13],x=n[14],w=n[15],e[12]=y*a+_*s+x*u+w*p,e[13]=y*i+_*d+x*m+w*v,e[14]=y*r+_*l+x*h+w*g,e[15]=y*o+_*c+x*f+w*b,e}function _n(e,t,n,a,i){var r,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(r=1/(a-i),e[10]=(i+a)*r,e[14]=2*i*a*r):(e[10]=-1,e[14]=-2*a),e}function xn(e,t,n,a){var i,r,o,s,d,l,c,u,m,h,f=t[0],p=t[1],v=t[2],g=a[0],b=a[1],y=a[2],_=n[0],x=n[1],w=n[2];return Math.abs(f-_)<1e-6&&Math.abs(p-x)<1e-6&&Math.abs(v-w)<1e-6?gn(e):(c=f-_,u=p-x,m=v-w,i=b*(m*=h=1/Math.hypot(c,u,m))-y*(u*=h),r=y*(c*=h)-g*m,o=g*u-b*c,(h=Math.hypot(i,r,o))?(i*=h=1/h,r*=h,o*=h):(i=0,r=0,o=0),s=u*o-m*r,d=m*i-c*o,l=c*r-u*i,(h=Math.hypot(s,d,l))?(s*=h=1/h,d*=h,l*=h):(s=0,d=0,l=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=r,e[5]=d,e[6]=u,e[7]=0,e[8]=o,e[9]=l,e[10]=m,e[11]=0,e[12]=-(i*f+r*p+o*v),e[13]=-(s*f+d*p+l*v),e[14]=-(c*f+u*p+m*v),e[15]=1,e)}function wn(){var e=new pn(3);return pn!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Tn(e,t,n){var a=new pn(3);return a[0]=e,a[1]=t,a[2]=n,a}function Mn(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function An(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Cn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function jn(e,t){var n=t[0],a=t[1],i=t[2],r=n*n+a*a+i*i;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function On(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Sn(e,t,n,a){var i=t[0],r=t[1],o=t[2];return e[0]=i+a*(n[0]-i),e[1]=r+a*(n[1]-r),e[2]=o+a*(n[2]-o),e}function Pn(e,t,n){var a=t[0],i=t[1],r=t[2],o=n[3]*a+n[7]*i+n[11]*r+n[15];return o=o||1,e[0]=(n[0]*a+n[4]*i+n[8]*r+n[12])/o,e[1]=(n[1]*a+n[5]*i+n[9]*r+n[13])/o,e[2]=(n[2]*a+n[6]*i+n[10]*r+n[14])/o,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Ln(){var e=new pn(4);return pn!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}wn(),function(){var e;e=new pn(4),pn!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var Dn;wn(),Tn(1,0,0),Tn(0,1,0),Ln(),Ln(),Dn=new pn(9),pn!=Float32Array&&(Dn[1]=0,Dn[2]=0,Dn[3]=0,Dn[5]=0,Dn[6]=0,Dn[7]=0),Dn[0]=1,Dn[4]=1,Dn[8]=1,function(){var e=new pn(2);pn!=Float32Array&&(e[0]=0,e[1]=0)}();var En,In=function e(t,n){var a=this;l(this,e),m(this,"fov",void 0),m(this,"width",void 0),m(this,"height",void 0),m(this,"aspect",void 0),m(this,"zNear",void 0),m(this,"zFar",void 0),m(this,"projection",void 0),m(this,"eye",void 0),m(this,"target",void 0),m(this,"up",void 0),m(this,"view",void 0),m(this,"viewProjection",void 0),m(this,"world",void 0),m(this,"resize",(function(e,t){a.width=e,a.height=t,a.aspect=e/t,a.projection=vn(),_n(a.projection,a.fov,a.aspect,a.zNear,a.zFar)})),m(this,"update",(function(){xn(a.view,a.eye,a.target,a.up),bn(a.camera,a.view),yn(a.viewProjection,a.projection,a.view)})),m(this,"setPosition",(function(e){a.eye=e})),m(this,"getUniforms",(function(){var e={};return e.u_viewInverse=a.camera,e.u_world=a.world,e.u_worldInverseTranspose=vn(),e.u_view=a.view,e.u_resolution=[a.width,a.height],bn(e.u_worldInverseTranspose,a.world),function(e,t){if(e===t){var n=t[1],a=t[2],i=t[3],r=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=a,e[9]=r,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(e.u_worldInverseTranspose,e.u_worldInverseTranspose),e.u_worldViewProjection=vn(),yn(e.u_worldViewProjection,a.viewProjection,a.world),e.u_cameraPos=a.eye,e})),m(this,"getRayFromScreen",(function(e,t){var n=2*e-1,i=2*t-1,r=a.unproject([n,i,-1]),o=a.unproject([n,i,1]),s=wn();return An(s,o,r),jn(s,s),{origin:r,direction:s}})),m(this,"unproject",(function(e){var t=vn();bn(t,a.viewProjection);var n=Tn(e[0],e[1],e[2]);return Pn(n,n,t),n})),m(this,"project",(function(e){var t=function(e){var t=new pn(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}(e);return Pn(t,t,a.viewProjection),[(t[0]+1)/2,(t[1]+1)/2]})),this.fov=Math.PI/180*30,this.width=t,this.height=n,this.aspect=t/n,this.zNear=.01,this.zFar=100,this.projection=vn(),_n(this.projection,this.fov,this.aspect,this.zNear,this.zFar),this.eye=[0,0,6],this.target=[0,0,0],this.up=[0,1,0],this.view=vn(),xn(this.view,this.eye,this.target,this.up),this.camera=vn(),bn(this.camera,this.view),this.viewProjection=vn(),yn(this.viewProjection,this.projection,this.view),this.world=vn(),gn(this.world)},kn=function e(t,n){var a=this;l(this,e),m(this,"resize",(function(e,t){a.camera.resize(e,t)})),m(this,"update",(function(e){a.camera.update(e)})),m(this,"getUniforms",(function(e){var t=a.camera.getUniforms(e);return t.time=e,t})),this.camera=new In(t,n)},Rn=function(){function e(t){var n=this;l(this,e),m(this,"programInfo",null),m(this,"textures",{}),m(this,"uniforms",null),m(this,"shaderStrings",null),m(this,"isInit",!1),m(this,"texturesLoaded",!1),m(this,"init",(function(e){n.programInfo=function(e,t,n,a,i){var r=tn(void 0,void 0,void 0),o=!0;if(t=t.map((function(e){if(e.indexOf("\n")<0){var t=Nt(e);t?e=t.text:(r.errorCallback("no element with id: "+e),o=!1)}return e})),!o)return null;var s=function(e,t,n,a,i){for(var r=tn(n,a,i),o=[],s=0;s<t.length;++s){var d=en(e,t[s],e[nn[s]],r.errorCallback);if(!d)return null;o.push(d)}return function(e,t,n,a,i){for(var r,o=tn(n,void 0,void 0),s=[],d=[],l=0;l<t.length;++l){var c=t[l];if("string"==typeof c){var u=Nt(c),m=u?u.text:c,h=e[nn[l]];u&&u.type&&(h=((r=u.type).indexOf("frag")>=0?35632:r.indexOf("vert")>=0?35633:void 0)||h),c=en(e,m,h,o.errorCallback),d.push(c)}"undefined"!=typeof WebGLShader&&c instanceof WebGLShader&&s.push(c)}if(s.length!==t.length)return o.errorCallback("not enough shaders for program"),an(e,d),null;var f=e.createProgram();s.forEach((function(t){e.attachShader(f,t)})),o.attribLocations&&Object.keys(o.attribLocations).forEach((function(t){e.bindAttribLocation(f,o.attribLocations[t],t)}));var p=o.transformFeedbackVaryings;if(p&&(p.attribs&&(p=p.attribs),Array.isArray(p)||(p=Object.keys(p)),e.transformFeedbackVaryings(f,p,o.transformFeedbackMode||35981)),e.linkProgram(f),!e.getProgramParameter(f,35714)){var v=e.getProgramInfoLog(f);return o.errorCallback("Error in program linking:"+v),e.deleteProgram(f),an(e,d),null}return f}(e,o,r)}(e,t,r);return s?function(e,t){var n={program:t,uniformSetters:function(e,t){var n=0;function a(t,a,i){var r,o=a.size>1&&"[0]"===a.name.substr(-3),s=a.type,d=zt[s];if(!d)throw new Error("unknown type: 0x".concat(s.toString(16)));if(d.bindPoint){var l=n;n+=a.size,r=o?d.arraySetter(e,s,l,i,a.size):d.setter(e,s,l,i,a.size)}else r=d.arraySetter&&o?d.arraySetter(e,i):d.setter(e,i);return r.location=i,r}for(var i={},r=e.getProgramParameter(t,35718),o=0;o<r;++o){var s=e.getActiveUniform(t,o);if(!rn(s)){var d=s.name;"[0]"===d.substr(-3)&&(d=d.substr(0,d.length-3));var l=e.getUniformLocation(t,s.name);l&&(i[d]=a(0,s,l))}}return i}(e,t),attribSetters:function(e,t){for(var n={},a=e.getProgramParameter(t,35721),i=0;i<a;++i){var r=e.getActiveAttrib(t,i);if(!rn(r)){var o=e.getAttribLocation(t,r.name),s=Zt[r.type],d=s.setter(e,o,s);d.location=o,n[r.name]=d}}return n}(e,t)};return it(e)&&(n.uniformBlockSpec=function(e,t){for(var n=e.getProgramParameter(t,35718),a=[],i=[],r=0;r<n;++r){i.push(r),a.push({});var o=e.getActiveUniform(t,r);if(rn(o))break;a[r].name=o.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(n){var r=n[0],o=n[1];e.getActiveUniforms(t,i,e[r]).forEach((function(e,t){a[t][o]=e}))}));for(var s={},d=e.getProgramParameter(t,35382),l=0;l<d;++l){var c=e.getActiveUniformBlockName(t,l),u={index:e.getUniformBlockIndex(t,c),usedByVertexShader:e.getActiveUniformBlockParameter(t,l,35396),usedByFragmentShader:e.getActiveUniformBlockParameter(t,l,35398),size:e.getActiveUniformBlockParameter(t,l,35392),uniformIndices:e.getActiveUniformBlockParameter(t,l,35395)};u.used=u.usedByVertexShader||u.usedByFragmentShader,s[c]=u}return{blockSpecs:s,uniformData:a}}(e,t),n.transformFeedbackInfo=function(e,t){for(var n={},a=e.getProgramParameter(t,35971),i=0;i<a;++i){var r=e.getTransformFeedbackVarying(t,i);n[r.name]={index:i,type:r.type,size:r.size}}return n}(e,t)),n}(e,s):null}(e,Object.values(n.shaderStrings)),n.isInit=!0})),m(this,"loadTextures",(function(e,t,a){if(t){var i=Object.keys(t).length,r=0;Object.entries(t).forEach((function(t){var o=w(t,2),s=o[0],d=o[1];n.textures[s]=Rt(e,d,(function(){(r+=1)===i&&(n.texturesLoaded=!0,a&&a())}))}))}})),m(this,"updateUniforms",(function(e){Object.entries(e).forEach((function(e){var t=w(e,2),a=t[0],i=t[1];n.uniforms[a]=i}))})),this.shaderStrings=t}return u(e,[{key:"isReady",get:function(){return this.isInit&&this.texturesLoaded}}]),e}(),Fn=new Array(32).fill(void 0);function Nn(e){return Fn[e]}Fn.push(void 0,null,!0,!1);var zn=Fn.length;function Wn(e){var t=Nn(e);return function(e){e<36||(Fn[e]=zn,zn=e)}(e),t}var Bn=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Bn.decode();var Un=null;function Yn(){return null!==Un&&Un.buffer===En.memory.buffer||(Un=new Uint8Array(En.memory.buffer)),Un}function Gn(e,t){return Bn.decode(Yn().subarray(e,e+t))}function Hn(e){zn===Fn.length&&Fn.push(Fn.length+1);var t=zn;return zn=Fn[t],Fn[t]=e,t}var Vn=0,Jn=new TextEncoder("utf-8"),Kn="function"==typeof Jn.encodeInto?function(e,t){return Jn.encodeInto(e,t)}:function(e,t){var n=Jn.encode(e);return t.set(n),{read:e.length,written:n.length}};function Xn(e,t,n){if(void 0===n){var a=Jn.encode(e),i=t(a.length);return Yn().subarray(i,i+a.length).set(a),Vn=a.length,i}for(var r=e.length,o=t(r),s=Yn(),d=0;d<r;d++){var l=e.charCodeAt(d);if(l>127)break;s[o+d]=l}if(d!==r){0!==d&&(e=e.slice(d)),o=n(o,r,r=d+3*e.length);var c=Yn().subarray(o+d,o+r);d+=Kn(e,c).written}return Vn=d,o}var qn=null;function Qn(){return null!==qn&&qn.buffer===En.memory.buffer||(qn=new Int32Array(En.memory.buffer)),qn}function Zn(e,t,n){En._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__ha5107d5f7795da4f(e,t,Hn(n))}var $n=null;function ea(e,t){var n=t(4*e.length);return(null!==$n&&$n.buffer===En.memory.buffer||($n=new Float32Array(En.memory.buffer)),$n).set(e,n/4),Vn=e.length,n}var ta=null;var na=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"free",value:function(){var e=this.ptr;this.ptr=0,En.__wbg_gkcollider_free(e)}}],[{key:"create_collision_geometry",value:function(e,t,n){var a=ea(e,En.__wbindgen_malloc),i=Vn,r=ea(t,En.__wbindgen_malloc),o=Vn,s=function(e,t){var n=t(4*e.length);return(null!==ta&&ta.buffer===En.memory.buffer||(ta=new Uint32Array(En.memory.buffer)),ta).set(e,n/4),Vn=e.length,n}(n,En.__wbindgen_malloc),d=Vn,l=En.gkcollider_create_collision_geometry(a,i,r,o,s,d);return ia.__wrap(l)}}]),e}(),aa=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"free",value:function(){var e=this.ptr;this.ptr=0,En.__wbg_gkcollision_free(e)}}]),e}(),ia=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"free",value:function(){var e=this.ptr;this.ptr=0,En.__wbg_gkcollisiongeo_free(e)}},{key:"raycast",value:function(e,t){var n=ea(e,En.__wbindgen_malloc),a=Vn,i=ea(t,En.__wbindgen_malloc),r=Vn;return Wn(En.gkcollisiongeo_raycast(this.ptr,n,a,i,r))}},{key:"hitTest",value:function(e,t){var n=ea(e,En.__wbindgen_malloc),a=Vn,i=ea(t,En.__wbindgen_malloc),r=Vn;return 0!==En.gkcollisiongeo_hitTest(this.ptr,n,a,i,r)}}],[{key:"__wrap",value:function(t){var n=Object.create(e.prototype);return n.ptr=t,n}}]),e}();function ra(e){return oa.apply(this,arguments)}function oa(){return(oa=Object(r.a)(i.a.mark((function e(t){var n,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&console.log("You must specify wasm location"),(n={wbg:{}}).wbg.__wbindgen_object_drop_ref=function(e){Wn(e)},n.wbg.__wbindgen_json_parse=function(e,t){return Hn(JSON.parse(Gn(e,t)))},n.wbg.__wbindgen_json_serialize=function(e,t){var n=Nn(t),a=Xn(JSON.stringify(void 0===n?null:n),En.__wbindgen_malloc,En.__wbindgen_realloc),i=Vn;Qn()[e/4+1]=i,Qn()[e/4+0]=a},n.wbg.__wbindgen_number_new=function(e){return Hn(e)},n.wbg.__wbindgen_string_new=function(e,t){return Hn(Gn(e,t))},n.wbg.__wbg_new_59cb74e423758ede=function(){return Hn(new Error)},n.wbg.__wbg_stack_558ba5917b466edd=function(e,t){var n=Xn(Nn(t).stack,En.__wbindgen_malloc,En.__wbindgen_realloc),a=Vn;Qn()[e/4+1]=a,Qn()[e/4+0]=n},n.wbg.__wbg_error_4bb6c2a97407129a=function(e,t){try{console.error(Gn(e,t))}finally{En.__wbindgen_free(e,t)}},n.wbg.__wbg_debug_7020dcb48edf105b=function(e){console.debug(Nn(e))},n.wbg.__wbg_error_b23efba5bfb5cec5=function(e){console.error(Nn(e))},n.wbg.__wbg_info_8ce99578d0b91a35=function(e){console.info(Nn(e))},n.wbg.__wbg_log_c180b836187d3c94=function(e){console.log(Nn(e))},n.wbg.__wbg_warn_942f927afebcc748=function(e){console.warn(Nn(e))},n.wbg.__wbindgen_cb_drop=function(e){var t=Wn(e).original;return 1==t.cnt--&&(t.a=0,!0)},n.wbg.__wbg_call_d713ea0274dfc6d2=function(e){return function(){try{return e.apply(this,arguments)}catch(e){En.__wbindgen_exn_store(Hn(e))}}}((function(e,t,n){return Hn(Nn(e).call(Nn(t),Nn(n)))})),n.wbg.__wbg_new_d0c63652ab4d825c=function(e,t){try{var n={a:e,b:t},a=new Promise((function(e,t){var a=n.a;n.a=0;try{return function(e,t,n,a){En.wasm_bindgen__convert__closures__invoke2_mut__h8bf6a25e700c374c(e,t,Hn(n),Hn(a))}(a,n.b,e,t)}finally{n.a=a}}));return Hn(a)}finally{n.a=n.b=0}},n.wbg.__wbg_resolve_2529512c3bb73938=function(e){return Hn(Promise.resolve(Nn(e)))},n.wbg.__wbg_then_4a7a614abbbe6d81=function(e,t){return Hn(Nn(e).then(Nn(t)))},n.wbg.__wbindgen_throw=function(e,t){throw new Error(Gn(e,t))},n.wbg.__wbindgen_rethrow=function(e){throw Wn(e)},n.wbg.__wbindgen_closure_wrapper2042=function(e,t,n){return Hn(function(e,t,n,a){var i={a:e,b:t,cnt:1,dtor:61},r=function(){i.cnt++;var e=i.a;i.a=0;try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a.apply(void 0,[e,i.b].concat(n))}finally{0==--i.cnt?En.__wbindgen_export_2.get(i.dtor)(e,i.b):i.a=e}};return r.original=i,r}(e,t,0,Zn))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t)),e.t0=function(){var e=Object(r.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("function"==typeof Response&&t instanceof Response)){e.next=19;break}if("function"!=typeof WebAssembly.instantiateStreaming){e.next=13;break}return e.prev=2,e.next=5,WebAssembly.instantiateStreaming(t,n);case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),"application/wasm"!=t.headers.get("Content-Type")){e.next=12;break}throw e.t0;case 12:console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e.t0);case 13:return e.next=15,t.arrayBuffer();case 15:return a=e.sent,e.next=18,WebAssembly.instantiate(a,n);case 18:return e.abrupt("return",e.sent);case 19:return e.next=21,WebAssembly.instantiate(t,n);case 21:return r=e.sent,e.abrupt("return",r instanceof WebAssembly.Instance?{instance:r,module:t}:r);case 23:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}(),e.next=6,t;case 6:return e.t1=e.sent,e.t2=n,e.next=10,(0,e.t0)(e.t1,e.t2);case 10:return a=e.sent,o=a.instance,s=a.module,e.abrupt("return",(En=o.exports,ra.__wbindgen_wasm_module=s,En));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sa=function(){function e(){var t=this;l(this,e),m(this,"id",null),m(this,"geometry",null),m(this,"collisionGeometry",null),m(this,"material",null),m(this,"_translation",[0,0,0]),m(this,"_rotation",[0,0,0]),m(this,"_scale",[1,1,1]),m(this,"_modelMatrix",null),m(this,"_modelIsDirty",!0),m(this,"rayCast",!0),m(this,"isInteractive",!1),m(this,"isSelectable",!1),m(this,"isHoverable",!1),m(this,"shouldDraw",!0),m(this,"setInteractive",(function(e,n,a){t.isInteractive="boolean"==typeof e&&e,t.isSelectable="boolean"==typeof n&&n,t.isHoverable="boolean"==typeof a&&a})),this.id="_"+Math.random().toString(36).substr(2,9)}return u(e,[{key:"update",value:function(e){var t=this;e&&Object.entries(e).forEach((function(e){t.material.uniforms[e[0]]=e[1]}))}},{key:"isReady",get:function(){return!(!this.geometry||!this.material)&&this.geometry.isReady&&this.material.isReady}},{key:"translation",get:function(){return this._translation},set:function(e){this._translation=e,this._modelIsDirty=!0}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this._modelIsDirty=!0}},{key:"scale",get:function(){return this._scale},set:function(e){this._scale=e,this._modelIsDirty=!0}},{key:"modelMatrix",get:function(){if(this._modelIsDirty){var e=W.identity(),t=W.translation(this._translation,e),n=W.scaling(this._scale);this._modelMatrix=t,W.rotateX(t,this._rotation[0],this._modelMatrix),W.rotateY(t,this._rotation[1],this._modelMatrix),W.rotateZ(t,this._rotation[2],this._modelMatrix),W.multiply(this._modelMatrix,n,this._modelMatrix),this._modelIsDirty=!1}return this._modelMatrix}}]),e}(),da=function(e){p(n,sa);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),la=function(){function e(t){var n=this;l(this,e),m(this,"isInit",!1),m(this,"isDirty",!1),m(this,"needsResize",!1),m(this,"bufferInfo",void 0),m(this,"vertices",void 0),m(this,"init",(function(e){0===Object.keys(n.vertices).length&&n.vertices.constructor===Object||(Object.keys(n.vertices).forEach((function(t){"DYNAMIC_DRAW"===n.vertices[t].drawType&&(n.vertices[t].drawType=e.DYNAMIC_DRAW)})),n.bufferInfo=ie(e,n.vertices),n.isInit=!0,n.isDirty=!1)})),m(this,"resizeVertices",(function(){})),m(this,"updateGeometry",(function(e,t){void 0!==t&&"number"==typeof t||(t=0),Object.keys(e).forEach((function(a){for(var i=n.vertices[a].perInstance*t,r=0;r<e[a].data.length;r+=1)n.vertices[a].data[r+i]=e[a].data[r]})),n.isDirty=!0})),m(this,"updateBuffers",(function(e){Object.keys(n.bufferInfo.attribs).forEach((function(t){!function(e,t,n,a){n=ne(n),K(e,34962,t.buffer,n,t.drawType)}(e,n.bufferInfo.attribs[t],n.vertices[t])})),n.isDirty=!1})),m(this,"reloadBuffers",(function(e){n.deleteBuffers(e),n.bufferInfo=ie(e,n.vertices),n.isDirty=!1,n.needsResize=!1})),m(this,"deleteBuffers",(function(e){Object.keys(n.bufferInfo.attribs).forEach((function(t){e.deleteBuffer(t.buffer)})),e.deleteBuffer(n.bufferInfo.indices),n.bufferInfo={}})),this.vertices="sphere"===t?at.createSphereVertices(1,128,128):{}}return u(e,[{key:"isReady",get:function(){return this.isInit}}]),e}(),ca={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec3 normal;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;uniform float shadowPower;varying float vAlpha;varying vec2 vTexture;void main(){vec4 pos=u_worldViewProjection*u_model*position;vec4 transformedCamera=vec4(-0.5,1.0,-1.0,1.0)*u_worldViewProjection;vAlpha=pow((1.0+(dot(normal,normalize(transformedCamera.xyz))))/2.0,shadowPower);vTexture=texcoord;gl_Position=pos;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D uTexture;varying float vAlpha;varying vec2 vTexture;vec3 yellow=vec3(255.0/255.0,210.0/255.0,28.0/255.0);void main(){vec4 textureColor=texture2D(uTexture,vec2(vTexture.x-0.25,vTexture.y));float alpha=vAlpha+(1.0-vAlpha)*0.05;alpha*=0.9;gl_FragColor=vec4(textureColor.rgb*vAlpha,1.0);}"},ua={shadowPower:.3},ma=(function(e){p(n,da);var t=_(n);function n(e){var a,i;return l(this,n),m(b(i=t.call(this)),"material",null),m(b(i),"init",(function(e,t){i.geometry=new la("sphere"),i.geometry.init(e);var n={surface:{src:i.textureSrc.surface,minMag:e.LINEAR,wrap:e.REPEAT}};i.material.init(e),i.material.loadTextures(e,n,(function(){i.material.uniforms.uTexture=i.material.textures.surface,t&&t()})),i.material.uniforms.uModelMatrix=i.modelMatrix})),m(b(i),"createCollisionGeo",(function(){i.collisionGeometry&&i.collisionGeometry instanceof aa||(i.collisionGeometry=na.create_collision_geometry(i.geometry.vertices.position,i.geometry.vertices.texcoord,i.geometry.vertices.indices))})),m(b(i),"rayCastFrom",(function(e){return i.collisionGeometry.raycast(e.origin,e.direction)})),m(b(i),"hitTest",(function(e){return i.collisionGeometry.hitTest(e.origin,e.direction)})),m(b(i),"onSelection",(function(){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix})),m(b(i),"draw",(function(e){i.isReady&&i.shouldDraw&&(e.useProgram(i.material.programInfo.program),sn(e,i.material.programInfo,i.geometry.bufferInfo),on(i.material.programInfo,i.material.uniforms),e.drawElements(e.TRIANGLES,i.geometry.bufferInfo.numElements,e.UNSIGNED_SHORT,0))})),m(b(i),"setShadowPower",(function(e){console.log(e,"ShadowPower"),i.material.uniforms.shadowPower=e})),i.material=new Rn(ca),i.material.uniforms=ua,i.textureSrc={surface:e},i}}(),function e(t,n){var a=this;l(this,e),m(this,"isLoaded",!1),m(this,"ctx",void 0),m(this,"canvas",void 0),m(this,"image",void 0),m(this,"getIdFromLatLon",(function(e,t){if(a.isLoaded){var n=1-(e/90+1)/2,i=(t/180+1)/2*a.canvas.width,r=n*a.canvas.height;return a.ctx.getImageData(i,r,1,1).data[0]}})),this.image=new Image,this.image.src=t,this.image.addEventListener("load",(function(){a.canvas=document.createElement("canvas"),a.canvas.width=a.image.width,a.canvas.height=a.image.height,a.ctx=a.canvas.getContext("2d"),a.ctx.drawImage(a.image,0,0),a.isLoaded=!0,n&&n()}))}),ha=function e(t,n){var a=this;l(this,e),m(this,"isInit",!1),m(this,"useImageLookup",!1),m(this,"imageLookup",null),m(this,"getIdFromLatLon",(function(e,t){return a.imageLookup.getIdFromLatLon(e,t)})),m(this,"getFromId",(function(e){return a.data.find((function(t){return t.id===e}))})),m(this,"getFromCode",(function(e){return a.data.find((function(t){return t.code===e}))})),m(this,"getFromName",(function(e){return a.data.find((function(t){return t.name===e}))})),t instanceof Array&&(this.data=t,n&&(this.useImageLookup=!0,this.imageLookup=new ma(n,(function(){a.isInit=!0}))))},fa=function(){function e(){l(this,e)}return u(e,null,[{key:"radiansForPosition",value:function(e,t){return t>0?e>=0?Math.atan(e/t):2*Math.PI+Math.atan(e/t):t<0?Math.PI+Math.atan(e/t):e>0?Math.PI/2:3*Math.PI/2}},{key:"latLonFromWorld",value:function(e){var t=wn();jn(t,e);for(var n=Math.asin(t[1]),a=this.radiansForPosition(t[0],t[2]),i=180*n/Math.PI,r=180*a/Math.PI;r>180;)r-=360;return{lat:i,lon:r}}},{key:"distanceBetweenPoints",value:function(e,t){var n=function(e){return e*(Math.PI/180)},a=n(e.lat),i=n(t.lat),r=n(t.lat-e.lat),o=n(t.lon-e.lon),s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(a)*Math.cos(i)*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371}},{key:"worldFromLatLon",value:function(e,t,n){var a=n||0,i=e*Math.PI/180,r=t*Math.PI/180,o=Math.cos(i),s=Math.sin(i),d=Tn(Math.sin(r)*o,s,Math.cos(r)*o),l=wn();return jn(l,d),Mn(d,d,Cn(l,l,a)),d}},{key:"dotBetweenLatLon",value:function(t,n){return On(e.worldFromLatLon(t[0],t[1]),e.worldFromLatLon(n[0],n[1]))}},{key:"hexToRGB",value:function(e,t){var n=0,a=0,i=0,r=!1!==t;return 4===e.length?(n="0x".concat(e[1]).concat(e[1]),a="0x".concat(e[2]).concat(e[2]),i="0x".concat(e[3]).concat(e[3])):7===e.length&&(n="0x".concat(e[1]).concat(e[2]),a="0x".concat(e[3]).concat(e[4]),i="0x".concat(e[5]).concat(e[6])),r?(n/=255,a/=255,i/=255):(n=parseInt(n,16),a=parseInt(a,16),i=parseInt(i,16)),[n,a,i]}},{key:"hexToRGBA",value:function(e,t,n){var a=this.hexToRGB(e,n),i=!1!==n?t:255*t;return[a[0],a[1],a[2],i]}},{key:"isSubSet",value:function(e,t){return e.every((function(e){return void 0!==t.find((function(t){return t===e}))}))}},{key:"lerpColor",value:function(e,t,n){var a=this.hexToRGB(e),i=this.hexToRGB(t),r=Tn(a[0],a[1],a[2]),o=Tn(i[0],i[1],i[2]),s=wn();return Sn(s,r,o,n),s}}]),e}();m(fa,"RGBToHex",(function(e,t,n){var a=e.toString(16),i=t.toString(16),r=n.toString(16);return 1===a.length&&(a="0".concat(a)),1===i.length&&(i="0".concat(i)),1===r.length&&(r="0".concat(r)),"#".concat(a).concat(i).concat(r)}));var pa=function(){function e(t,n,a,i){var r=this;l(this,e),m(this,"time",void 0),m(this,"delay",0),m(this,"ease",(function(e){return e})),m(this,"onComplete",(function(e){})),m(this,"onUpdate",(function(e){})),m(this,"endAt",void 0),m(this,"isNumeric",!1),m(this,"toObj",null),m(this,"fromObj",null),m(this,"currentObj",null),m(this,"mechanism",(function(){if(r.isRunning){if(r.stopped)return!1;var e=r.endAt-(new Date).getTime();e<=0?(clearTimeout(r.playTimeout),r.stopped=!0,r.advanceFrame(1,1),r.isNumeric?r.onUpdate(r.currentObj.value):r.onUpdate(r.currentObj),r.onComplete(!0),r.cleanup()):(r.advanceFrame(r.time-e,r.time),r.isNumeric?r.onUpdate(r.currentObj.value):r.onUpdate(r.currentObj))}})),i=i||{},this.time=a,this.endAt=(new Date).getTime()+this.time,this.isNumeric=!isNaN(t),this.isNumeric?(this.toObj={value:n},this.fromObj={value:t}):(this.toObj=f({},n),this.fromObj=f({},t)),this.currentObj=f({},this.fromObj),this.id=e.getId(),e.tweens[this.id]=this,i.onComplete&&(this.onComplete=i.onComplete,delete i.onComplete),i.onUpdate&&(this.onUpdate=i.onUpdate,delete i.onUpdate),i.ease&&(this.ease=i.ease,delete i.ease),i.delay&&(this.endAt+=i.delay,this.delay=i.delay,delete i.delay),this.playTimeout=setTimeout((function(){r.play()}),this.delay)}return u(e,[{key:"play",value:function(){this.endAt=(new Date).getTime()+this.time,this.isRunning=!0,e.isRunning||(e.isRunning=!0,requestAnimationFrame(e.mechanism))}},{key:"stop",value:function(){clearTimeout(this.playTimeout),this.stopped=!0,this.onComplete(!1),this.cleanup()}},{key:"currentValue",value:function(){return this.isNumeric?this.currentObj.value:this.currentObj}},{key:"cleanup",value:function(){this.isRunning=!1,delete e.tweens[this.id],0===Object.keys(e.tweens).length&&(e.isRunning=!1)}},{key:"advanceFrame",value:function(e,t){var n=0!==t?e/t:1;for(var a in n=this.ease(n),this.toObj){var i=this.fromObj[a],r=this.toObj[a]-i;this.currentObj[a]=i+r*n}}}]),e}();pa.id=0,pa.tweens={},pa.killTweensOf=function(e){for(var t in pa.tweens){var n=pa.tweens[t];n.obj===e&&n.stop()}},pa.getId=function(){return++pa.id},pa.isRunning=!1,pa.mechanism=function(){for(var e in pa.tweens)pa.tweens[e].mechanism();pa.isRunning&&requestAnimationFrame(pa.mechanism)};var va=function e(t,n){var a=this;l(this,e),m(this,"width",4),m(this,"height",4),m(this,"channels",4),m(this,"elementLength",1),m(this,"data",void 0),m(this,"texture",void 0),m(this,"isInit",!1),m(this,"init",(function(e){var t={width:a.width,height:a.height,mag:e.NEAREST,min:e.NEAREST,src:a.data};a.texture=Rt(e,t),a.isInit=!0})),m(this,"updatePixel",(function(e,t,n,i){if(a.isInit){var r=new Uint8Array(t);e.bindTexture(e.TEXTURE_2D,a.texture),e.texSubImage2D(e.TEXTURE_2D,0,i,n,1,1,e.RGBA,e.UNSIGNED_BYTE,r)}})),m(this,"updatePixelId",(function(e,t,n){var i=Math.floor(n/a.width),r=n-i*a.width;t.forEach((function(e,t){a.data[4*n+t]=e})),a.updatePixel(e,t,i,r)})),m(this,"updateSubrect",(function(e,t){a.isInit&&(e.bindTexture(e.TEXTURE_2D,a.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,a.width,a.height,e.RGBA,e.UNSIGNED_BYTE,t))})),m(this,"getIdColor",(function(e){return a.data.slice(4*e,4*e+4)})),this.width=t||this.width,this.height=n||this.height,this.data=new Uint8Array(this.width*this.height*this.channels).fill(0)},ga={vertex:document.querySelector("script[type=shader-vertex-icosphere]").innerText,fragment:document.querySelector("script[type=shader-fragment-icosphere]").innerText},ba={},ya=(function(e){p(n,da);var t=_(n);function n(e){var a,i;return l(this,n),m(b(i=t.call(this)),"material",null),m(b(i),"lookup",null),m(b(i),"currentSelection",-1),m(b(i),"previousSelection",-1),m(b(i),"inAnimation",null),m(b(i),"outAnimation",null),m(b(i),"currentHover",-1),m(b(i),"hoverables",[]),m(b(i),"hoverableUniforms",["u_animatable0","u_animatable1","u_animatable2","u_animatable3","u_animatable4","u_animatable5"]),m(b(i),"inAnimations",{}),m(b(i),"outAnimations",{}),m(b(i),"highlighedCountries",[]),m(b(i),"selection0",236),m(b(i),"selection1",144),m(b(i),"current",236),m(b(i),"dataTexture",void 0),m(b(i),"dataTextureSize",16),m(b(i),"updateCMDs",[]),m(b(i),"highlightAnimationProps",{start:0,stop:1,duration:1e3,onUpdate:function(e){i.material.uniforms.u_animateIn=e}}),m(b(i),"init",(function(e,t){i.geometry=new la("sphere"),i.geometry.init(e);var n={inactive:{src:i.textureSrc.inactive,minMag:e.LINEAR},active:{src:i.textureSrc.active,minMag:e.LINEAR},id:{src:i.textureSrc.id,minMag:e.NEAREST}};i.material.init(e),i.material.loadTextures(e,n,(function(){i.material.uniforms.u_inactive=i.material.textures.inactive,i.material.uniforms.u_active=i.material.textures.active,i.material.uniforms.u_id=i.material.textures.id,i.dataTexture.init(e),i.material.uniforms.u_data=i.dataTexture.texture,t&&t()}))})),m(b(i),"getValueForId",(function(e){return i.lookup.getFromId(e)})),m(b(i),"getValueForCode",(function(e){return i.lookup.getFromCode(e)})),m(b(i),"getValueForName",(function(e){return i.lookup.getFromName(e)})),m(b(i),"setIdColor",(function(e,t,n){var a=void 0===n?1:n,r=fa.hexToRGBA(t,a,!1);i.updateCMDs.push((function(t){i.dataTexture.updatePixelId(t,r,e)}))})),m(b(i),"getIdColor",(function(e){var t=i.dataTexture.getIdColor(e);return{color:fa.RGBToHex(t[0],t[1],t[2]),alpha:t[3]/255}})),m(b(i),"createCollisionGeo",(function(){i.collisionGeometry&&i.collisionGeometry instanceof aa||(i.collisionGeometry=na.create_collision_geometry(i.geometry.vertices.position,i.geometry.vertices.texcoord,i.geometry.vertices.indices))})),m(b(i),"rayCastFrom",(function(e){return i.collisionGeometry.raycast(e.origin,e.direction)})),m(b(i),"hitTest",(function(e){return i.collisionGeometry.hitTest(e.origin,e.direction)})),m(b(i),"onSelectionCB",(function(){})),m(b(i),"onSelection",(function(e,t,n){var a=fa.latLonFromWorld(n.point);return i.current=i.lookup.getIdFromLatLon(a.lat,a.lon),{id:i.current,name:i.lookup.getFromId(i.current),lat:a.lat,lon:a.lon}})),m(b(i),"onHover",(function(e){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix,i.updateCMDs.forEach((function(t){t(e)})),i.updateCMDs=[]})),m(b(i),"draw",(function(e){i.isReady&&i.shouldDraw&&(e.useProgram(i.material.programInfo.program),sn(e,i.material.programInfo,i.geometry.bufferInfo),on(i.material.programInfo,i.material.uniforms),e.drawElements(e.TRIANGLES,i.geometry.bufferInfo.numElements,e.UNSIGNED_SHORT,0))})),m(b(i),"setCountryHover",(function(e){})),m(b(i),"highlightId",(function(e,t,n,a,r){if(!(i.inAnimations[e]instanceof pa)){var o=t||"#ffffff",s=n||1,d=a||!0,l=0;i.outAnimations[e]instanceof pa&&(l=i.outAnimations[e].currentValue(),i.outAnimations[e].stop());var c=r||{};if(c.duration=c.duration||500,c.onComplete=c.onComplete||function(){},c.outDuration=c.outDuration||c.duration,c.onOutComplete=c.onOutComplete||function(){},d){var u={duration:c.outDuration,onComplete:c.onOutComplete};i.highlighedCountries.forEach((function(t){t!==e&&i.unhighlightId(t,u)}))}i.inAnimations[e]=new pa(l,s,c.duration,{onUpdate:function(t){i.setIdColor(e,o,t)},onComplete:function(t){delete i.inAnimations[e],c.onComplete(t)}}),i.highlighedCountries.push(e)}})),m(b(i),"unhighlightId",(function(e,t){if(-1!==i.highlighedCountries.indexOf(e)&&!(i.outAnimations[e]instanceof pa)){var n=t||{};n.duration=n.duration||500,n.onComplete=n.onComplete||function(){};var a=i.getIdColor(e),r=a.alpha;i.inAnimations[e]instanceof pa&&(r=i.inAnimations[e].currentValue(),i.inAnimations[e].stop()),i.outAnimations[e]=new pa(r,0,n.duration,{onUpdate:function(t){i.setIdColor(e,a.color,t)},onComplete:function(t){if(t){var a=i.highlighedCountries.indexOf(e);i.highlighedCountries.splice(a,1)}delete i.outAnimations[e],n.onComplete(t,e)}})}})),m(b(i),"addDataset",(function(e){i.lookup=new ha(e,i.textureSrc.id)})),i.material=new Rn(ga),i.material.uniforms=ba,i.textureSrc={inactive:e.inactive,active:e.active,id:e.id},i.dataTexture=new va(i.dataTextureSize,i.dataTextureSize),i}}(),function(){function e(){var t=this;l(this,e),m(this,"springStrength",.2),m(this,"drag",.875),m(this,"poleBufferThreshold",18),m(this,"panDeltaScale",42),m(this,"velocityDeltaScale",750),m(this,"_ambientController",null),m(this,"_animationController",null),m(this,"_interactionController",null),m(this,"_currentLatLonAlt",[0,0,4]),m(this,"_interactionStartLatLonAlt",null),m(this,"_interactionTargetLatLonAlt",null),m(this,"_latLonVelocity",[0,0,0]),m(this,"_ambientLonDirection",1),m(this,"_ambientLatIn",0),m(this,"_ambientLatDirection",1),m(this,"_prevTime",0),m(this,"_rotBounded",(function(e){return[Math.max(Math.min(e[0],90),-90),e[1]]})),m(this,"_rotSprung",(function(e){var n=.499*Math.PI,a=.499*-Math.PI,i=(90-t.poleBufferThreshold)/90,r=n*i,o=a*i,s=e[0]*(Math.PI/180),d=function(e){return Math.sin(e*Math.PI/2)},l=s;if(s>r){var c=s-r,u=n-r;l=r+u*d(Math.min(c/u,1))}if(s<o){var m=s-o,h=a-o;l=o+h*d(Math.min(m/h,1))}return[l*(180/Math.PI),e[1]]})),m(this,"_frustumDist",(function(e,t){return.5*e/Math.tan(.5*t*(Math.PI/180))})),m(this,"_rotForDelta",(function(e){var n=w(t._currentLatLonAlt,3)[2],a=e[0]*(t.pointsPerRadian*(n/t.zFullWidth)),i=e[1]*(t.pointsPerRadian*(n/t.zFullWidth)),r=180/Math.PI;return[-a*r,i*r]})),m(this,"_calcAmbientLatIn",(function(e){var n=e*(Math.PI/180)/(.5*Math.PI)*(90/(t._ambientController.latitudeVariance/2));return Math.abs(n)>1&&(n/=Math.abs(n)),Math.asin(n)}))}return u(e,[{key:"register",value:function(e,t,n){this._ambientController=e,this._animationController=t,this._interactionController=n}},{key:"resize",value:function(e,t,n,a){this.pointsPerRadian=Math.PI/(e/window.devicePixelRatio),this.camFov=a,this.camAspect=n,this.zFullWidth=this._frustumDist(1/this.camAspect*2,this.camFov)}},{key:"setLatLonAlt",value:function(e,t,n){this.setLatLon(e,t),this.setAlt(n)}},{key:"setLatLon",value:function(e,t){for(this._currentLatLonAlt=[e,t,this._currentLatLonAlt[2]],this._ambientLatIn=this._calcAmbientLatIn(e);this._currentLatLonAlt[1]>180;)this._currentLatLonAlt[1]-=360;for(;this._currentLatLonAlt[1]<-180;)this._currentLatLonAlt[1]+=360;this._animationController.cancelLatLon()}},{key:"setAlt",value:function(e){this._currentLatLonAlt=[this._currentLatLonAlt[0],this._currentLatLonAlt[1],e],this._animationController.cancelAlt()}},{key:"update",value:function(e,t){var n=e-this._prevTime;this.fov=t,this._updateAlt(n),this._updateLatLon(n),this._prevTime=e}},{key:"startPan",value:function(e){for(;this._currentLatLonAlt[1]>180;)this._currentLatLonAlt[1]-=360;for(;this._currentLatLonAlt[1]<-180;)this._currentLatLonAlt[1]+=360;this._interactionStartLatLonAlt=T(this._currentLatLonAlt);var t=this.panDeltaScale/devicePixelRatio,n=[e.deltaY*t,e.deltaX*t],a=w(this._currentLatLonAlt,3)[2],i=this._rotForDelta([this._interactionStartLatLonAlt[0]-n[0],this._interactionStartLatLonAlt[1]-n[1]]);this._interactionTargetLatLonAlt=[this._interactionStartLatLonAlt[0]+i[0],this._interactionStartLatLonAlt[1]+i[1],a],this._latLonVelocity=[0,0,0]}},{key:"continuePan",value:function(e){if(this._interactionStartLatLonAlt){var t=this.panDeltaScale/devicePixelRatio,n=[e.deltaY*t,e.deltaX*t],a=this._rotForDelta([this._interactionStartLatLonAlt[0]-n[0],this._interactionStartLatLonAlt[1]-n[1]]),i=this.velocityDeltaScale/devicePixelRatio,r=this._rotForDelta([e.velocityY,e.velocityX]);this._latLonVelocity=[-r[0]*i,-r[1]*i],this._ambientLonDirection=r[1]<0?1:-1;var o=w(this._interactionTargetLatLonAlt,3)[2],s=this._rotBounded([this._interactionStartLatLonAlt[0]+a[0],this._interactionStartLatLonAlt[1]+a[1]]);this._interactionTargetLatLonAlt=[s[0],s[1],o],this._lastGestureChange=e.timeStamp}}},{key:"endPan",value:function(e){this._interactionStartLatLonAlt=null,this._interactionTargetLatLonAlt=null;var t=e.timeStamp-this._lastGestureChange;this._ambientLatIn=this._calcAmbientLatIn(this._currentLatLonAlt[0]),t>.1&&(this._latLonVelocity=[0,0])}},{key:"_updateAlt",value:function(){if(this._animationController.isAnimatingAlt){var e=w(this._currentLatLonAlt,2),t=e[0],n=e[1];this._currentLatLonAlt=[t,n,this._animationController.currentAlt]}}},{key:"_updateLatLon",value:function(e){var t=w(this._currentLatLonAlt,3),n=t[0],a=t[1],i=t[2];if(this._interactionTargetLatLonAlt){var r=w(this._interactionTargetLatLonAlt,2),o=[r[0]-n,r[1]-a];this._currentLatLonAlt=[n+o[0]*this.springStrength,a+o[1]*this.springStrength,i]}else{var s=this._rotBounded([n+this._latLonVelocity[0],a+this._latLonVelocity[1]]);this._currentLatLonAlt=[s[0],s[1],i];var d=90-this.poleBufferThreshold,l=-90+this.poleBufferThreshold;if(s[0]>d){var c=s[0]-d;this._currentLatLonAlt[0]=d+.95*c}if(s[0]<l){var u=s[0]-l;this._currentLatLonAlt[0]=l+.95*u}if(this._latLonVelocity=[this._latLonVelocity[0]*this.drag,this._latLonVelocity[1]*this.drag],this._ambientController.isEnabled){var m=this._ambientController.ambientStrength,h=this._ambientLonDirection,f=this._ambientController.longitudeSpeed,p=w(this._currentLatLonAlt,2),v=p[0],g=p[1];g+=f*h*m,Math.abs(this._latLonVelocity[0])>1e-4&&(this._ambientLatIn=this._calcAmbientLatIn(n));var b=this._ambientController.latitudeSpeed;this._ambientLatIn+=e*this._ambientLatDirection*b*m;var y=this._ambientController.latitudeVariance/2;v+=(Math.sin(this._ambientLatIn)*y-v)*m*m,this._currentLatLonAlt=[v,g,i]}if(this._animationController.isAnimatingLatLon){var _=this._animationController.currentLatLon;this._currentLatLonAlt=[_[0],_[1],i]}else{for(;this._currentLatLonAlt[1]>180;)this._currentLatLonAlt[1]-=360;for(;this._currentLatLonAlt[1]<-180;)this._currentLatLonAlt[1]+=360}}}},{key:"currentLatLonAlt",get:function(){return T(this._currentLatLonAlt)}}]),e}());function _a(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self,_a((function(e){!function(t,n,a,i){function r(e,t,n){return setTimeout(u(e,n),t)}function o(e,t,n){return!!Array.isArray(e)&&(s(e,n[t],n),!0)}function s(e,t,n){var a;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(a=0;a<e.length;)t.call(n,e[a],a,e),a++;else for(a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function l(e,n,a){var i="DEPRECATED METHOD: "+n+"\n"+a+" AT \n";return function(){var n=new Error("get-stack-trace"),a=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=t.console&&(t.console.warn||t.console.log);return r&&r.call(t.console,i,a),e.apply(this,arguments)}}function c(e,t,n){var a,i=t.prototype;(a=e.prototype=Object.create(i)).constructor=e,a._super=i,n&&re(a,n)}function u(e,t){return function(){return e.apply(t,arguments)}}function m(e,t){return d(e)==de?e.apply(t&&t[0]||i,t):e}function h(e,t){return e===i?t:e}function f(e,t,n){s(b(t),(function(t){e.addEventListener(t,n,!1)}))}function p(e,t,n){s(b(t),(function(t){e.removeEventListener(t,n,!1)}))}function v(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function b(e){return e.trim().split(/\s+/g)}function y(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var a=0;a<e.length;){if(n&&e[a][n]==t||!n&&e[a]===t)return a;a++}return-1}function _(e){return Array.prototype.slice.call(e,0)}function x(e,t,n){for(var a=[],i=[],r=0;r<e.length;){var o=t?e[r][t]:e[r];y(i,o)<0&&a.push(e[r]),i[r]=o,r++}return n&&(a=t?a.sort((function(e,n){return e[t]>n[t]})):a.sort()),a}function w(e,t){for(var n,a,r=t[0].toUpperCase()+t.slice(1),o=0;o<oe.length;){if((a=(n=oe[o])?n+r:t)in e)return a;o++}return i}function T(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function M(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){m(e.options.enable,[e])&&n.handler(t)},this.init()}function A(e,t,n){var a=n.pointers.length,i=n.changedPointers.length,r=t&xe&&a-i==0,o=t&(Te|Me)&&a-i==0;n.isFirst=!!r,n.isFinal=!!o,r&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,a=t.pointers,i=a.length;n.firstInput||(n.firstInput=j(t)),i>1&&!n.firstMultiple?n.firstMultiple=j(t):1===i&&(n.firstMultiple=!1);var r=n.firstInput,o=n.firstMultiple,s=o?o.center:r.center,d=t.center=O(a);t.timeStamp=ue(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=D(s,d),t.distance=L(s,d),function(e,t){var n=t.center,a=e.offsetDelta||{},i=e.prevDelta||{},r=e.prevInput||{};t.eventType!==xe&&r.eventType!==Te||(i=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},a=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-a.x),t.deltaY=i.y+(n.y-a.y)}(n,t),t.offsetDirection=P(t.deltaX,t.deltaY);var l=S(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=ce(l.x)>ce(l.y)?l.x:l.y,t.scale=o?function(e,t){return L(t[0],t[1],Ie)/L(e[0],e[1],Ie)}(o.pointers,a):1,t.rotation=o?function(e,t){return D(t[1],t[0],Ie)+D(e[1],e[0],Ie)}(o.pointers,a):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,C(n,t);var c=e.element;v(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function C(e,t){var n,a,r,o,s=e.lastInterval||t,d=t.timeStamp-s.timeStamp;if(t.eventType!=Me&&(d>_e||s.velocity===i)){var l=t.deltaX-s.deltaX,c=t.deltaY-s.deltaY,u=S(d,l,c);a=u.x,r=u.y,n=ce(u.x)>ce(u.y)?u.x:u.y,o=P(l,c),e.lastInterval=t}else n=s.velocity,a=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=a,t.velocityY=r,t.direction=o}function j(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:le(e.pointers[n].clientX),clientY:le(e.pointers[n].clientY)},n++;return{timeStamp:ue(),pointers:t,center:O(t),deltaX:e.deltaX,deltaY:e.deltaY}}function O(e){var t=e.length;if(1===t)return{x:le(e[0].clientX),y:le(e[0].clientY)};for(var n=0,a=0,i=0;t>i;)n+=e[i].clientX,a+=e[i].clientY,i++;return{x:le(n/t),y:le(a/t)}}function S(e,t,n){return{x:t/e||0,y:n/e||0}}function P(e,t){return e===t?Ae:ce(e)>=ce(t)?0>e?Ce:je:0>t?Oe:Se}function L(e,t,n){n||(n=Ee);var a=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(a*a+i*i)}function D(e,t,n){n||(n=Ee);var a=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,a)/Math.PI}function E(){this.evEl=Re,this.evWin=Fe,this.pressed=!1,M.apply(this,arguments)}function I(){this.evEl=We,this.evWin=Be,M.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function k(){this.evTarget=Ye,this.evWin=Ge,this.started=!1,M.apply(this,arguments)}function R(e,t){var n=_(e.touches),a=_(e.changedTouches);return t&(Te|Me)&&(n=x(n.concat(a),"identifier",!0)),[n,a]}function F(){this.evTarget=Ve,this.targetIds={},M.apply(this,arguments)}function N(e,t){var n=_(e.touches),a=this.targetIds;if(t&(xe|we)&&1===n.length)return a[n[0].identifier]=!0,[n,n];var i,r,o=_(e.changedTouches),s=[],d=this.target;if(r=n.filter((function(e){return v(e.target,d)})),t===xe)for(i=0;i<r.length;)a[r[i].identifier]=!0,i++;for(i=0;i<o.length;)a[o[i].identifier]&&s.push(o[i]),t&(Te|Me)&&delete a[o[i].identifier],i++;return s.length?[x(r.concat(s),"identifier",!0),s]:void 0}function z(){M.apply(this,arguments);var e=u(this.handler,this);this.touch=new F(this.manager,e),this.mouse=new E(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function W(e,t){e&xe?(this.primaryTouch=t.changedPointers[0].identifier,B.call(this,t)):e&(Te|Me)&&B.call(this,t)}function B(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var a=this.lastTouches;setTimeout((function(){var e=a.indexOf(n);e>-1&&a.splice(e,1)}),Je)}}function U(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,a=0;a<this.lastTouches.length;a++){var i=this.lastTouches[a],r=Math.abs(t-i.x),o=Math.abs(n-i.y);if(Ke>=r&&Ke>=o)return!0}return!1}function Y(e,t){this.manager=e,this.set(t)}function G(e){this.options=re({},this.defaults,e||{}),this.id=fe++,this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=it,this.simultaneous={},this.requireFail=[]}function H(e){return e&lt?"cancel":e&st?"end":e&ot?"move":e&rt?"start":""}function V(e){return e==Se?"down":e==Oe?"up":e==Ce?"left":e==je?"right":""}function J(e,t){var n=t.manager;return n?n.get(e):e}function K(){G.apply(this,arguments)}function X(){K.apply(this,arguments),this.pX=null,this.pY=null}function q(){K.apply(this,arguments)}function Q(){G.apply(this,arguments),this._timer=null,this._input=null}function Z(){K.apply(this,arguments)}function $(){K.apply(this,arguments)}function ee(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(e,t){return(t=t||{}).recognizers=h(t.recognizers,te.defaults.preset),new ne(e,t)}function ne(e,t){this.options=re({},te.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(ve?I:ge?F:pe?z:E))(e,A)}(this),this.touchAction=new Y(this,this.options.touchAction),ae(this,!0),s(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function ae(e,t){var n,a=e.element;a.style&&(s(e.options.cssProps,(function(i,r){n=w(a.style,r),t?(e.oldCssProps[n]=a.style[n],a.style[n]=i):a.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}function ie(e,t){var a=n.createEvent("Event");a.initEvent(e,!0,!0),a.gesture=t,t.target.dispatchEvent(a)}var re,oe=["","webkit","Moz","MS","ms","o"],se=n.createElement("div"),de="function",le=Math.round,ce=Math.abs,ue=Date.now;re="function"!=typeof Object.assign?function(e){if(e===i||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(a!==i&&null!==a)for(var r in a)a.hasOwnProperty(r)&&(t[r]=a[r])}return t}:Object.assign;var me=l((function(e,t,n){for(var a=Object.keys(t),r=0;r<a.length;)(!n||n&&e[a[r]]===i)&&(e[a[r]]=t[a[r]]),r++;return e}),"extend","Use `assign`."),he=l((function(e,t){return me(e,t,!0)}),"merge","Use `assign`."),fe=1,pe="ontouchstart"in t,ve=w(t,"PointerEvent")!==i,ge=pe&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),be="touch",ye="mouse",_e=25,xe=1,we=2,Te=4,Me=8,Ae=1,Ce=2,je=4,Oe=8,Se=16,Pe=Ce|je,Le=Oe|Se,De=Pe|Le,Ee=["x","y"],Ie=["clientX","clientY"];M.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(T(this.element),this.evWin,this.domHandler)}};var ke={mousedown:xe,mousemove:we,mouseup:Te},Re="mousedown",Fe="mousemove mouseup";c(E,M,{handler:function(e){var t=ke[e.type];t&xe&&0===e.button&&(this.pressed=!0),t&we&&1!==e.which&&(t=Te),this.pressed&&(t&Te&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:ye,srcEvent:e}))}});var Ne={pointerdown:xe,pointermove:we,pointerup:Te,pointercancel:Me,pointerout:Me},ze={2:be,3:"pen",4:ye,5:"kinect"},We="pointerdown",Be="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(We="MSPointerDown",Be="MSPointerMove MSPointerUp MSPointerCancel"),c(I,M,{handler:function(e){var t=this.store,n=!1,a=e.type.toLowerCase().replace("ms",""),i=Ne[a],r=ze[e.pointerType]||e.pointerType,o=r==be,s=y(t,e.pointerId,"pointerId");i&xe&&(0===e.button||o)?0>s&&(t.push(e),s=t.length-1):i&(Te|Me)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(s,1))}});var Ue={touchstart:xe,touchmove:we,touchend:Te,touchcancel:Me},Ye="touchstart",Ge="touchstart touchmove touchend touchcancel";c(k,M,{handler:function(e){var t=Ue[e.type];if(t===xe&&(this.started=!0),this.started){var n=R.call(this,e,t);t&(Te|Me)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:e})}}});var He={touchstart:xe,touchmove:we,touchend:Te,touchcancel:Me},Ve="touchstart touchmove touchend touchcancel";c(F,M,{handler:function(e){var t=He[e.type],n=N.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:e})}});var Je=2500,Ke=25;c(z,M,{handler:function(e,t,n){var a=n.pointerType==be,i=n.pointerType==ye;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(a)W.call(this,t,n);else if(i&&U.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Xe=w(se.style,"touchAction"),qe=Xe!==i,Qe="compute",Ze="auto",$e="manipulation",et="none",tt="pan-x",nt="pan-y",at=function(){if(!qe)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(a){e[a]=!n||t.CSS.supports("touch-action",a)})),e}();Y.prototype={set:function(e){e==Qe&&(e=this.compute()),qe&&this.manager.element.style&&at[e]&&(this.manager.element.style[Xe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,(function(t){m(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(g(e,et))return et;var t=g(e,tt),n=g(e,nt);return t&&n?et:t||n?t?tt:nt:g(e,$e)?$e:Ze}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var a=this.actions,i=g(a,et)&&!at[et],r=g(a,nt)&&!at[nt],o=g(a,tt)&&!at[tt];if(i){var s=1===e.pointers.length,d=e.distance<2,l=e.deltaTime<250;if(s&&d&&l)return}return o&&r?void 0:i||r&&n&Pe||o&&n&Le?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var it=1,rt=2,ot=4,st=8,dt=st,lt=16;G.prototype={defaults:{},set:function(e){return re(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=J(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)||(e=J(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return-1===y(t,e=J(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=J(e,this);var t=y(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,a=this.state;st>a&&t(n.options.event+H(a)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),a>=st&&t(n.options.event+H(a))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|it)))return!1;e++}return!0},recognize:function(e){var t=re({},e);return m(this.options.enable,[this,t])?(this.state&(dt|lt|32)&&(this.state=it),this.state=this.process(t),void(this.state&(rt|ot|st|lt)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},c(K,G,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,a=t&(rt|ot),i=this.attrTest(e);return a&&(n&Me||!i)?t|lt:a||i?n&Te?t|st:t&rt?t|ot:rt:32}}),c(X,K,{defaults:{event:"pan",threshold:10,pointers:1,direction:De},getTouchAction:function(){var e=this.options.direction,t=[];return e&Pe&&t.push(nt),e&Le&&t.push(tt),t},directionTest:function(e){var t=this.options,n=!0,a=e.distance,i=e.direction,r=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&Pe?(i=0===r?Ae:0>r?Ce:je,n=r!=this.pX,a=Math.abs(e.deltaX)):(i=0===o?Ae:0>o?Oe:Se,n=o!=this.pY,a=Math.abs(e.deltaY))),e.direction=i,n&&a>t.threshold&&i&t.direction},attrTest:function(e){return K.prototype.attrTest.call(this,e)&&(this.state&rt||!(this.state&rt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=V(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),c(q,K,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[et]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&rt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),c(Q,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ze]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,a=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!a||!n||e.eventType&(Te|Me)&&!i)this.reset();else if(e.eventType&xe)this.reset(),this._timer=r((function(){this.state=dt,this.tryEmit()}),t.time,this);else if(e.eventType&Te)return dt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===dt&&(e&&e.eventType&Te?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ue(),this.manager.emit(this.options.event,this._input)))}}),c(Z,K,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[et]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&rt)}}),c($,K,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Pe|Le,pointers:1},getTouchAction:function(){return X.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Pe|Le)?t=e.overallVelocity:n&Pe?t=e.overallVelocityX:n&Le&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ce(t)>this.options.velocity&&e.eventType&Te},emit:function(e){var t=V(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(ee,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[$e]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,a=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&xe&&0===this.count)return this.failTimeout();if(a&&i&&n){if(e.eventType!=Te)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||L(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=r((function(){this.state=dt,this.tryEmit()}),t.interval,this),rt):dt}return 32},failTimeout:function(){return this._timer=r((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==dt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.8",te.defaults={domEvents:!1,touchAction:Qe,enable:!0,inputTarget:null,inputClass:null,preset:[[Z,{enable:!1}],[q,{enable:!1},["rotate"]],[$,{direction:Pe}],[X,{direction:Pe},["swipe"]],[ee],[ee,{event:"doubletap",taps:2},["tap"]],[Q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ne.prototype={set:function(e){return re(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,a=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&dt)&&(i=t.curRecognizer=null);for(var r=0;r<a.length;)n=a[r],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(rt|ot|st)&&(i=t.curRecognizer=n),r++}},get:function(e){if(e instanceof G)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=y(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==i&&t!==i){var n=this.handlers;return s(b(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==i){var n=this.handlers;return s(b(e),(function(e){t?n[e]&&n[e].splice(y(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&ie(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var a=0;a<n.length;)n[a](t),a++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},re(te,{INPUT_START:xe,INPUT_MOVE:we,INPUT_END:Te,INPUT_CANCEL:Me,STATE_POSSIBLE:it,STATE_BEGAN:rt,STATE_CHANGED:ot,STATE_ENDED:st,STATE_RECOGNIZED:dt,STATE_CANCELLED:lt,STATE_FAILED:32,DIRECTION_NONE:Ae,DIRECTION_LEFT:Ce,DIRECTION_RIGHT:je,DIRECTION_UP:Oe,DIRECTION_DOWN:Se,DIRECTION_HORIZONTAL:Pe,DIRECTION_VERTICAL:Le,DIRECTION_ALL:De,Manager:ne,Input:M,TouchAction:Y,TouchInput:F,MouseInput:E,PointerEventInput:I,TouchMouseInput:z,SingleTouchInput:k,Recognizer:G,AttrRecognizer:K,Tap:ee,Pan:X,Swipe:$,Pinch:q,Rotate:Z,Press:Q,on:f,off:p,each:s,merge:he,extend:me,assign:re,inherit:c,bindFn:u,prefixed:w}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=te,e.exports?e.exports=te:t.Hammer=te}(window,document)}));var xa=function(){function e(t,n,a){var i=this;l(this,e),m(this,"targetElement",window),m(this,"targetDrawable",null),m(this,"camera",null),m(this,"boundingRect",null),m(this,"onTapCB",null),m(this,"onMouseMoveCB",null),m(this,"options",{tap:!0,pan:!0,pinch:!0}),m(this,"_movementModel",null),m(this,"_ambientController",null),m(this,"_animationController",null),m(this,"_isInteractive",!1),m(this,"resize",(function(){i.boundingRect=i.targetElement.getBoundingClientRect(),i._movementModel.resize(i.boundingRect.width,i.boundingRect.height,i.camera.aspect,i.camera.fov)})),m(this,"update",(function(){i._movementModel.update(i.camera.fov)})),m(this,"isOverTarget",(function(e,t){var n=e-i.boundingRect.x,a=t-i.boundingRect.y,r=n/i.boundingRect.width,o=(i.boundingRect.height-a)/i.boundingRect.height,s=i.camera.getRayFromScreen(r,o);return i.targetDrawable.hitTest(s)})),m(this,"onPanStart",(function(e){i.isOverTarget(e.center.x,e.center.y)&&(i._movementModel.startPan(e),i._ambientController.pauseMotion())})),m(this,"onPanContinue",(function(e){i._movementModel.continuePan(e)})),m(this,"onPanEnd",(function(e){i._movementModel.endPan(e),i._ambientController.isEnabled&&i._ambientController.resumeMotionAnimated()})),m(this,"onTap",(function(e){var t=e.center.x-i.boundingRect.x,n=e.center.y-i.boundingRect.y;i.onTapCB&&i.onTapCB(t,n)})),m(this,"onMouseMove",(function(e){var t=e.offsetX-i.boundingRect.x,n=e.offsetY-i.boundingRect.y;i.onMouseMoveCB&&i.onMouseMoveCB(t,n)})),t&&(this.targetElement=t,this.boundingRect=this.targetElement.getBoundingClientRect()),this.camera=n,a&&(a.tap&&(this.options.tap=a.tap),a.pan&&(this.options.pan=a.pan),a.pinch&&(this.options.pinch=a.pinch));var r=window.Hammer;this.hammer=r(this.targetElement,null),this.hammer.get("pan").set({direction:r.DIRECTION_ALL}),this.targetElement.addEventListener("mousemove",this.onMouseMove),this.isInteractive=!0}return u(e,[{key:"register",value:function(e,t,n){this._movementModel=n,this._movementModel.resize(this.boundingRect.width,this.boundingRect.height,this.camera.aspect,this.camera.fov),this._ambientController=e,this._animationController=t}},{key:"target",set:function(e){this.targetDrawable=e}},{key:"isInteractive",get:function(){return this._isInteractive},set:function(e){e!==this._isInteractive&&(e?(this.options.tap&&this.hammer.on("tap",this.onTap),this.options.pan&&this.hammer.on("panstart",this.onPanStart),this.options.pan&&this.hammer.on("pan",this.onPanContinue),this.options.pan&&this.hammer.on("panend",this.onPanEnd),this.options.pinch&&this.hammer.on("tap",this.onPinch),this._isInteractive=e):(this.options.tap&&this.hammer.off("tap",this.onTap),this.options.pan&&this.hammer.off("panstart",this.onPanStart),this.options.pan&&this.hammer.off("pan",this.onPanContinue),this.options.pan&&this.hammer.off("panend",this.onPanEnd),this.options.pinch&&this.hammer.off("tap",this.onPinch),this._isInteractive=e))}}]),e}(),wa=function(){function e(){l(this,e)}return u(e,null,[{key:"create",value:function(e,t,n,a){var i=3*e,r=3*(n-e)-i,o=1-i-r,s=3*t,d=3*(a-t)-s,l=1-s-d,c=function(e){return((o*e+r)*e+i)*e};return function(e){return function(e){return((l*e+d)*e+s)*e}(function(e,t){var n,a,s,d,l,u;s=e;for(var m=0;m<8;m++){if(d=c(s)-e,Math.abs(d)<1e-9)return s;if(l=(3*o*(u=s)+2*r)*u+i,Math.abs(l)<1e-6)break;s-=d/l}if((s=e)<(n=0))return n;if(s>(a=1))return a;for(;n<a;){if(d=c(s),Math.abs(d-e)<1e-9)return s;e>d?n=s:a=s,s=.5*(a-n)+n}return s}(e))}}}]),e}(),Ta=function(){function e(){l(this,e),m(this,"_latLonTween",null),m(this,"_altTween",null),m(this,"_currentLatLon",null),m(this,"_currentAlt",null),m(this,"_movementModel",null),m(this,"_interactionController",null),m(this,"_ambientController",null)}return u(e,[{key:"register",value:function(e,t,n){this._movementModel=n,this._interactionController=t,this._ambientController=e}},{key:"animateLatLonAlt",value:function(t,n,a,i){var r=i||{};if(!r.duration&&0!==r.duration){var o=this._movementModel.currentLatLonAlt,s=[t,n];r.duration=e._defaultDuration(o,s)}this.animateLatLon(t,n,r),this.animateAlt(a,f(f({},r),{},{onComplete:null}))}},{key:"animateLatLon",value:function(t,n,a){var i=this,r=a||{},o=this._movementModel.currentLatLonAlt;this._currentLatLon=[o[0],o[1]];var s=T(this._currentLatLon),d=[t,n],l=n+360,c=n-360,u=Math.abs(n-s[1]),m=Math.abs(l-s[1]),h=Math.abs(c-s[1]);m<=h&&m<=u&&(d[1]=l),h<=u&&h<=m&&(d[1]=c);var f,p=r.duration;if(p||0===p||(p=e._defaultDuration(s,d)),f=r.ease&&"function"==typeof r.ease?r.ease:e._defaultLatLonEase(p),!this._ambientController.isPaused){var v=Math.min(250,p/4);this._ambientController.pauseMotionAnimated({duration:v})}this._latLonTween&&this._latLonTween.stop(),this._latLonTween=new pa(0,1,p,{onUpdate:function(e){var t=f(e);i._currentLatLon=[s[0]+(d[0]-s[0])*t,s[1]+(d[1]-s[1])*t]},onComplete:function(e){e&&(i._latLonTween=null,i._currentLatLon=null,i._movementModel.setLatLon(d[0],d[1]),i._ambientController.isEnabled&&i._ambientController.isPaused&&i._ambientController.resumeMotionAnimated()),r.onComplete&&"function"==typeof r.onComplete&&r.onComplete(e)}})}},{key:"animateAlt",value:function(e,t){var n=this,a=t||{};this._currentAlt=this._movementModel.currentLatLonAlt[2];var i,r=this._currentAlt,o=e,s=a.duration;if(s||0===s||(s=500),i=a.ease&&"function"==typeof a.ease?a.ease:function(e){return e},!this._ambientController.isPaused){var d=Math.min(250,s/4);this._ambientController.pauseMotionAnimated({duration:d})}this._altTween&&this._altTween.stop(),this._altTween=new pa(0,1,s,{onUpdate:function(e){var t=i(e);n._currentAlt=r+(o-r)*t},onComplete:function(e){e&&(n._altTween=null,n._currentAlt=null,n._movementModel.setAlt(o),n._ambientController.isEnabled&&n._ambientController.isPaused&&n._ambientController.resumeMotionAnimated()),a.onComplete&&"function"==typeof a.onComplete&&a.onComplete(e)}})}},{key:"cancelLatLonAlt",value:function(){this.cancelLatLon(),this.cancelAlt()}},{key:"cancelLatLon",value:function(){this._latLonTween&&(this._latLonTween.stop(),this._latLonTween=null,this._currentLatLon=null)}},{key:"cancelAlt",value:function(){this._altTween&&(this._altTween.stop(),this._altTween=null,this._currentAlt=null)}},{key:"isAnimatingLatLon",get:function(){return null!=this._latLonTween}},{key:"isAnimatingAlt",get:function(){return null!=this._altTween}},{key:"currentLatLon",get:function(){return this._currentLatLon}},{key:"currentAlt",get:function(){return this._currentAlt}}],[{key:"_defaultDuration",value:function(e,t){return 300+700*(1-(fa.dotBetweenLatLon(e,t)+1)/2)}},{key:"_defaultLatLonEase",value:function(e){var t=e-350,n=.55+(.85-.55)*Math.min(Math.max(t/100,0),1);return wa.create(.315,.015,1-n,1)}}]),e}(),Ma=function(){function e(){l(this,e),m(this,"latitudeVariance",100),m(this,"latitudeSpeed",.5),m(this,"longitudeSpeed",.05),m(this,"isEnabled",!0),m(this,"_ambientStrength",1),m(this,"_ambientTween",null),m(this,"_isPaused",!1),m(this,"_movementController",null),m(this,"_animationController",null),m(this,"_interactionController",null)}return u(e,[{key:"register",value:function(e,t,n){this._movementModel=n,this._interactionController=t,this._animationController=e}},{key:"pauseMotion",value:function(){this._isPaused=!0,this._ambientTween&&this._ambientTween.stop(),this._ambientTween=null,this._ambientStrength=0}},{key:"pauseMotionAnimated",value:function(e){var t=this;this._isPaused=!0;var n,a=e||{},i=500;(a.duration||0===a.duration)&&(i=a.duration),n=a.ease&&"function"==typeof a.ease?a.ease:function(e){return e};var r=1;this._ambientTween&&(r=this._ambientTween.currentValue(),this._ambientTween.stop()),this._ambientTween=new pa(r,0,(r-0)*i,{onUpdate:function(e){t._ambientStrength=n(e)},onComplete:function(e){e&&(t._ambientTween=null),a.onComplete&&"function"==typeof a.onComplete&&a.onComplete(e)}})}},{key:"resumeMotion",value:function(){this._isPaused=!1,this._ambientTween.stop(),this._ambientTween=null,this._ambientStrength=1}},{key:"resumeMotionAnimated",value:function(e){var t=this;this._isPaused=!1;var n,a=e||{},i=1e3;(a.duration||0===a.duration)&&(i=a.duration),n=a.ease&&"function"==typeof a.ease?a.ease:function(e){return e};var r=0;this._ambientTween&&(r=this._ambientTween.currentValue(),this._ambientTween.stop()),this._ambientTween=new pa(r,1,(1-r)*i,{onUpdate:function(e){t._ambientStrength=1-n(1-e)},onComplete:function(e){e&&(t._ambientTween=null),a.onComplete&&"function"==typeof a.onComplete&&a.onComplete(e)}})}},{key:"ambientStrength",get:function(){return this._ambientStrength}},{key:"isPaused",get:function(){return this._isPaused}}]),e}(),Aa=function(){function e(t){var n=this;l(this,e),m(this,"_container",null),m(this,"_callouts",{}),m(this,"_calloutDefinitions",[]),m(this,"_currentlyRemoving",[]),m(this,"onAutoRemove",null),m(this,"autoRemoveCallouts",!0),m(this,"autoRemoveThresholdSimilarity",.5),m(this,"autoRemoveThresholdMargins",{top:0,right:0,left:0,bottom:0}),m(this,"shouldAutoRemoveCallout",null),t&&"DIV"===t.tagName?(this._container=t,this._container.style.pointerEvents="none",this.resizeObserver=new ResizeObserver((function(e){e.length&&(n.bounds=e[0].contentRect)})),this.resizeObserver.observe(this._container)):console.warn("CalloutManager expects a DIV element as a container."),this._removeCalloutComplete=this._removeCalloutComplete.bind(this)}return u(e,[{key:"release",value:function(){this.resizeObserver.disconnect()}},{key:"addCallout",value:function(e){this.replaceCallouts([].concat(T(this._calloutDefinitions),[e]))}},{key:"removeCallout",value:function(e){var t=this._calloutDefinitions.findIndex((function(t){return t.id===e.id}));-1!==t&&this.replaceCallouts([].concat(T(this._calloutDefinitions.slice(0,t)),T(this._calloutDefinitions.slice(t+1))))}},{key:"replaceCallouts",value:function(e){var t=this,n=e.filter((function(e){return!t._calloutDefinitions.includes(e)})),a=this._calloutDefinitions.filter((function(t){return!e.includes(t)})).filter((function(e){return!t._currentlyRemoving.includes(e)}));this._currentlyRemoving=[].concat(T(this._currentlyRemoving),T(a)),this._calloutDefinitions=[].concat(T(this._calloutDefinitions),T(n)),n.map((function(e){var n=e.calloutClass;if(n){var a=new n(e);if(t.positionProvider){var i=t.positionProvider([e]);a.setPosition(i[0])}return a}})).filter((function(e){return e})).forEach((function(e){t._callouts[e.definition.id]=e,t._container.appendChild(e.element),e.animateIn()})),a.map((function(e){return t._callouts[e.id]})).forEach((function(e){e.animateOut(t._removeCalloutComplete)}))}},{key:"removeAllCallouts",value:function(){this.replaceCallouts([])}},{key:"getCalloutForDefinition",value:function(e){return this._callouts[e.id]}},{key:"update",value:function(e){var t=this;if(this.positionProvider){var n=[],a=this.positionProvider(this._calloutDefinitions);this._calloutDefinitions.forEach((function(i,r){var o=t._callouts[i.id],s=a[r];if(o&&(o.setPosition(s),o.update(e)),t.autoRemoveCallouts){var d,l,c=t.autoRemoveThresholdSimilarity,u=t.autoRemoveThresholdMargins;(s.world.similarityToCameraVector<c||s.screen.x<u.left||s.screen.x>(null===t||void 0===t||null===(d=t.bounds)||void 0===d?void 0:d.width)-u.right||s.screen.y<u.top||s.screen.y>(null===t||void 0===t||null===(l=t.bounds)||void 0===l?void 0:l.height)-u.bottom)&&n.push(i)}})),n.forEach((function(e){t.shouldAutoRemoveCallout&&!t.shouldAutoRemoveCallout(e)||(t.removeCallout(e),t.onAutoRemove&&t.onAutoRemove(e))}))}}},{key:"_removeCalloutComplete",value:function(e){var t=e.definition.id,n=this._calloutDefinitions.findIndex((function(e){return e.id===t}));-1!==n&&(this._calloutDefinitions=[].concat(T(this._calloutDefinitions.slice(0,n)),T(this._calloutDefinitions.slice(n+1))),n=this._currentlyRemoving.findIndex((function(e){return e.id===t})),this._currentlyRemoving=[].concat(T(this._currentlyRemoving.slice(0,n)),T(this._currentlyRemoving.slice(n+1))),this._container.removeChild(this._callouts[t].element),this._callouts[t].release(),delete this._callouts[t])}},{key:"drawables",get:function(){var e=this;return this._calloutDefinitions.map((function(t){return e._callouts[t.id].drawables}))}}]),e}(),Ca=function(){function e(t,n,a){var i=this;l(this,e),m(this,"_wasmLoaded",!1),m(this,"isInit",!1),m(this,"shouldDraw",!1),m(this,"renderer",null),m(this,"scene",null),m(this,"targetDrawable",null),m(this,"calloutManager",null),m(this,"boundingRect",null),m(this,"_onWasmLoad",[]),m(this,"drawqueue",[]),m(this,"onInit",void 0),m(this,"onSelection",void 0),m(this,"onTap",void 0),m(this,"onUpdate",void 0),m(this,"_movementModel",null),m(this,"_interactionController",null),m(this,"_ambientController",null),m(this,"_animationController",null),m(this,"_storedMouseXY",null),m(this,"loadWasm",(function(e,t){return ra(void 0===e?"./gkweb_bg.wasm":e).then((function(){(function(e){var t=Xn(e,En.__wbindgen_malloc,En.__wbindgen_realloc),n=Vn;return Wn(En.init_runtime(t,n))})(t).then((function(){i._wasmLoaded=!0,i._onWasmLoad.forEach((function(e){e()})),i._onInitCB()}))}))})),m(this,"init",(function(e){i.renderer=new fn(e,i.gkOptions.attributes),i.renderer.init(),i.gkOptions.clearColor&&(i.renderer.clearColor=i.gkOptions.clearColor),i.scene=new kn(e.width,e.height),i.gkOptions.movementModel?i._movementModel=i.gkOptions.movementModel:i._movementModel=new ya,i._interactionController=new xa(e,i.scene.camera),i._interactionController.onTapCB=i.onTapCB,i._interactionController.onMouseMoveCB=i.onMouseMoveCB,i._animationController=new Ta,i._ambientController=new Ma,i._ambientController.register(i._animationController,i._interactionController,i._movementModel),i._animationController.register(i._ambientController,i._interactionController,i._movementModel),i._interactionController.register(i._ambientController,i._animationController,i._movementModel),i._movementModel.register(i._ambientController,i._animationController,i._interactionController),window.addEventListener("resize",i.onResizeCB),window.addEventListener("scroll",i.onResizeCB),i._resizeObserver=new ResizeObserver((function(e){e.length&&i.onResizeCB()})),i._resizeObserver.observe(e),i.loadWasm(i.gkOptions.wasmPath,i.gkOptions.apiKey),i.isInit=!0})),m(this,"_onInitCB",(function(){i.onInit&&i.onInit(i),i.renderloop(0)})),m(this,"onResizeCB",(function(){i.boundingRect=i.renderer.gl.canvas.getBoundingClientRect(),hn(i.renderer.gl.canvas),i.scene.resize(i.boundingRect.width,i.boundingRect.height),i.renderer.resize(i.boundingRect.width,i.boundingRect.height),i.interactionController.resize()})),m(this,"setCameratargetDrawable",(function(e){i.interactionController.hitTarget=e.hitTest})),m(this,"addDrawable",(function(e,t){return e instanceof sa&&(e instanceof da&&null===i.targetDrawable&&(i.targetDrawable=e,i.interactionController.target=e),e.init(i.renderer.gl,t),i.drawqueue.push(e),i._wasmLoaded?e.createCollisionGeo():i._onWasmLoad.push(e.createCollisionGeo),!0)})),m(this,"startDrawing",(function(){i.shouldDraw=!0,i.renderloop(0)})),m(this,"stopDrawing",(function(){i.shouldDraw=!1})),m(this,"renderloop",(function(e){var t=e/1e4;if(i.shouldDraw){i.movementModel.update(t,i.scene.camera.fov);var n=w(i.movementModel.currentLatLonAlt,3),a=n[0],r=n[1],o=n[2],s=fa.worldFromLatLon(a,r,o);i.scene.camera.setPosition(s),i.renderer.prepareRenderFrame(),i.scene.update(t);var d=i.scene.getUniforms(t);if(i.drawqueue.forEach((function(e){e.update(i.renderer.gl,d,t)})),i.calloutManager&&i.calloutManager.update(t),i.drawqueue.forEach((function(e){e.draw(i.renderer.gl)})),i.onUpdate&&"function"==typeof i.onUpdate)if(i._storedMouseXY){var l=w(i._storedMouseXY,2),c=l[0],u=l[1],m=c/i.boundingRect.width,h=(i.boundingRect.height-u)/i.boundingRect.height,f=i.scene.camera.getRayFromScreen(m,h),p=i.targetLatLon(f);p?i.onUpdate(i.getPosition(p.lat,p.lon,0)):i.onUpdate()}else i.onUpdate();requestAnimationFrame(i.renderloop)}})),m(this,"onTapCB",(function(e,t){if(i._wasmLoaded){var n=e/i.boundingRect.width,a=(i.boundingRect.height-t)/i.boundingRect.height,r=i.scene.camera.getRayFromScreen(n,a),o=i.targetLatLon(r),s={drawables:[]};o&&(s.lat=o.lat,s.lon=o.lon),i.drawqueue.forEach((function(e){if(e.isInteractive&&e.isSelectable){var t={};t.obj=e;var n=e.rayCastFrom(r);n&&e.isSelectable&&(t.selection=e.onSelection(o.lat,o.lon,n)),s.drawables.push(t)}})),i.onSelection&&"function"==typeof i.onSelection&&i.onSelection(s),i.onTap&&"function"==typeof i.onTap&&(o?i.onTap(i.getPosition(o.lat,o.lon,0)):i.onTap())}})),m(this,"targetLatLon",(function(e){var t,n=i.targetDrawable.rayCastFrom(e);return!1!==n&&(t=fa.latLonFromWorld(n.point)),t})),m(this,"onMouseMoveCB",(function(e,t){if(i._wasmLoaded){var n=e/i.boundingRect.width,a=(i.boundingRect.height-t)/i.boundingRect.height,r=i.scene.camera.getRayFromScreen(n,a);i.drawqueue.forEach((function(e){if(e.isInteractive&&e.isHoverable){var t=e.rayCastFrom(r);t&&e.isHoverable&&e.onHover(t)}})),i._storedMouseXY=[e,t]}})),m(this,"getPosition",(function(e,t,n){n||(n=0);var a=fa.worldFromLatLon(e,t,n),r=i.scene.camera.project(a);r[0]*=i.boundingRect.width,r[1]*=i.boundingRect.height,r[1]=i.boundingRect.height-r[1];var o=i.scene.camera.project(i.scene.camera.target);o[0]*=i.boundingRect.width,o[1]*=i.boundingRect.height,o[1]=i.boundingRect.height-o[1];var s=[];s.push(r[0]-o[0]),s.push(r[1]-o[1]);var d=wn();jn(d,a);var l=i.scene.camera.eye,c=wn();jn(c,l);var u=On(d,c);return{coord:{lat:e,lon:t,alt:n},screen:{x:r[0],y:r[1]},world:{x:s[0],y:s[1],similarityToCameraVector:u}}})),m(this,"registerCalloutManager",(function(e){e&&e instanceof Aa?(e.positionProvider=function(e){return e.map((function(e){return i.getPosition(e.latitude,e.longitude,e.altitude)}))},i.calloutManager=e):console.warn("registerCalloutManager must be passed an instance of CalloutManager")})),m(this,"computeGlobeSize",(function(){var e,t,n,a,r,o=i.scene.camera.fov,s=(e=i.scene.camera.eye,n=(t=i.targetDrawable.translation)[0]-e[0],a=t[1]-e[1],r=t[2]-e[2],Math.hypot(n,a,r));return 2*Math.asin(1/s)/o*i.boundingRect.height})),m(this,"setGlobeSize",(function(e){var t=i.scene.camera.fov;return 1*Math.sin(e/i.boundingRect.height*t/2)})),this.gkOptions=void 0===n?{}:n,a&&(this.onInit=a),this.boundingRect=t.getBoundingClientRect(),this.init(t)}return u(e,[{key:"movementModel",get:function(){return this._movementModel}},{key:"ambientController",get:function(){return this._ambientController}},{key:"animationController",get:function(){return this._animationController}},{key:"interactionController",get:function(){return this._interactionController}}]),u(e,[{key:"isWebGL1",get:function(){return!!this.gl&&rt(this.gl)}},{key:"isWebGL2",get:function(){return!!this.gl&&it(this.gl)}},{key:"VERSION",get:function(){return{version:"1.0.4",wasmVersion:this.WASM_VERSION}}},{key:"WASM_VERSION",get:function(){return!!this._wasmLoaded&&function(){try{var e=En.__wbindgen_export_4.value-16;En.__wbindgen_export_4.value=e,En.get_wasm_version(e);var t=Qn()[e/4+0],n=Qn()[e/4+1];return Gn(t,n)}finally{En.__wbindgen_export_4.value+=16,En.__wbindgen_free(t,n)}}()}}]),e}(),ja=_a((function(e,t){!function(e){function t(e,t,n){this.obj=e,this.left=null,this.right=null,this.parent=n,this.dimension=t}function n(e){this.content=[],this.scoreFunction=e}n.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},peek:function(){return this.content[0]},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]==e){var a=this.content.pop();return void(n!=t-1&&(this.content[n]=a,this.scoreFunction(a)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n)))}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,a=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(a)))break;this.content[n]=t,this.content[e]=a,e=n}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],a=this.scoreFunction(n);;){var i=2*(e+1),r=i-1,o=null;if(r<t){var s=this.content[r],d=this.scoreFunction(s);d<a&&(o=r)}if(i<t){var l=this.content[i];this.scoreFunction(l)<(null==o?a:d)&&(o=i)}if(null==o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}}},e.kdTree=function(e,a,i){var r=this;Array.isArray(e)?this.root=function e(n,a,r){var o,s,d=a%i.length;return 0===n.length?null:1===n.length?new t(n[0],d,r):(n.sort((function(e,t){return e[i[d]]-t[i[d]]})),(s=new t(n[o=Math.floor(n.length/2)],d,r)).left=e(n.slice(0,o),a+1,s),s.right=e(n.slice(o+1),a+1,s),s)}(e,0,null):function(e){r.root=e,function e(t){t.left&&(t.left.parent=t,e(t.left)),t.right&&(t.right.parent=t,e(t.right))}(r.root)}(e),this.toJSON=function(e){e||(e=this.root);var n=new t(e.obj,e.dimension,null);return e.left&&(n.left=r.toJSON(e.left)),e.right&&(n.right=r.toJSON(e.right)),n},this.insert=function(e){var n,a,r=function t(n,a){if(null===n)return a;var r=i[n.dimension];return e[r]<n.obj[r]?t(n.left,n):t(n.right,n)}(this.root,null);null!==r?(n=new t(e,(r.dimension+1)%i.length,r),a=i[r.dimension],e[a]<r.obj[a]?r.left=n:r.right=n):this.root=new t(e,0,null)},this.remove=function(e){var t;null!==(t=function t(n){if(null===n)return null;if(n.obj===e)return n;var a=i[n.dimension];return e[a]<n.obj[a]?t(n.left):t(n.right)}(r.root))&&function e(t){function n(e,t){var a,r,o,s,d;return null===e?null:(a=i[t],e.dimension===t?null!==e.left?n(e.left,t):e:(r=e.obj[a],o=n(e.left,t),s=n(e.right,t),d=e,null!==o&&o.obj[a]<r&&(d=o),null!==s&&s.obj[a]<d.obj[a]&&(d=s),d))}var a,o,s;if(null===t.left&&null===t.right)return null===t.parent?void(r.root=null):(s=i[t.parent.dimension],void(t.obj[s]<t.parent.obj[s]?t.parent.left=null:t.parent.right=null));null!==t.right?(o=(a=n(t.right,t.dimension)).obj,e(a),t.obj=o):(o=(a=n(t.left,t.dimension)).obj,e(a),t.right=t.left,t.left=null,t.obj=o)}(t)},this.nearest=function(e,t,o){var s,d,l;if(l=new n((function(e){return-e[1]})),o)for(s=0;s<t;s+=1)l.push([null,o]);for(r.root&&function n(r){function o(e,n){l.push([e,n]),l.size()>t&&l.pop()}var s,d,c,u,m=i[r.dimension],h=a(e,r.obj),f={};for(u=0;u<i.length;u+=1)u===r.dimension?f[i[u]]=e[i[u]]:f[i[u]]=r.obj[i[u]];d=a(f,r.obj),null!==r.right||null!==r.left?(n(s=null===r.right?r.left:null===r.left?r.right:e[m]<r.obj[m]?r.left:r.right),(l.size()<t||h<l.peek()[1])&&o(r,h),(l.size()<t||Math.abs(d)<l.peek()[1])&&null!==(c=s===r.left?r.right:r.left)&&n(c)):(l.size()<t||h<l.peek()[1])&&o(r,h)}(r.root),d=[],s=0;s<Math.min(t,l.content.length);s+=1)l.content[s][0]&&d.push([l.content[s][0].obj,l.content[s][1]]);return d},this.balanceFactor=function(){return function e(t){return null===t?0:Math.max(e(t.left),e(t.right))+1}(r.root)/(Math.log(function e(t){return null===t?0:e(t.left)+e(t.right)+1}(r.root))/Math.log(2))}},e.BinaryHeap=n}(t)})),Oa=function(){function e(){var t=this;l(this,e),m(this,"data",[]),m(this,"types",[]),m(this,"kdtree",null),m(this,"isInit",!1),m(this,"init",(function(){t.isInit||(t.kdtree=new ja.kdTree(t.data,fa.distanceBetweenPoints,["lat","lon"]))})),m(this,"addGeojson",(function(e){if("FeatureCollection"===e.type&&e.features instanceof Array){var n=[];e.features.forEach((function(e){var a={id:"_".concat(Math.random().toString(36).substr(2,9)),lat:e.geometry.coordinates[1],lon:e.geometry.coordinates[0],properties:e.properties};t.data.push(a),n.push(n)})),t.isInit?t.kdtree.insert(n):t.init()}})),m(this,"addGeojsonPoint",(function(e){var n={id:"_".concat(Math.random().toString(36).substr(2,9)),lat:e.geometry.coordinates[1],lon:e.geometry.coordinates[0],properties:e.properties};return t.data.push(n),t.isInit?t.kdtree.insert(n):t.init(),n})),m(this,"addDataPoint",(function(e){var n=void 0===e.length?[e]:e,a=[];n.forEach((function(e){var n={id:"_".concat(Math.random().toString(36).substr(2,9)),lat:e.coordinates[1],lon:e.coordinates[0],properties:e.properties};t.data.push(n),a.push(n)})),t.isInit?t.kdtree.insert(a):t.init()})),m(this,"updateDataset",(function(e){e.features.forEach((function(e){var n=t.data.find((function(t){var n=t.lat===e.geometry.coordinates[1],a=t.lon===e.geometry.coordinates[0];return n&&a}));void 0===n?t.addGeojsonPoint(e):n.properties=e.properties}))})),m(this,"deleteDataset",(function(){t.data=[],t.init()})),m(this,"getNearest",(function(e,n,a,i){t.isInit||t.init();var r=t.kdtree.nearest({lat:e,lon:n},i,a);if(void 0!==r[0])return r})),m(this,"getElementFromId",(function(e){return t.data.find((function(t){return t.id===e}))})),m(this,"getElementFromKey",(function(e,n){return t.data.find((function(t){return t.properties[e]===n}))})),m(this,"getTypeList",(function(){var e=[];return e.push([t.data[0]]),t.data.forEach((function(t){var n=Object.keys(t.properties),a=!1;e.forEach((function(e){var i=Object.keys(e[0].properties),r=fa.isSubSet(n,i),o=fa.isSubSet(i,n);r&&o&&(e.push(t),a=!0)})),!1===a&&e.push([t])})),e})),m(this,"getMaxForKey",(function(e){var n,a=-1/0;if("number"==typeof t.data[0].properties[e])return t.data.forEach((function(t){var i=t.properties[e];i>=a&&(a=i,n=t.id)})),{max:a,id:n};console.warn("Cannot compare non-numbers")})),m(this,"getMinForKey",(function(e){var n,a=1/0;if("number"==typeof t.data[0].properties[e])return t.data.forEach((function(t){var i=t.properties[e];i<=a&&(a=i,n=t.id)})),{min:a,id:n};console.warn("Cannot compare non-numbers")})),m(this,"getRangeForKey",(function(e){return{min:t.getMinForKey(e),max:t.getMaxForKey(e)}})),m(this,"mapKeyToRange",(function(e,n,a){var i=t.getRangeForKey(e);return t.data.map((function(t){var r=(t.properties[e]-i.min.min)/(i.max.max-i.min.min)*(a-n)+n;return{id:t.properties.region_id,value:r}}))}))}return u(e,[{key:"isHomogeneous",get:function(){return 1===this.getTypeList().length}}]),e}(),Sa=function(e){p(n,sa);var t=_(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(),Pa="precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D u_texture;varying vec4 v_color;varying float v_alpha;void main(){vec4 surfaceColor=texture2D(u_texture,gl_PointCoord.xy);float d=(1.0+v_alpha)/2.0;float alpha=smoothstep(0.4,0.49,v_alpha);gl_FragColor=vec4(surfaceColor.rgb,surfaceColor.a*alpha);}",La={},Da=(function(e){p(n,Sa);var t=_(n);function n(e){var a,i;l(this,n),m(b(i=t.call(this,e)),"datastore",void 0),m(b(i),"maxSelectionDistance",300),m(b(i),"maxSelectionCount",1),m(b(i),"maxDataPoints",1e4),m(b(i),"dataPointCount",0),m(b(i),"_resourceLoaded",!1),m(b(i),"_isDirty",!0),m(b(i),"_hasGeometry",!1),m(b(i),"useTexture",!1),m(b(i),"createEmptyVertices",(function(){i.geometry.vertices.position={numComponents:3,data:new Array(3*i.maxDataPoints).fill(0),perInstance:1},i.geometry.vertices.color={numComponents:4,data:new Array(4*i.maxDataPoints).fill(0),perInstance:4},i.geometry.vertices.size={numComponents:1,data:new Array(1*i.maxDataPoints).fill(0),perInstance:1},i.geometry.vertices.indices={numComponents:1,data:Array.from(Array(1*i.maxDataPoints).keys()),perInstance:1}})),m(b(i),"extendVerticesBy",(function(e){var t,n,a;(t=i.geometry.vertices.position.data).push.apply(t,T(Array(3*e).fill(0))),(n=i.geometry.vertices.color.data).push.apply(n,T(Array(4*e).fill(0))),(a=i.geometry.vertices.size.data).push.apply(a,T(Array(1*e).fill(0)));var r=i.geometry.vertices.indices.data.length;i.geometry.vertices.indices.data=Array.from(Array(1*(r+e)).keys()),i.geometry.needsResize=!0,i.maxDataPoints+=e})),m(b(i),"init",(function(e,t){if(i.geometry.init(e),i._hasGeometry=!0,i.material.init(e),i.useTexture){var n={texture:{src:i.textureSrc.texture,minMag:e.LINEAR}};i.material.loadTextures(e,n,(function(){t&&t(),i.material.uniforms.u_texture=i.material.textures.texture}))}else t&&t()})),m(b(i),"createCollisionGeo",(function(){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix,i.geometry.needsResize&&i.geometry.reloadBuffers(e),i.geometry.isDirty&&i.geometry.updateBuffers(e)})),m(b(i),"draw",(function(e){(i.isReady||i._hasGeometry)&&0!==!i.dataPointCount&&(e.useProgram(i.material.programInfo.program),e.disable(e.DEPTH_TEST),sn(e,i.material.programInfo,i.geometry.bufferInfo),on(i.material.programInfo,i.material.uniforms),e.drawElements(e.POINTS,i.dataPointCount,e.UNSIGNED_SHORT,0),e.enable(e.DEPTH_TEST))})),m(b(i),"rayCastFrom",(function(){return!0})),m(b(i),"hitTest",(function(){return!0})),m(b(i),"onSelectionCB",(function(e){return e})),m(b(i),"onSelection",(function(e,t){var n=i.getNearest(e,t);return i.onSelectionCB(n)})),m(b(i),"transform",(function(e,t){return t})),m(b(i),"addGeojson",(function(e,t){if("string"!=typeof e){i.datastore.addGeojson(e);var n={position:{numComponents:3,data:[]},color:{numComponents:4,data:[]},size:{numComponents:1,data:[]},indices:{numComponents:1,data:[]}};i.datastore.data.forEach((function(e,t){var a,r,o={lat:e.lat,lon:e.lon,color:[1,1,1,1],size:10};(o=i.transform(e,o)).coords=fa.worldFromLatLon(o.lat,o.lon,.01),(a=n.position.data).push.apply(a,T(o.coords)),(r=n.color.data).push.apply(r,T(o.color)),n.size.data.push(o.size),n.indices.data.push(t)})),i.geometry.updateGeometry(n,i.dataPointCount),i.dataPointCount+=e.features.length,void 0!==t&&t()}else console.warn("This function needs a geojson object at this time")})),m(b(i),"addDataPoint",(function(e,t){i.dataPointCount+1>=i.maxDataPoints&&(console.warn("More than ".concat(i.maxDataPoints," datapoints have been added, Increasing buffer size by: ").concat(i.maxDataPoints)),i.extendVerticesBy(i.maxDataPoints));var n=[];n.push(i.datastore.addGeojsonPoint(e));var a={position:{numComponents:3,data:[]},color:{numComponents:4,data:[]},size:{numComponents:1,data:[]},indices:{numComponents:1,data:[]}};n.forEach((function(e,t){var n,r,o={lat:e.lat,lon:e.lon,color:[1,1,1,1],size:10};(o=i.transform(e,o)).coords=fa.worldFromLatLon(o.lat,o.lon,.01),(n=a.position.data).push.apply(n,T(o.coords)),(r=a.color.data).push.apply(r,T(o.color)),a.size.data.push(o.size),a.indices.data.push(t)})),i.geometry.updateGeometry(a,i.dataPointCount),i.dataPointCount+=1,void 0!==t&&t()})),m(b(i),"updatePoint",(function(e,t){var n,a,r={};void 0!==t.position&&(r.position={numComponents:3,data:[]},(n=r.position.data).push.apply(n,T(t.position))),void 0!==t.color&&(r.color={numComponents:4,data:[]},(a=r.color.data).push.apply(a,T(t.color))),void 0!==t.size&&(r.size={numComponents:1,data:[]},r.size.data.push(t.size)),i.geometry.updateGeometry(r,e)})),m(b(i),"getNearest",(function(e,t){return i.datastore.getNearest(e,t,i.maxSelectionDistance,i.maxSelectionCount)}));var r={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec4 color;attribute float size;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;varying vec4 v_color;varying float v_alpha;void main(){vec4 pos=u_worldViewProjection*u_model*position;gl_PointSize=size;gl_Position=pos;v_color=color;v_alpha=dot(position.xyz,normalize(u_cameraPos));}",fragment:"precision mediump float;\n#define GLSLIFY 1\nvarying vec4 v_color;varying float v_alpha;void main(){float d=distance(vec2(0.5),gl_PointCoord.xy);float c=1.0-smoothstep(0.40,0.5,d);gl_FragColor=vec4(v_color.rgb,v_color.a*v_alpha*c);}"};return e&&(e.maxSelectionCount&&(i.maxSelectionCount=e.maxSelectionCount),e.maxSelectionDistance&&(i.maxSelectionDistance=e.maxSelectionDistance),e.maxDataPoints&&(i.maxDataPoints=e.maxDataPoints),!0===e.useTexture&&void 0!==e.texture&&(i.useTexture=!0,r.fragment=Pa,i.textureSrc={texture:e.texture})),i.material=new Rn(r),i.datastore=new Oa,i.material.uniforms=La,i.geometry=new la,i.createEmptyVertices(),i}}(),{vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec3 normal;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;varying vec2 vTexture;varying float vAlpha;void main(){vec4 pos=u_worldViewProjection*u_model*position;gl_PointSize=10.0;vec3 transformedNormal=(u_worldViewProjection*u_model*vec4(normal,1.0)).xyz;vec4 transformedCamera=vec4(0.0,0.0,-1.0,1.0)*u_worldViewProjection;vAlpha=pow((1.0+(dot(normal,normalize(transformedCamera.xyz))))/2.0,9.0);vTexture=texcoord.xy;gl_Position=pos+0.00000000000000001*normal.x*texcoord.x;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D u_surface;varying vec2 vTexture;varying float vAlpha;void main(){vec4 surfaceColor=texture2D(u_surface,vec2(vTexture.x,1.0-vTexture.y));vec3 color=surfaceColor.rgb*vAlpha;gl_FragColor=vec4(color,1.0);}"}),Ea={},Ia=(function(e){p(n,da);var t=_(n);function n(e,a){var i,r;l(this,n),m(b(r=t.call(this)),"material",null),m(b(r),"lookup",null),m(b(r),"currentSelection",-1),m(b(r),"previousSelection",-1),m(b(r),"inAnimation",null),m(b(r),"outAnimation",null),m(b(r),"selection0",236),m(b(r),"selection1",144),m(b(r),"current",236),m(b(r),"dataTexture",void 0),m(b(r),"dataTextureSize",16),m(b(r),"updateCMDs",[]),m(b(r),"highlightAnimationProps",{start:0,stop:1,duration:1e3,onUpdate:function(e){r.material.uniforms.u_animateIn=e}}),m(b(r),"init",(function(e,t){r.geometry.init(e);var n={surface:{src:r.textureSrc.surface,minMag:e.LINEAR}};r.material.init(e),r.material.uniforms.uModelMatrix=r.modelMatrix,r.material.loadTextures(e,n,(function(){r.material.uniforms.u_surface=r.material.textures.surface,t&&t()}))})),m(b(r),"getValueForId",(function(e){return r.lookup.getFromId(e)})),m(b(r),"getValueForCode",(function(e){return r.lookup.getFromCode(e)})),m(b(r),"getValueForName",(function(e){return r.lookup.getFromName(e)})),m(b(r),"setIdColor",(function(e,t,n){var a=void 0===n?1:n,i=fa.hexToRGBA(t,a,!1);r.updateCMDs.push((function(t){r.dataTexture.updatePixelId(t,i,e)}))})),m(b(r),"createCollisionGeo",(function(){r.collisionGeometry&&r.collisionGeometry instanceof aa||(r.collisionGeometry=na.create_collision_geometry(r.geometry.vertices.position.data,r.geometry.vertices.texcoord.data,r.geometry.vertices.indices.data))})),m(b(r),"rayCastFrom",(function(e){return r.collisionGeometry.raycast(e.origin,e.direction)})),m(b(r),"hitTest",(function(e){return r.collisionGeometry.hitTest(e.origin,e.direction)})),m(b(r),"onSelectionCB",(function(){})),m(b(r),"onSelection",(function(e,t,n){var a=fa.latLonFromWorld(n.point);return r.current=r.lookup.getIdFromLatLon(a.lat,a.lon),r.setHighlightId(r.current),r.onSelectionCB(r.current),{id:r.current,name:r.lookup.getFromId(r.current)}})),m(b(r),"onHover",(function(){})),m(b(r),"update",(function(e,t,a){x((i=b(r),v(n.prototype)),"update",i).call(i,t,a),r.material.uniforms.u_model=r.modelMatrix,r.updateCMDs.forEach((function(t){t(e)})),r.updateCMDs=[]})),m(b(r),"draw",(function(e){r.isReady&&r.shouldDraw&&(e.useProgram(r.material.programInfo.program),sn(e,r.material.programInfo,r.geometry.bufferInfo),on(r.material.programInfo,r.material.uniforms),e.drawArrays(e.TRIANGLES,0,r.geometry.bufferInfo.numElements))})),m(b(r),"setCountryHover",(function(e){})),m(b(r),"setHighlightId",(function(e){r.previousSelection=r.currentSelection,r.currentSelection=e;var t=r.inAnimation?r.inAnimation.currentValue():1,n=300*t;r.animateIn(r.currentSelection,500),r.animateOut(r.previousSelection,n,t)})),m(b(r),"animateIn",(function(e,t){r.material.uniforms.u_idAnimateIn=e,r.inAnimation&&r.inAnimation.stop(),r.material.uniforms.u_animateIn=0,r.inAnimation=new pa(r.highlightAnimationProps.start,r.highlightAnimationProps.stop,r.highlightAnimationProps.duration,{onUpdate:r.highlightAnimationProps.onUpdate,onComplete:function(){t&&t()}})})),m(b(r),"animateOut",(function(e,t,n,a){r.material.uniforms.u_idAnimateOut=e,r.outAnimation&&r.outAnimation.stop(),r.material.uniforms.u_animateOut=n,r.outAnimation=new pa(n,0,t,{onUpdate:function(e){r.material.uniforms.u_animateOut=e},onComplete:function(){a&&a()}})})),m(b(r),"addDataset",(function(e){r.lookup=new ha(e,r.textureSrc.id)})),r.textureSrc={surface:e.surface},r.material=new Rn(Da),r.material.uniforms=Ea,r.geometry=new la;var o=0,s=new Float32Array(a),d=new Int32Array(a),c=s.subarray(o,o+34992);o+=34992;var u=s.subarray(o,o+34992);o+=34992;var h=s.subarray(o,o+34992);o+=34992;var f=d.subarray(o,o+11664);return r.geometry.vertices.position={numComponents:3,data:c},r.geometry.vertices.normal={numComponents:3,data:u},r.geometry.vertices.texcoord={numComponents:3,data:h},r.geometry.vertices.indices={numComponents:3,data:f},r}}(),{vertex:"#define GLSLIFY 1\n      attribute vec4 position;\n      attribute vec2 texcoord;\n      uniform mat4 u_worldViewProjection;\n      uniform mat4 u_viewInverse;\n      uniform mat4 u_model;\n      uniform vec3 u_cameraPos;\n      varying float vAlpha;\n      varying vec2 vTexture;\n      void main(){\n      vTexture=texcoord;\n        gl_Position=position;\n      }",fragment:document.querySelector("script[type=shader-fragment-background]").innerText}),ka={},Ra=function(e){p(n,sa);var t=_(n);function n(e){var a,i;return l(this,n),m(b(i=t.call(this)),"material",null),m(b(i),"init",(function(e,t){i.geometry=new la,i.geometry.vertices.position=[-1,-1,1,-1,1,1,1,1,1,1,-1,1],i.geometry.vertices.texcoord=[0,0,0,1,1,1,1,0],i.geometry.vertices.indices=[0,2,1,0,3,2],i.geometry.init(e);var n={background:{src:i.textureSrc.background,minMag:e.LINEAR}};i.material.init(e),i.material.loadTextures(e,n,(function(){i.material.uniforms.u_background=i.material.textures.background,t&&t()}))})),m(b(i),"createCollisionGeo",(function(){})),m(b(i),"rayCastFrom",(function(){return!1})),m(b(i),"hitTest",(function(){return!1})),m(b(i),"onSelection",(function(){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix})),m(b(i),"draw",(function(e){i.isReady&&(e.disable(e.DEPTH_TEST),e.useProgram(i.material.programInfo.program),sn(e,i.material.programInfo,i.geometry.bufferInfo),on(i.material.programInfo,i.material.uniforms),e.drawElements(e.TRIANGLES,i.geometry.bufferInfo.numElements,e.UNSIGNED_SHORT,0),e.enable(e.DEPTH_TEST))})),i.material=new Rn(Ia),i.material.uniforms=ka,i.textureSrc={background:e},i}return n}(),Fa={vertex:document.querySelector("script[type=shader-vertex-atmosphere]").innerText,fragment:document.querySelector("script[type=shader-fragment-atmosphere]").innerText},Na={u_scale:1},za=function(e){p(n,sa);var t=_(n);function n(e){var a,i;return l(this,n),m(b(i=t.call(this)),"material",null),m(b(i),"useTexture",!1),m(b(i),"nScale",1),m(b(i),"init",(function(e,t){if(i.geometry=new la,i.geometry.vertices.position=[-1,-1,0,-1,1,0,1,1,0,1,-1,0],i.geometry.vertices.texcoord=[0,0,0,1,1,1,1,0],i.geometry.vertices.indices=[0,2,1,0,3,2],i.geometry.init(e),i.material.init(e),i.useTexture){var n={background:{src:i.textureSrc.texture,minMag:e.LINEAR,flipY:!0}};i.material.loadTextures(e,n,(function(){i.material.uniforms.u_background=i.material.textures.background,t&&t()}))}else i.material.texturesLoaded=!0,t&&t()})),m(b(i),"createCollisionGeo",(function(){})),m(b(i),"rayCastFrom",(function(){return!1})),m(b(i),"hitTest",(function(){return!1})),m(b(i),"onSelection",(function(){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix,i.material.uniforms.u_scale=i.nScale})),m(b(i),"draw",(function(e){i.isReady&&(e.disable(e.DEPTH_TEST),e.useProgram(i.material.programInfo.program),sn(e,i.material.programInfo,i.geometry.bufferInfo),on(i.material.programInfo,i.material.uniforms),e.drawElements(e.TRIANGLES,i.geometry.bufferInfo.numElements,e.UNSIGNED_SHORT,0),e.enable(e.DEPTH_TEST))})),e.texture&&(i.useTexture=!0,Fa.fragment=document.querySelector("script[type=shader-fragment-atmosphere-with-texture]").innerText,i.textureSrc={texture:e.texture,bg:e.bg}),i.material=new Rn(Fa),i.material.uniforms=Na,i}return n}(),Wa={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform mat4 u_view;uniform float u_scale;uniform vec3 u_point;uniform vec2 u_resolution;uniform vec3 u_cameraPos;varying float vAlpha;varying vec2 vTexture;void main(){vec4 pos=u_worldViewProjection*vec4(u_point,1.0);float size=u_scale*16.0;pos.y+=(size*4.0/u_resolution.y);gl_PointSize=size;gl_Position=pos;vTexture=texcoord;float d=(1.0+dot(u_point,normalize(u_cameraPos)))/2.0;vAlpha=smoothstep(0.4,0.5,d);}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D u_background;varying float vAlpha;varying vec2 vTexture;void main(){vec4 textureColor=texture2D(u_background,gl_PointCoord);gl_FragColor=vec4(textureColor.rgb,vAlpha*textureColor.a);}"},Ba={u_scale:1,u_point:[0,0,1]},Ua=(function(e){p(n,sa);var t=_(n);function n(e){var a,i;return l(this,n),m(b(i=t.call(this)),"material",null),m(b(i),"useTexture",!1),m(b(i),"nScale",1),m(b(i),"point",[0,0,1]),m(b(i),"init",(function(e,t){i.geometry=new la,i.geometry.vertices.position=[0,0,1],i.geometry.init(e),i.material.init(e);var n={background:{src:i.textureSrc.texture,minMag:e.LINEAR}};i.material.loadTextures(e,n,(function(){i.material.uniforms.u_background=i.material.textures.background,t&&t()}))})),m(b(i),"createCollisionGeo",(function(){})),m(b(i),"rayCastFrom",(function(){return!1})),m(b(i),"hitTest",(function(){return!1})),m(b(i),"onSelection",(function(){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix,i.material.uniforms.u_scale=i.nScale,i.material.uniforms.u_point=i.point})),m(b(i),"draw",(function(e){i.isReady&&(e.disable(e.DEPTH_TEST),e.useProgram(i.material.programInfo.program),sn(e,i.material.programInfo,i.geometry.bufferInfo),on(i.material.programInfo,i.material.uniforms),e.drawArrays(e.POINTS,0,i.geometry.bufferInfo.numElements),e.enable(e.DEPTH_TEST))})),m(b(i),"setPoint",(function(e,t,n){var a=void 0===n?0:n;i.point=fa.worldFromLatLon(e,t,a)})),i.textureSrc={texture:e.texture},i.material=new Rn(Wa),i.material.uniforms=Ba,i}}(),function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var a="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)};!function(){var t=Math.abs,i=Math.min,r=Math.max,o=Math.cos,s=Math.sin,d=Math.acos,l=Math.sqrt,c=Math.PI,u={x:0,y:0,z:0},m=n(2),h=n(3),f=function(e){var n=e&&e.forEach?e:[].slice.call(arguments),i=!1;if("object"===a(n[0])){i=n.length;var r=[];n.forEach((function(e){["x","y","z"].forEach((function(t){void 0!==e[t]&&r.push(e[t])}))})),n=r}var o=!1,s=n.length;if(i){if(i>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==s&&8!==s&&9!==s&&12!==s&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var d=!o&&(9===s||12===s)||e&&e[0]&&void 0!==e[0].z;this._3d=d;for(var l=[],c=0,u=d?3:2;c<s;c+=u){var h={x:n[c],y:n[c+1]};d&&(h.z=n[c+2]),l.push(h)}this.order=l.length-1,this.points=l;var f=["x","y"];d&&f.push("z"),this.dims=f,this.dimlen=f.length,function(e){for(var n=e.order,a=e.points,i=m.align(a,{p1:a[0],p2:a[n]}),r=0;r<i.length;r++)if(t(i[r].y)>1e-4)return void(e._linear=!1);e._linear=!0}(this),this._t1=0,this._t2=1,this.update()},p=n(4);function v(e,t,n,a,i){void 0===i&&(i=.5);var r=m.projectionratio(i,e),o=1-r,s={x:r*t.x+o*a.x,y:r*t.y+o*a.y},d=m.abcratio(i,e);return{A:{x:n.x+(n.x-s.x)/d,y:n.y+(n.y-s.y)/d},B:n,C:s}}f.SVGtoBeziers=function(e){return p(f,e)},f.quadraticFromPoints=function(e,t,n,a){if(void 0===a&&(a=.5),0===a)return new f(t,t,n);if(1===a)return new f(e,t,t);var i=v(2,e,t,n,a);return new f(e,i.A,n)},f.cubicFromPoints=function(e,t,n,a,i){void 0===a&&(a=.5);var r=v(3,e,t,n,a);void 0===i&&(i=m.dist(t,r.C));var o=i*(1-a)/a,s=m.dist(e,n),d=(n.x-e.x)/s,l=(n.y-e.y)/s,c=i*d,u=i*l,h=o*d,p=o*l,g=t.x-c,b=t.y-u,y=t.x+h,_=t.y+p,x=r.A,w=x.x+(g-x.x)/(1-a),T=x.y+(b-x.y)/(1-a),M=x.x+(y-x.x)/a,A=x.y+(_-x.y)/a,C={x:e.x+(w-e.x)/a,y:e.y+(T-e.y)/a},j={x:n.x+(M-n.x)/(1-a),y:n.y+(A-n.y)/(1-a)};return new f(e,C,j,n)};var g=function(){return m};f.getUtils=g,f.PolyBezier=h,f.prototype={getUtils:g,valueOf:function(){return this.toString()},toString:function(){return m.pointsToString(this.points)},toSVG:function(e){if(this._3d)return!1;for(var t=this.points,n=["M",t[0].x,t[0].y,2===this.order?"Q":"C"],a=1,i=t.length;a<i;a++)n.push(t[a].x),n.push(t[a].y);return n.join(" ")},setRatios:function(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]},verify:function(){var e=this.coordDigest();e!==this._print&&(this._print=e,this.update())},coordDigest:function(){return this.points.map((function(e,t){return""+t+e.x+e.y+(e.z?e.z:0)})).join("")},update:function(e){this._lut=[],this.dpoints=m.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var e=this.points,t=m.angle(e[0],e[this.order],e[1]);this.clockwise=t>0},length:function(){return m.length(this.derivative.bind(this))},_lut:[],getLUT:function(e){if(this.verify(),e=e||100,this._lut.length===e)return this._lut;this._lut=[],e--;for(var t=0;t<=e;t++)this._lut.push(this.compute(t/e));return this._lut},on:function(e,t){t=t||5;for(var n,a=this.getLUT(),i=[],r=0,o=0;o<a.length;o++)n=a[o],m.dist(n,e)<t&&(i.push(n),r+=o/a.length);return!!i.length&&r/i.length},project:function(e){var t,n,a,i,r=this.getLUT(),o=r.length-1,s=m.closest(r,e),d=s.mdist,l=s.mpos,c=(l+1)/o,u=.1/o;for(d+=1,t=n=(l-1)/o;n<c+u;n+=u)a=this.compute(n),(i=m.dist(e,a))<d&&(d=i,t=n);return(a=this.compute(t)).t=t,a.d=d,a},get:function(e){return this.compute(e)},point:function(e){return this.points[e]},compute:function(e){return this.ratios?m.computeWithRatios(e,this.points,this.ratios,this._3d):m.compute(e,this.points,this._3d,this.ratios)},raise:function(){for(var e,t,n=this.points,a=[n[0]],i=n.length,r=1;r<i;r++)e=n[r],t=n[r-1],a[r]={x:(i-r)/i*e.x+r/i*t.x,y:(i-r)/i*e.y+r/i*t.y};return a[i]=n[i-1],new f(a)},derivative:function(e){var t,n,a=1-e,i=0,r=this.dpoints[0];2===this.order&&(r=[r[0],r[1],u],t=a,n=e),3===this.order&&(t=a*a,n=a*e*2,i=e*e);var o={x:t*r[0].x+n*r[1].x+i*r[2].x,y:t*r[0].y+n*r[1].y+i*r[2].y};return this._3d&&(o.z=t*r[0].z+n*r[1].z+i*r[2].z),o},curvature:function(e){return m.curvature(e,this.points,this._3d)},inflections:function(){return m.inflections(this.points)},normal:function(e){return this._3d?this.__normal3(e):this.__normal2(e)},__normal2:function(e){var t=this.derivative(e),n=l(t.x*t.x+t.y*t.y);return{x:-t.y/n,y:t.x/n}},__normal3:function(e){var t=this.derivative(e),n=this.derivative(e+.01),a=l(t.x*t.x+t.y*t.y+t.z*t.z),i=l(n.x*n.x+n.y*n.y+n.z*n.z);t.x/=a,t.y/=a,t.z/=a,n.x/=i,n.y/=i,n.z/=i;var r={x:n.y*t.z-n.z*t.y,y:n.z*t.x-n.x*t.z,z:n.x*t.y-n.y*t.x},o=l(r.x*r.x+r.y*r.y+r.z*r.z);r.x/=o,r.y/=o,r.z/=o;var s=[r.x*r.x,r.x*r.y-r.z,r.x*r.z+r.y,r.x*r.y+r.z,r.y*r.y,r.y*r.z-r.x,r.x*r.z-r.y,r.y*r.z+r.x,r.z*r.z];return{x:s[0]*t.x+s[1]*t.y+s[2]*t.z,y:s[3]*t.x+s[4]*t.y+s[5]*t.z,z:s[6]*t.x+s[7]*t.y+s[8]*t.z}},hull:function(e){var t,n=this.points,a=[],i=[],r=0,o=0,s=0;for(i[r++]=n[0],i[r++]=n[1],i[r++]=n[2],3===this.order&&(i[r++]=n[3]);n.length>1;){for(a=[],o=0,s=n.length-1;o<s;o++)t=m.lerp(e,n[o],n[o+1]),i[r++]=t,a.push(t);n=a}return i},split:function(e,t){if(0===e&&t)return this.split(t).left;if(1===t)return this.split(e).right;var n=this.hull(e),a={left:2===this.order?new f([n[0],n[3],n[5]]):new f([n[0],n[4],n[7],n[9]]),right:2===this.order?new f([n[5],n[4],n[2]]):new f([n[9],n[8],n[6],n[3]]),span:n};return a.left._t1=m.map(0,0,1,this._t1,this._t2),a.left._t2=m.map(e,0,1,this._t1,this._t2),a.right._t1=m.map(e,0,1,this._t1,this._t2),a.right._t2=m.map(1,0,1,this._t1,this._t2),t?(t=m.map(t,e,1,0,1),a.right.split(t).left):a},extrema:function(){var e,t,n=this.dims,a={},i=[];return n.forEach(function(n){t=function(e){return e[n]},e=this.dpoints[0].map(t),a[n]=m.droots(e),3===this.order&&(e=this.dpoints[1].map(t),a[n]=a[n].concat(m.droots(e))),a[n]=a[n].filter((function(e){return e>=0&&e<=1})),i=i.concat(a[n].sort(m.numberSort))}.bind(this)),i=i.sort(m.numberSort).filter((function(e,t){return i.indexOf(e)===t})),a.values=i,a},bbox:function(){var e=this.extrema(),t={};return this.dims.forEach(function(n){t[n]=m.getminmax(this,n,e[n])}.bind(this)),t},overlaps:function(e){var t=this.bbox(),n=e.bbox();return m.bboxoverlap(t,n)},offset:function(e,t){if(void 0!==t){var n=this.get(e),a=this.normal(e),i={c:n,n:a,x:n.x+a.x*t,y:n.y+a.y*t};return this._3d&&(i.z=n.z+a.z*t),i}if(this._linear){var r=this.normal(0),o=this.points.map((function(t){var n={x:t.x+e*r.x,y:t.y+e*r.y};return t.z&&a.z&&(n.z=t.z+e*r.z),n}));return[new f(o)]}return this.reduce().map((function(t){return t._linear?t.offset(e)[0]:t.scale(e)}))},simple:function(){if(3===this.order){var e=m.angle(this.points[0],this.points[3],this.points[1]),n=m.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&n<0||e<0&&n>0)return!1}var a=this.normal(0),i=this.normal(1),r=a.x*i.x+a.y*i.y;return this._3d&&(r+=a.z*i.z),t(d(r))<c/3},reduce:function(){var e,n,a=0,i=0,r=[],o=[],s=this.extrema().values;for(-1===s.indexOf(0)&&(s=[0].concat(s)),-1===s.indexOf(1)&&s.push(1),a=s[0],e=1;e<s.length;e++)i=s[e],(n=this.split(a,i))._t1=a,n._t2=i,r.push(n),a=i;return r.forEach((function(e){for(a=0,i=0;i<=1;)for(i=a+.01;i<=1.01;i+=.01)if(!(n=e.split(a,i)).simple()){if(t(a-(i-=.01))<.01)return[];(n=e.split(a,i))._t1=m.map(a,0,1,e._t1,e._t2),n._t2=m.map(i,0,1,e._t1,e._t2),o.push(n),a=i;break}a<1&&((n=e.split(a,1))._t1=m.map(a,0,1,e._t1,e._t2),n._t2=e._t2,o.push(n))})),o},scale:function(e){var t=this.order,n=!1;if("function"==typeof e&&(n=e),n&&2===t)return this.raise().scale(n);var a=this.clockwise,i=n?n(0):e,r=n?n(1):e,o=[this.offset(0,10),this.offset(1,10)],s=m.lli4(o[0],o[0].c,o[1],o[1].c);if(!s)throw new Error("cannot scale this curve. Try reducing it first.");var d=this.points,c=[];return[0,1].forEach(function(e){var n=c[e*t]=m.copy(d[e*t]);n.x+=(e?r:i)*o[e].n.x,n.y+=(e?r:i)*o[e].n.y}.bind(this)),n?([0,1].forEach(function(i){if(2!==this.order||!i){var r=d[i+1],o={x:r.x-s.x,y:r.y-s.y},u=n?n((i+1)/t):e;n&&!a&&(u=-u);var m=l(o.x*o.x+o.y*o.y);o.x/=m,o.y/=m,c[i+1]={x:r.x+u*o.x,y:r.y+u*o.y}}}.bind(this)),new f(c)):([0,1].forEach(function(e){if(2!==this.order||!e){var n=c[e*t],a=this.derivative(e),i={x:n.x+a.x,y:n.y+a.y};c[e+1]=m.lli4(n,i,s,d[e+1])}}.bind(this)),new f(c))},outline:function(e,t,n,a){t=void 0===t?e:t;var i,r=this.reduce(),o=r.length,s=[],d=[],l=0,c=this.length(),u=void 0!==n&&void 0!==a;function f(e,t,n,a,i){return function(r){var o=a/n,s=(a+i)/n,d=t-e;return m.map(r,0,1,e+o*d,e+s*d)}}r.forEach((function(i){w=i.length(),u?(s.push(i.scale(f(e,n,c,l,w))),d.push(i.scale(f(-t,-a,c,l,w)))):(s.push(i.scale(e)),d.push(i.scale(-t))),l+=w})),d=d.map((function(e){return(i=e.points)[3]?e.points=[i[3],i[2],i[1],i[0]]:e.points=[i[2],i[1],i[0]],e})).reverse();var p=s[0].points[0],v=s[o-1].points[s[o-1].points.length-1],g=d[o-1].points[d[o-1].points.length-1],b=d[0].points[0],y=m.makeline(g,p),_=m.makeline(v,b),x=[y].concat(s).concat([_]).concat(d),w=x.length;return new h(x)},outlineshapes:function(e,t,n){t=t||e;for(var a=this.outline(e,t).curves,i=[],r=1,o=a.length;r<o/2;r++){var s=m.makeshape(a[r],a[o-r],n);s.startcap.virtual=r>1,s.endcap.virtual=r<o/2-1,i.push(s)}return i},intersects:function(e,t){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof f&&(e=e.reduce()),this.curveintersects(this.reduce(),e,t)):this.selfintersects(t)},lineIntersects:function(e){var t=i(e.p1.x,e.p2.x),n=i(e.p1.y,e.p2.y),a=r(e.p1.x,e.p2.x),o=r(e.p1.y,e.p2.y),s=this;return m.roots(this.points,e).filter((function(e){var i=s.get(e);return m.between(i.x,t,a)&&m.between(i.y,n,o)}))},selfintersects:function(e){var t,n,a,i,r=this.reduce(),o=r.length-2,s=[];for(t=0;t<o;t++)a=r.slice(t,t+1),i=r.slice(t+2),n=this.curveintersects(a,i,e),s=s.concat(n);return s},curveintersects:function(e,t,n){var a=[];e.forEach((function(e){t.forEach((function(t){e.overlaps(t)&&a.push({left:e,right:t})}))}));var i=[];return a.forEach((function(e){var t=m.pairiteration(e.left,e.right,n);t.length>0&&(i=i.concat(t))})),i},arcs:function(e){return e=e||.5,this._iterate(e,[])},_error:function(e,n,a,i){var r=(i-a)/4,o=this.get(a+r),s=this.get(i-r),d=m.dist(e,n),l=m.dist(e,o),c=m.dist(e,s);return t(l-d)+t(c-d)},_iterate:function(e,t){var n,a=0,i=1;do{n=0,i=1;var r,d,l,c,u,h=this.get(a),f=!1,p=!1,v=i,g=1;do{if(p=f,c=l,v=(a+i)/2,r=this.get(v),d=this.get(i),(l=m.getccenter(h,r,d)).interval={start:a,end:i},f=this._error(l,h,a,i)<=e,(u=p&&!f)||(g=i),f){if(i>=1){if(l.interval.end=g=1,c=l,i>1){var b={x:l.x+l.r*o(l.e),y:l.y+l.r*s(l.e)};l.e+=m.angle({x:l.x,y:l.y},b,this.get(1))}break}i+=(i-a)/2}else i=v}while(!u&&n++<100);if(n>=100)break;c=c||l,t.push(c),a=g}while(i<1);return t}},e.exports=f}()},function(e,t,n){var a,i,r,o,s,d,l,c,u,m,h,f,p,v,g;a=Math.abs,i=Math.cos,r=Math.sin,o=Math.acos,s=Math.atan2,d=Math.sqrt,l=Math.pow,c=function(e){return e<0?-l(-e,1/3):l(e,1/3)},u=Math.PI,m=2*u,h=u/2,f=Number.MAX_SAFE_INTEGER||9007199254740991,p=Number.MIN_SAFE_INTEGER||-9007199254740991,v={x:0,y:0,z:0},g={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var n=t(e),a=n.x*n.x+n.y*n.y;return void 0!==n.z&&(a+=n.z*n.z),d(a)},compute:function(e,t,n){if(0===e)return t[0];var a=t.length-1;if(1===e)return t[a];var i=t,r=1-e;if(0===a)return t[0];if(1===a)return m={x:r*i[0].x+e*i[1].x,y:r*i[0].y+e*i[1].y},n&&(m.z=r*i[0].z+e*i[1].z),m;if(a<4){var o,s,d,l=r*r,c=e*e,u=0;2===a?(i=[i[0],i[1],i[2],v],o=l,s=r*e*2,d=c):3===a&&(o=l*r,s=l*e*3,d=r*c*3,u=e*c);var m={x:o*i[0].x+s*i[1].x+d*i[2].x+u*i[3].x,y:o*i[0].y+s*i[1].y+d*i[2].y+u*i[3].y};return n&&(m.z=o*i[0].z+s*i[1].z+d*i[2].z+u*i[3].z),m}for(var h=JSON.parse(JSON.stringify(t));h.length>1;){for(var f=0;f<h.length-1;f++)h[f]={x:h[f].x+(h[f+1].x-h[f].x)*e,y:h[f].y+(h[f+1].y-h[f].y)*e},void 0!==h[f].z&&(h[f]=h[f].z+(h[f+1].z-h[f].z)*e);h.splice(h.length-1,1)}return h[0]},computeWithRatios:function(e,t,n,a){var i,r=1-e,o=n,s=t,d=o[0],l=o[1],c=o[2],u=o[3];return d*=r,l*=e,2===s.length?(i=d+l,{x:(d*s[0].x+l*s[1].x)/i,y:(d*s[0].y+l*s[1].y)/i,z:!!a&&(d*s[0].z+l*s[1].z)/i}):(d*=r,l*=2*r,c*=e*e,3===s.length?(i=d+l+c,{x:(d*s[0].x+l*s[1].x+c*s[2].x)/i,y:(d*s[0].y+l*s[1].y+c*s[2].y)/i,z:!!a&&(d*s[0].z+l*s[1].z+c*s[2].z)/i}):(d*=r,l*=1.5*r,c*=3*r,u*=e*e*e,4===s.length?(i=d+l+c+u,{x:(d*s[0].x+l*s[1].x+c*s[2].x+u*s[3].x)/i,y:(d*s[0].y+l*s[1].y+c*s[2].y+u*s[3].y)/i,z:!!a&&(d*s[0].z+l*s[1].z+c*s[2].z+u*s[3].z)/i}):void 0))},derive:function(e,t){for(var n=[],a=e,i=a.length,r=i-1;i>1;i--,r--){for(var o,s=[],d=0;d<r;d++)o={x:r*(a[d+1].x-a[d].x),y:r*(a[d+1].y-a[d].y)},t&&(o.z=r*(a[d+1].z-a[d].z)),s.push(o);n.push(s),a=s}return n},between:function(e,t,n){return t<=e&&e<=n||g.approximately(e,t)||g.approximately(e,n)},approximately:function(e,t,n){return a(e-t)<=(n||1e-6)},length:function(e){var t,n,a=0,i=g.Tvalues.length;for(t=0;t<i;t++)n=.5*g.Tvalues[t]+.5,a+=g.Cvalues[t]*g.arcfn(n,e);return.5*a},map:function(e,t,n,a,i){return a+(e-t)/(n-t)*(i-a)},lerp:function(e,t,n){var a={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return t.z&&n.z&&(a.z=t.z+e*(n.z-t.z)),a},pointToString:function(e){var t=e.x+"/"+e.y;return void 0!==e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(g.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){var a=t.x-e.x,i=t.y-e.y,r=n.x-e.x,o=n.y-e.y;return s(a*o-i*r,a*r+i*o)},round:function(e,t){var n=""+e,a=n.indexOf(".");return parseFloat(n.substring(0,a+1+t))},dist:function(e,t){var n=e.x-t.x,a=e.y-t.y;return d(n*n+a*a)},closest:function(e,t){var n,a,i=l(2,63);return e.forEach((function(e,r){(a=g.dist(t,e))<i&&(i=a,n=r)})),{mdist:i,mpos:n}},abcratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var n=l(e,t)+l(1-e,t);return a((n-1)/n)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var n=l(1-e,t);return n/(l(e,t)+n)},lli8:function(e,t,n,a,i,r,o,s){var d=(e-n)*(r-s)-(t-a)*(i-o);return 0!=d&&{x:((e*a-t*n)*(i-o)-(e-n)*(i*s-r*o))/d,y:((e*a-t*n)*(r-s)-(t-a)*(i*s-r*o))/d}},lli4:function(e,t,n,a){var i=e.x,r=e.y,o=t.x,s=t.y,d=n.x,l=n.y,c=a.x,u=a.y;return g.lli8(i,r,o,s,d,l,c,u)},lli:function(e,t){return g.lli4(e,e.c,t,t.c)},makeline:function(e,t){var a=n(1),i=e.x,r=e.y,o=t.x,s=t.y,d=(o-i)/3,l=(s-r)/3;return new a(i,r,i+d,r+l,i+2*d,r+2*l,o,s)},findbbox:function(e){var t=f,n=f,a=p,i=p;return e.forEach((function(e){var r=e.bbox();t>r.x.min&&(t=r.x.min),n>r.y.min&&(n=r.y.min),a<r.x.max&&(a=r.x.max),i<r.y.max&&(i=r.y.max)})),{x:{min:t,mid:(t+a)/2,max:a,size:a-t},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,t,n,a,i){if(!g.bboxoverlap(t,a))return[];var r=[],o=[e.startcap,e.forward,e.back,e.endcap],s=[n.startcap,n.forward,n.back,n.endcap];return o.forEach((function(t){t.virtual||s.forEach((function(a){if(!a.virtual){var o=t.intersects(a,i);o.length>0&&(o.c1=t,o.c2=a,o.s1=e,o.s2=n,r.push(o))}}))})),r},makeshape:function(e,t,n){var a=t.points.length,i=e.points.length,r=g.makeline(t.points[a-1],e.points[0]),o=g.makeline(e.points[i-1],t.points[0]),s={startcap:r,forward:e,back:t,endcap:o,bbox:g.findbbox([r,e,t,o])},d=g;return s.intersections=function(e){return d.shapeintersections(s,s.bbox,e,e.bbox,n)},s},getminmax:function(e,t,n){if(!n)return{min:0,max:0};var a,i,r=f,o=p;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(var s=0,d=n.length;s<d;s++)a=n[s],(i=e.get(a))[t]<r&&(r=i[t]),i[t]>o&&(o=i[t]);return{min:r,mid:(r+o)/2,max:o,size:o-r}},align:function(e,t){var n=t.p1.x,a=t.p1.y,o=-s(t.p2.y-a,t.p2.x-n);return e.map((function(e){return{x:(e.x-n)*i(o)-(e.y-a)*r(o),y:(e.x-n)*r(o)+(e.y-a)*i(o)}}))},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};var n=e.length-1,a=g.align(e,t),r=function(e){return 0<=e&&e<=1};if(2===n){if(0!==(p=(v=a[0].y)-2*(b=a[1].y)+(y=a[2].y))){var s=-d(b*b-v*y),l=-v+b;return[-(s+l)/p,-(-s+l)/p].filter(r)}return b!==y&&0===p?[(2*b-y)/(2*b-2*y)].filter(r):[]}var u=a[0].y,h=a[1].y,f=a[2].y,p=3*h-u-3*f+a[3].y,v=3*u-6*h+3*f,b=-3*u+3*h,y=u;if(g.approximately(p,0)){if(g.approximately(v,0))return g.approximately(b,0)?[]:[-y/b].filter(r);var _=2*v;return[((x=d(b*b-4*v*y))-b)/_,(-b-x)/_].filter(r)}var x,w,T=(a=(3*(b/=p)-(v/=p)*v)/3)/3,M=(x=(2*v*v*v-9*v*b+27*(y/=p))/27)/2,A=M*M+T*T*T;if(A<0){var C=-a/3,j=d(C*C*C),O=-x/(2*j),S=o(O<-1?-1:O>1?1:O),P=2*c(j);return[P*i(S/3)-v/3,P*i((S+m)/3)-v/3,P*i((S+2*m)/3)-v/3].filter(r)}if(0===A)return[2*(w=M<0?c(-M):-c(M))-v/3,-w-v/3].filter(r);var L=d(A);return[(w=c(-M+L))-c(M+L)-v/3].filter(r)},droots:function(e){if(3===e.length){var t=e[0],n=e[1],a=e[2],i=t-2*n+a;if(0!==i){var r=-d(n*n-t*a),o=-t+n;return[-(r+o)/i,-(-r+o)/i]}return n!==a&&0===i?[(2*n-a)/(2*(n-a))]:[]}if(2===e.length)return(t=e[0])!==(n=e[1])?[t/(t-n)]:[]},curvature:function(e,t,n,i){var r,o,s,c,u,m,h=g.derive(t),f=h[0],p=h[1],v=g.compute(e,f),b=g.compute(e,p),y=v.x*v.x+v.y*v.y;if(n?(r=d(l(v.y*b.z-b.y*v.z,2)+l(v.z*b.x-b.z*v.x,2)+l(v.x*b.y-b.x*v.y,2)),o=l(y+v.z*v.z,1.5)):(r=v.x*b.y-v.y*b.x,o=l(y,1.5)),0===r||0===o)return{k:0,r:0};if(u=r/o,m=o/r,!i){var _=g.curvature(e-.001,t,n,!0).k,x=g.curvature(e+.001,t,n,!0).k;c=(x-u+(u-_))/2,s=(a(x-u)+a(u-_))/2}return{k:u,r:m,dk:c,adk:s}},inflections:function(e){if(e.length<4)return[];var t=g.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=t[2].x*t[1].y,a=t[3].x*t[1].y,i=t[1].x*t[2].y,r=18*(-3*n+2*a+3*i-t[3].x*t[2].y),o=18*(3*n-a-3*i),s=18*(i-n);if(g.approximately(r,0)){if(!g.approximately(o,0)){var d=-s/o;if(0<=d&&d<=1)return[d]}return[]}var l=o*o-4*r*s,c=Math.sqrt(l),u=2*r;return g.approximately(u,0)?[]:[(c-o)/u,-(o+c)/u].filter((function(e){return 0<=e&&e<=1}))},bboxoverlap:function(e,t){var n,i,r,o,s,d=["x","y"],l=d.length;for(n=0;n<l;n++)if(r=e[i=d[n]].mid,o=t[i].mid,s=(e[i].size+t[i].size)/2,a(r-o)>=s)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,n){var a=e.bbox(),i=t.bbox(),r=1e5,o=n||.5;if(a.x.size+a.y.size<o&&i.x.size+i.y.size<o)return[(r*(e._t1+e._t2)/2|0)/r+"/"+(r*(t._t1+t._t2)/2|0)/r];var s=e.split(.5),d=t.split(.5),l=[{left:s.left,right:d.left},{left:s.left,right:d.right},{left:s.right,right:d.right},{left:s.right,right:d.left}];l=l.filter((function(e){return g.bboxoverlap(e.left.bbox(),e.right.bbox())}));var c=[];return 0===l.length?c:(l.forEach((function(e){c=c.concat(g.pairiteration(e.left,e.right,o))})),c=c.filter((function(e,t){return c.indexOf(e)===t})))},getccenter:function(e,t,n){var a,o=t.x-e.x,d=t.y-e.y,l=n.x-t.x,c=n.y-t.y,u=o*i(h)-d*r(h),f=o*r(h)+d*i(h),p=l*i(h)-c*r(h),v=l*r(h)+c*i(h),b=(e.x+t.x)/2,y=(e.y+t.y)/2,_=(t.x+n.x)/2,x=(t.y+n.y)/2,w=b+u,T=y+f,M=_+p,A=x+v,C=g.lli8(b,y,w,T,_,x,M,A),j=g.dist(C,e),O=s(e.y-C.y,e.x-C.x),S=s(t.y-C.y,t.x-C.x),P=s(n.y-C.y,n.x-C.x);return O<P?((O>S||S>P)&&(O+=m),O>P&&(a=P,P=O,O=a)):P<S&&S<O?(a=P,P=O,O=a):P+=m,C.s=O,C.e=P,C.r=j,C},numberSort:function(e,t){return e-t}},e.exports=g},function(e,t,n){var a,i;a=n(2),(i=function(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}).prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map((function(e){return a.pointsToString(e.points)})).join(", ")+"]"},addCurve:function(e){this.curves.push(e),this._3d=this._3d||e._3d},length:function(){return this.curves.map((function(e){return e.length()})).reduce((function(e,t){return e+t}))},curve:function(e){return this.curves[e]},bbox:function(){for(var e=this.curves,t=e[0].bbox(),n=1;n<e.length;n++)a.expandbox(t,e[n].bbox());return t},offset:function(e){var t=[];return this.curves.forEach((function(n){t=t.concat(n.offset(e))})),new i(t)}},e.exports=i},function(e,t,n){var a=n(5),i={x:!1,y:!1};function r(e,t,n){if("Z"!==t){if("M"!==t){var a=[!1,i.x,i.y].concat(n),r=new(e.bind.apply(e,a)),o=n.slice(-2);return i={x:o[0],y:o[1]},r}i={x:n[0],y:n[1]}}}e.exports=function(e,t){for(var n,i,o=a(t).split(" "),s=new RegExp("[MLCQZ]",""),d=[],l={C:6,Q:4,L:2,M:2};o.length;)n=o.splice(0,1)[0],s.test(n)&&(i=r(e,n,o.splice(0,l[n]).map(parseFloat)))&&d.push(i);return new e.PolyBezier(d)}},function(e,t){e.exports=function(e){var t,n,a,i,r,o,s=(e=e.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),d=s.length,l=[],c=0,u=0,m=0,h=0,f=0,p=0,v=0,g=0,b="";for(t=1;t<d;t++)if(i=(a=(n=s[t]).substring(0,1)).toLowerCase(),r=(l=(l=n.replace(a,"").trim().split(" ")).filter((function(e){return""!==e})).map(parseFloat)).length,"m"===i){if(b+="M ","m"===a?(m+=l[0],h+=l[1]):(m=l[0],h=l[1]),c=m,u=h,b+=m+" "+h+" ",r>2)for(o=0;o<r;o+=2)"m"===a?(m+=l[o],h+=l[o+1]):(m=l[o],h=l[o+1]),b+=["L",m,h,""].join(" ")}else if("l"===i)for(o=0;o<r;o+=2)"l"===a?(m+=l[o],h+=l[o+1]):(m=l[o],h=l[o+1]),b+=["L",m,h,""].join(" ");else if("h"===i)for(o=0;o<r;o++)"h"===a?m+=l[o]:m=l[o],b+=["L",m,h,""].join(" ");else if("v"===i)for(o=0;o<r;o++)"v"===a?h+=l[o]:h=l[o],b+=["L",m,h,""].join(" ");else if("q"===i)for(o=0;o<r;o+=4)"q"===a?(f=m+l[o],p=h+l[o+1],m+=l[o+2],h+=l[o+3]):(f=l[o],p=l[o+1],m=l[o+2],h=l[o+3]),b+=["Q",f,p,m,h,""].join(" ");else if("t"===i)for(o=0;o<r;o+=2)f=m+(m-f),p=h+(h-p),"t"===a?(m+=l[o],h+=l[o+1]):(m=l[o],h=l[o+1]),b+=["Q",f,p,m,h,""].join(" ");else if("c"===i)for(o=0;o<r;o+=6)"c"===a?(f=m+l[o],p=h+l[o+1],v=m+l[o+2],g=h+l[o+3],m+=l[o+4],h+=l[o+5]):(f=l[o],p=l[o+1],v=l[o+2],g=l[o+3],m=l[o+4],h=l[o+5]),b+=["C",f,p,v,g,m,h,""].join(" ");else if("s"===i)for(o=0;o<r;o+=4)f=m+(m-v),p=h+(h-g),"s"===a?(v=m+l[o],g=h+l[o+1],m+=l[o+2],h+=l[o+3]):(v=l[o],g=l[o+1],m=l[o+2],h=l[o+3]),b+=["C",f,p,v,g,m,h,""].join(" ");else"z"===i&&(b+="Z ",m=c,h=u);return b.trim()}}])),Ya="#define GLSLIFY 1\nattribute vec4 position;attribute vec2 texcoord;attribute vec3 pointA;attribute vec3 pointB;attribute vec3 startColor;attribute vec3 endColor;attribute vec2 width;attribute float inst;attribute float shouldDraw;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;uniform vec2 u_resolution;uniform float u_segments;varying vec3 v_color;varying float v_alpha;varying float v_draw;float when_lt(float x,float y){return max(sign(y-x),0.0);}void main(){float rel_inst=inst+position.z;float width=mix(width.x,width.y,rel_inst);vec4 clip0=u_worldViewProjection*u_model*vec4(pointA,1.0);vec4 clip1=u_worldViewProjection*u_model*vec4(pointB,1.0);vec2 screen0=u_resolution*(0.5*clip0.xy/clip0.w+0.5);vec2 screen1=u_resolution*(0.5*clip1.xy/clip1.w+0.5);vec2 xBasis=normalize(screen1-screen0);vec2 yBasis=vec2(-xBasis.y,xBasis.x);vec2 pt0=screen0+width*(position.x*xBasis+position.y*yBasis);vec2 pt1=screen1+width*(position.x*xBasis+position.y*yBasis);vec2 pt=mix(pt0,pt1,position.z);vec4 clip=mix(clip0,clip1,position.z);gl_Position=vec4(clip.w*(2.0*pt/u_resolution-1.0),clip.z,clip.w)*when_lt(inst,u_segments);gl_PointSize=16.0;v_alpha=rel_inst/u_segments;v_color=mix(startColor,endColor,rel_inst/u_segments);v_draw=shouldDraw;}",Ga="precision mediump float;\n#define GLSLIFY 1\nuniform float u_time;varying vec3 v_color;varying float v_alpha;varying float v_draw;void main(){if(v_alpha>v_draw){discard;}gl_FragColor=vec4(v_color,1.0);}",Ha=(function(e){p(n,Sa);var t=_(n);function n(e){var a,i;l(this,n),m(b(i=t.call(this,e)),"numInstances",1e4),m(b(i),"init",(function(e){i.geometry.init(e),i._hasGeometry=!0,i.material.init(e),i.material.texturesLoaded=!0,i.vertexArrayInfo=dn(e,i.material.programInfo,i.geometry.bufferInfo)})),m(b(i),"createCollisionGeo",(function(){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix})),m(b(i),"draw",(function(e){i.isReady&&(e.useProgram(i.material.programInfo.program),sn(e,i.material.programInfo,i.vertexArrayInfo),on(i.material.programInfo,i.material.uniforms),e.drawElementsInstanced(e.TRIANGLE_FAN,i.vertexArrayInfo.numElements,e.UNSIGNED_SHORT,0,3*i.segments-1),e.bindVertexArray(null))})),m(b(i),"rayCastFrom",(function(){return!1})),m(b(i),"hitTest",(function(){return!1})),m(b(i),"onSelectionCB",(function(e){return e})),m(b(i),"onSelection",(function(e,t){var n=i.getNearest(e,t);return i.onSelectionCB(n)})),e&&void 0!==e.numInstances&&(i.numInstances=e.numInstances);var r={vertex:Ya,fragment:Ga};i.material=new Rn(r),i.material.uniforms={},i.geometry=new la;var o=[0,-.5,0,0,-.5,1,0,.5,1,0,-.5,0,0,.5,1,0,.5,0],s=Array.from(Array(101).keys());s.forEach((function(e){s.push(e)})),s.forEach((function(e){s.push(e)}));for(var d=Array.from(Array(3).keys()),c=0;c<15;c+=1){var u=Math.PI/2+(c+0)*Math.PI/15,h=Math.PI/2+(c+1)*Math.PI/15;o.push.apply(o,[0,0,0]),o.push.apply(o,[.5*Math.cos(u),.5*Math.sin(u),0]),o.push.apply(o,[.5*Math.cos(h),.5*Math.sin(h),0])}for(var f=0;f<15;f+=1){var p=3*Math.PI/2+(f+0)*Math.PI/15,g=3*Math.PI/2+(f+1)*Math.PI/15;o.push.apply(o,[0,0,1]),o.push.apply(o,[.5*Math.cos(p),.5*Math.sin(p),1]),o.push.apply(o,[.5*Math.cos(g),.5*Math.sin(g),1])}var y=[].concat(T(fa.worldFromLatLon(41,-111,.001)),T(fa.worldFromLatLon(20,-50,1)),T(fa.worldFromLatLon(0,0,.001)));i.segments=100;var _=new Ua(y).getLUT(i.segments+1),w=[];return _.forEach((function(e){w.push.apply(w,T(Object.values(e)))})),new Ua([-1,0,0,-2,0,-2,0,0,-1]).getLUT(i.segments+1).forEach((function(e){w.push.apply(w,T(Object.values(e)))})),new Ua([-1,1,-1,-2,0,-2,0,-1,-1]).getLUT(i.segments+1).forEach((function(e){w.push.apply(w,T(Object.values(e)))})),i.geometry.vertices.position={numComponents:3,data:o,divisor:0},i.geometry.vertices.pointA={numComponents:3,data:w,divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT},i.geometry.vertices.pointB={numComponents:3,data:w,divisor:1,offset:3*Float32Array.BYTES_PER_ELEMENT},i.geometry.vertices.inst={numComponents:1,data:s,divisor:1},i.geometry.vertices.arc={numComponents:1,data:d,divisor:101},i.geometry.vertices.indices={numComponents:1,data:Array.from(Array(96).keys()),divisor:0},i}}(),function(e){p(n,Sa);var t=_(n);function n(e){var a,i;l(this,n),m(b(i=t.call(this,e)),"numInstances",1e4),m(b(i),"segments",30),m(b(i),"capResolution",6),m(b(i),"_arcCount",0),m(b(i),"_tweens",[]),m(b(i),"init",(function(e){i.geometry.init(e),i._hasGeometry=!0,i.material.init(e),i.material.texturesLoaded=!0,i.vertexArrayInfo=dn(e,i.material.programInfo,i.geometry.bufferInfo)})),m(b(i),"createRandomArcs",(function(e){for(var t=0;t<e;t+=1){var n={from:[180*Math.random()-90,360*Math.random()-180],to:[180*Math.random()-90,360*Math.random()-180]};i.addArc(n)}})),m(b(i),"addArc",(function(e,t,n){var a=[],r={from:e.from,to:e.to,normalFactor:1,alt:.5,startColor:"#ff0000",endColor:"#00ff00",startWidth:4,endWidth:4,shouldDraw:1,arcNumber:i._arcCount};void 0!==i.transform&&(r=i.transform(e,r)),a.push.apply(a,T(i._createArcFrom(r)));var o=Array.from(Array(1).keys()),s=i._createInstArray(1),d=fa.hexToRGB(r.startColor),l=fa.hexToRGB(r.endColor),c=[r.startWidth,r.endWidth];if(void 0!==t){r.shouldDraw=0;var u=i._arcCount,m=new pa(0,1,t,{onUpdate:function(e){i.geometry.updateGeometry({shouldDraw:{data:[e]}},u)},onComplete:function(){n&&n()}});i._tweens.push(m)}var h=[r.shouldDraw],f={pointA:{data:new Float32Array(a)},pointB:{data:a},inst:{data:s},arc:{data:o},startColor:{data:d},endColor:{data:l},width:{data:c},shouldDraw:{data:h}};i.geometry.updateGeometry(f,i._arcCount),i._arcCount+=1})),m(b(i),"updateArc",(function(e,t){var n=[],a={from:e.from,to:e.to,normalFactor:1,alt:.5,startColor:"#ff0000",endColor:"#00ff00",startWidth:4,endWidth:4,shouldDraw:1,arcNumber:i._arcCount};a=i.transform(e,a),n.push.apply(n,T(i._createArcFrom(a)));var r=Array.from(Array(1).keys()),o=i._createInstArray(1),s=fa.hexToRGB(a.startColor),d=fa.hexToRGB(a.endColor),l=[a.startWidth,a.endWidth],c=[a.shouldDraw],u={pointA:{data:new Float32Array(n)},pointB:{data:n},inst:{data:o},arc:{data:r},startColor:{data:s},endColor:{data:d},width:{data:l},shouldDraw:{data:c}};i.geometry.updateGeometry(u,t)})),m(b(i),"_createArcFrom",(function(e){var t=i._computeControlPoints(e),n=new Ua(t.cp0),a=new Ua(t.cp1),r=n.getLUT(i._pointsPerArcHalf),o=a.getLUT(i._pointsPerArcHalf),s=[];r.reverse().forEach((function(e){s.push(e)})),o.forEach((function(e){s.push(e)})),s.splice(i._pointsPerArcHalf,1);var d=[];return s.forEach((function(e){d.push.apply(d,T(Object.values(e)))})),d})),m(b(i),"_computeControlPoints",(function(e){var t=fa.worldFromLatLon(e.from[0],e.from[1],.005),n=fa.worldFromLatLon(e.to[0],e.to[1],.005),a=wn();Sn(a,t,n,.5);var i=fa.latLonFromWorld(a),r=fa.worldFromLatLon(i.lat,i.lon,e.alt),o=wn();An(o,t,a),Cn(o,o,e.normalFactor);var s=wn();Mn(s,r,o);var d=wn();An(d,r,o);var l=[];l.push.apply(l,T(r)),l.push.apply(l,T(s)),l.push.apply(l,T(t));var c=[];return c.push.apply(c,T(r)),c.push.apply(c,T(d)),c.push.apply(c,T(n)),{cp0:l,cp1:c}})),m(b(i),"_createInstArray",(function(e){for(var t=Array.from(Array(i.segments+1).keys()),n=[],a=0;a<e;a+=1)t.forEach((function(e){n.push(e)}));return n})),m(b(i),"createCollisionGeo",(function(){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix,i.material.uniforms.u_time=r,i.geometry.isDirty&&i.geometry.updateBuffers(e)})),m(b(i),"draw",(function(e){!i.isReady||i._arcCount<=0||(e.useProgram(i.material.programInfo.program),sn(e,i.material.programInfo,i.vertexArrayInfo),on(i.material.programInfo,i.material.uniforms),e.drawElementsInstanced(e.TRIANGLE_FAN,i.vertexArrayInfo.numElements,e.UNSIGNED_SHORT,0,(i.segments+1)*i._arcCount),e.bindVertexArray(null))})),m(b(i),"rayCastFrom",(function(){return!1})),m(b(i),"hitTest",(function(){return!1})),m(b(i),"onSelectionCB",(function(e){return e})),m(b(i),"onSelection",(function(e,t){var n=i.getNearest(e,t);return i.onSelectionCB(n)})),e&&(void 0!==e.numInstances&&(i.numInstances=e.numInstances),void 0!==e.segments&&(i.segments=e.segments),void 0!==e.transform&&(i.transform=e.transform)),i._pointsPerArcHalf=i.segments/2+1;var r={vertex:Ya,fragment:Ga};i.material=new Rn(r),i.material.uniforms={u_segments:i.segments},i.geometry=new la;for(var o=[0,-.5,0,0,-.5,1,0,.5,1,0,-.5,0,0,.5,1,0,.5,0],s=0;s<i.capResolution;s+=1){var d=Math.PI/2+(s+0)*Math.PI/i.capResolution,c=Math.PI/2+(s+1)*Math.PI/i.capResolution;o.push.apply(o,[0,0,0]),o.push.apply(o,[.5*Math.cos(d),.5*Math.sin(d),0]),o.push.apply(o,[.5*Math.cos(c),.5*Math.sin(c),0])}for(var u=0;u<i.capResolution;u+=1){var h=3*Math.PI/2+(u+0)*Math.PI/i.capResolution,f=3*Math.PI/2+(u+1)*Math.PI/i.capResolution;o.push.apply(o,[0,0,1]),o.push.apply(o,[.5*Math.cos(h),.5*Math.sin(h),1]),o.push.apply(o,[.5*Math.cos(f),.5*Math.sin(f),1])}var p=Array.from(Array(2*i._pointsPerArcHalf*i.numInstances)).fill(0);return i.geometry.vertices.position={numComponents:3,data:o,divisor:0},i.geometry.vertices.pointA={numComponents:3,data:p,divisor:1,offset:0*Float32Array.BYTES_PER_ELEMENT,perInstance:3*(i.segments+1)},i.geometry.vertices.pointB={numComponents:3,data:p,divisor:1,offset:3*Float32Array.BYTES_PER_ELEMENT,perInstance:3*(i.segments+1)},i.geometry.vertices.inst={numComponents:1,data:[],divisor:1,perInstance:i.segments+1},i.geometry.vertices.arc={numComponents:1,data:[],divisor:i.segments,perInstance:1},i.geometry.vertices.startColor={numComponents:3,data:[],divisor:i.segments+1,perInstance:3,drawType:"DYNAMIC_DRAW"},i.geometry.vertices.endColor={numComponents:3,data:[],divisor:i.segments+1,perInstance:3,drawType:"DYNAMIC_DRAW"},i.geometry.vertices.width={numComponents:2,data:[],divisor:i.segments+1,perInstance:2,drawType:"DYNAMIC_DRAW"},i.geometry.vertices.shouldDraw={numComponents:1,data:[],divisor:i.segments+1,perInstance:1,drawType:"DYNAMIC_DRAW"},i.geometry.vertices.indices={numComponents:1,data:Array.from(Array(6+3*i.capResolution*2).keys()),divisor:0},i}}(),{vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec3 normal;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;varying vec2 vTexture;void main(){vec4 pos=u_worldViewProjection*u_model*position;vTexture=texcoord;gl_Position=pos;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D uTexture;varying vec2 vTexture;void main(){vec4 textureColor=texture2D(uTexture,vTexture);gl_FragColor=vec4(textureColor.rgb,1.0);}"}),Va={},Ja=(function(e){p(n,sa);var t=_(n);function n(e){var a,i;return l(this,n),m(b(i=t.call(this)),"material",null),m(b(i),"init",(function(e,t){i.geometry=new la,i.geometry.vertices=at.createSphereVertices(50,128,128),i.geometry.init(e);var n={surface:{src:i.textureSrc.surface,minMag:e.NEAREST}};i.material.init(e),i.material.loadTextures(e,n,(function(){i.material.uniforms.uTexture=i.material.textures.surface,t&&t()})),i.material.uniforms.uModelMatrix=i.modelMatrix})),m(b(i),"createCollisionGeo",(function(){})),m(b(i),"rayCastFrom",(function(){return!1})),m(b(i),"hitTest",(function(){return!1})),m(b(i),"onSelection",(function(){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix})),m(b(i),"draw",(function(e){i.isReady&&i.shouldDraw&&(e.useProgram(i.material.programInfo.program),e.cullFace(e.FRONT),sn(e,i.material.programInfo,i.geometry.bufferInfo),on(i.material.programInfo,i.material.uniforms),e.drawElements(e.TRIANGLES,i.geometry.bufferInfo.numElements,e.UNSIGNED_SHORT,0),e.cullFace(e.BACK))})),i.material=new Rn(Ha),i.material.uniforms=Va,i.textureSrc={surface:e},i}}(),{vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec3 normal;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;varying float vAlpha;varying vec2 vTexture;void main(){vec4 pos=u_worldViewProjection*u_model*position;vec4 transformedCamera=vec4(-0.5,1.0,-1.0,1.0)*u_worldViewProjection;vAlpha=pow((1.0+(dot(normal,normalize(transformedCamera.xyz))))/2.0,1.0);vTexture=texcoord;gl_Position=pos;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D uTexture;uniform vec2 u_offset;varying float vAlpha;varying vec2 vTexture;void main(){vec4 textureColor=texture2D(uTexture,vec2(vTexture.x-0.25+u_offset.x,vTexture.y+u_offset.y));float alpha=vAlpha+(1.0-vAlpha)*0.05;alpha*=0.9;gl_FragColor=vec4(textureColor.rgb,textureColor.r);}"}),Ka={u_offset:[0,0]},Xa=(function(e){p(n,sa);var t=_(n);function n(e){var a,i;return l(this,n),m(b(i=t.call(this)),"material",null),m(b(i),"movementSpeed",[7,0]),m(b(i),"init",(function(e,t){i.geometry=new la("sphere"),i.geometry.init(e);var n={surface:{src:i.textureSrc.surface,minMag:e.LINEAR}};i.material.init(e),i.material.loadTextures(e,n,(function(){i.material.uniforms.uTexture=i.material.textures.surface,t&&t()})),i.material.uniforms.uModelMatrix=i.modelMatrix,i.scale=[1.04,1.04,1.04]})),m(b(i),"createCollisionGeo",(function(){})),m(b(i),"rayCastFrom",(function(){return!1})),m(b(i),"hitTest",(function(){return!1})),m(b(i),"onSelection",(function(){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix,i.material.uniforms.u_offset=[r*i.movementSpeed[0]/1e3,r*i.movementSpeed[1]/1e3]})),m(b(i),"draw",(function(e){i.isReady&&i.shouldDraw&&(e.useProgram(i.material.programInfo.program),sn(e,i.material.programInfo,i.geometry.bufferInfo),on(i.material.programInfo,i.material.uniforms),e.drawElements(e.TRIANGLES,i.geometry.bufferInfo.numElements,e.UNSIGNED_SHORT,0))})),i.material=new Rn(Ja),i.material.uniforms=Ka,i.textureSrc={surface:e},i}}(),{vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute vec3 normal;attribute vec2 texcoord;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;varying vec2 vTexture;varying float vAlpha;void main(){vec4 pos=u_worldViewProjection*u_model*position;gl_PointSize=10.0;vec3 transformedNormal=(u_worldViewProjection*u_model*vec4(normal,1.0)).xyz;vec4 transformedCamera=vec4(1.0,1.0,-1.0,1.0)*u_worldViewProjection;vAlpha=pow(dot(position.xyz,normalize(u_cameraPos)),0.2);vTexture=texcoord.xy;gl_Position=pos;}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D u_surface;varying vec2 vTexture;varying float vAlpha;void main(){vec3 surfaceColor=texture2D(u_surface,vec2(vTexture.x,1.0-vTexture.y)).rgb;float alpha=clamp(vAlpha,0.1,1.0);vec3 color=surfaceColor*alpha;gl_FragColor=vec4(color,1.0);}"}),qa={},Qa=(function(e){p(n,da);var t=_(n);function n(e,a){var i,r;l(this,n),m(b(r=t.call(this)),"material",null),m(b(r),"lookup",null),m(b(r),"currentSelection",-1),m(b(r),"previousSelection",-1),m(b(r),"inAnimation",null),m(b(r),"outAnimation",null),m(b(r),"selection0",236),m(b(r),"selection1",144),m(b(r),"current",236),m(b(r),"dataTexture",void 0),m(b(r),"dataTextureSize",16),m(b(r),"updateCMDs",[]),m(b(r),"highlightAnimationProps",{start:0,stop:1,duration:1e3,onUpdate:function(e){r.material.uniforms.u_animateIn=e}}),m(b(r),"init",(function(e,t){r.geometry.init(e);var n={surface:{src:r.textureSrc.surface,minMag:e.LINEAR}};r.material.init(e),r.material.uniforms.uModelMatrix=r.modelMatrix,r.material.loadTextures(e,n,(function(){r.material.uniforms.u_surface=r.material.textures.surface,t&&t()}))})),m(b(r),"getValueForId",(function(e){return r.lookup.getFromId(e)})),m(b(r),"getValueForCode",(function(e){return r.lookup.getFromCode(e)})),m(b(r),"getValueForName",(function(e){return r.lookup.getFromName(e)})),m(b(r),"createCollisionGeo",(function(){r.collisionGeometry&&r.collisionGeometry instanceof aa||(r.collisionGeometry=na.create_collision_geometry(r.geometry.vertices.position.data,r.geometry.vertices.texcoord.data,r.geometry.vertices.indices.data))})),m(b(r),"rayCastFrom",(function(e){return r.collisionGeometry.raycast(e.origin,e.direction)})),m(b(r),"hitTest",(function(e){return r.collisionGeometry.hitTest(e.origin,e.direction)})),m(b(r),"onSelectionCB",(function(){})),m(b(r),"onSelection",(function(){})),m(b(r),"onHover",(function(){})),m(b(r),"update",(function(e,t,a){x((i=b(r),v(n.prototype)),"update",i).call(i,t,a),r.material.uniforms.u_model=r.modelMatrix,r.updateCMDs.forEach((function(t){t(e)})),r.updateCMDs=[]})),m(b(r),"draw",(function(e){r.isReady&&r.shouldDraw&&(e.useProgram(r.material.programInfo.program),sn(e,r.material.programInfo,r.geometry.bufferInfo),on(r.material.programInfo,r.material.uniforms),e.drawElements(e.TRIANGLES,r.geometry.bufferInfo.numElements,e.UNSIGNED_INT,0))})),m(b(r),"setCountryHover",(function(){})),m(b(r),"setHighlightId",(function(e){r.previousSelection=r.currentSelection,r.currentSelection=e;var t=r.inAnimation?r.inAnimation.currentValue():1,n=300*t;r.animateIn(r.currentSelection,500),r.animateOut(r.previousSelection,n,t)})),m(b(r),"animateIn",(function(e,t,n){r.material.uniforms.u_idAnimateIn=e,r.inAnimation&&r.inAnimation.stop(),r.material.uniforms.u_animateIn=0,r.inAnimation=new pa(r.highlightAnimationProps.start,r.highlightAnimationProps.stop,r.highlightAnimationProps.duration,{onUpdate:r.highlightAnimationProps.onUpdate,onComplete:function(){n&&n()}})})),m(b(r),"animateOut",(function(e,t,n,a){r.material.uniforms.u_idAnimateOut=e,r.outAnimation&&r.outAnimation.stop(),r.material.uniforms.u_animateOut=n,r.outAnimation=new pa(n,0,t,{onUpdate:function(e){r.material.uniforms.u_animateOut=e},onComplete:function(){a&&a()}})})),m(b(r),"addDataset",(function(e){r.lookup=new ha(e,r.textureSrc.id)})),m(b(r),"updateIdState",(function(){})),r.textureSrc={surface:e.surface},r.material=new Rn(Xa),r.material.uniforms=qa,r.geometry=new la;var o=0,s=new Float32Array(a),d=new Int32Array(a),c=s.subarray(o,o+288e3);o+=288e3;var u=s.subarray(o,o+288e3);o+=288e3;var h=s.subarray(o,o+288e3);o+=288e3;var f=d.subarray(o,o+96e3);return r.geometry.vertices.position={numComponents:3,data:c},r.geometry.vertices.normal={numComponents:3,data:u},r.geometry.vertices.texcoord={numComponents:3,data:h},r.geometry.vertices.indices={numComponents:3,data:f},r}}(),{vertex:document.querySelector("script[type=shader-vertex-points]").innerText,fragment:document.querySelector("script[type=shader-fragment-points]").innerText}),Za={uActiveColor:[1,1,1],uActiveColorOffset:.05,uActiveCircleDiameter:0,uPointSize:.005,uPointAlpha:2.5,uRandomPointSizeDelta:0,uRandomPointSizeRatio:0,uMinPointAlpha:0,uMinPointSize:1,uOffset:[0,0],uRippleCenter:[0,0,1],uRippleProgress:-2,uRippleWidth:.2,uRippleHeight:.1,uRippleColor:[1,1,1],uColor:[1,1,1],u_speed:10},$a=function(e){p(n,da);var t=_(n);function n(e,a,i){var r,o;l(this,n),m(b(o=t.call(this)),"material",null),m(b(o),"lookup",null),m(b(o),"currentSelection",-1),m(b(o),"previousSelection",-1),m(b(o),"inAnimation",null),m(b(o),"outAnimation",null),m(b(o),"dataTexture",void 0),m(b(o),"dataTextureSize",16),m(b(o),"updateCMDs",[]),m(b(o),"highlightAnimationProps",{start:0,stop:1,duration:1e3,onUpdate:function(e){o.material.uniforms.u_animateIn=e}}),m(b(o),"init",(function(e,t){o.geometry.init(e);var n={noise:{src:o.textureSrc.noise,minMag:e.LINEAR},id:{src:o.textureSrc.id,minMag:e.NEAREST},bgTexture:{src:o.textureSrc.bgTexture,minMag:e.NEAREST},americas:{src:o.textureSrc.americas,minMag:e.NEAREST},apj:{src:o.textureSrc.apj,minMag:e.NEAREST},emea:{src:o.textureSrc.emea,minMag:e.NEAREST}};o.material.init(e),o.material.uniforms.uModelMatrix=o.modelMatrix,o.material.loadTextures(e,n,(function(){o.material.uniforms.u_id=o.material.textures.id,o.material.uniforms.uBgTexture=o.material.textures.bgTexture,o.material.uniforms.uNoiseTexture=o.material.textures.noise,o.dataTexture.init(e),o.material.uniforms.u_data=o.dataTexture.texture,t&&t()}))})),m(b(o),"getValueForId",(function(e){return o.lookup.getFromId(e)})),m(b(o),"getValueForCode",(function(e){return o.lookup.getFromCode(e)})),m(b(o),"getValueForName",(function(e){return o.lookup.getFromName(e)})),m(b(o),"setIdColor",(function(e,t,n){var a=void 0===n?1:n,i=fa.hexToRGBA(t,a,!1);o.updateCMDs.push((function(t){o.dataTexture.updatePixelId(t,i,e)}))})),m(b(o),"createCollisionGeo",(function(){if(!(o.collisionGeometry&&o.collisionGeometry instanceof aa)){var e=at.createSphereVertices(1,128,128);o.collisionGeometry=na.create_collision_geometry(e.position,e.texcoord,e.indices)}})),m(b(o),"rayCastFrom",(function(e){return o.collisionGeometry.raycast(e.origin,e.direction)})),m(b(o),"hitTest",(function(e){return o.collisionGeometry.hitTest(e.origin,e.direction)})),m(b(o),"onSelectionCB",(function(){})),m(b(o),"onSelection",(function(e,t,n){var a=fa.latLonFromWorld(n.point);return o.current=o.lookup.getIdFromLatLon(a.lat,a.lon),{id:o.current,name:o.lookup.getFromId(o.current),lat:e,lon:t}})),m(b(o),"onHover",(function(){})),m(b(o),"update",(function(e,t,a){x((r=b(o),v(n.prototype)),"update",r).call(r,t,a),o.material.uniforms.u_model=o.modelMatrix,o.material.uniforms.u_time=a,o.updateCMDs.forEach((function(t){t(e)})),o.updateCMDs=[]})),m(b(o),"draw",(function(e){o.isReady&&o.shouldDraw&&(e.useProgram(o.material.programInfo.program),e.disable(e.CULL_FACE),sn(e,o.material.programInfo,o.geometry.bufferInfo),on(o.material.programInfo,o.material.uniforms),e.drawElements(e.TRIANGLES,o.geometry.bufferInfo.numElements,e.UNSIGNED_INT,0),e.enable(e.CULL_FACE))})),m(b(o),"setCountryHover",(function(e){})),m(b(o),"setHighlightId",(function(e){o.previousSelection=o.currentSelection,o.currentSelection=e;var t=o.inAnimation?o.inAnimation.currentValue():1,n=300*t;o.animateIn(o.currentSelection,500),o.animateOut(o.previousSelection,n,t)})),m(b(o),"animateIn",(function(e,t){o.material.uniforms.u_idAnimateIn=e,o.inAnimation&&o.inAnimation.stop(),o.material.uniforms.u_animateIn=0,o.inAnimation=new pa(o.highlightAnimationProps.start,o.highlightAnimationProps.stop,o.highlightAnimationProps.duration,{onUpdate:o.highlightAnimationProps.onUpdate,onComplete:function(){t&&t()}})})),m(b(o),"animateOut",(function(e,t,n,a){o.material.uniforms.u_idAnimateOut=e,o.outAnimation&&o.outAnimation.stop(),o.material.uniforms.u_animateOut=n,o.outAnimation=new pa(n,0,t,{onUpdate:function(e){o.material.uniforms.u_animateOut=e},onComplete:function(){a&&a()}})})),m(b(o),"addDataset",(function(e){o.lookup=new ha(e,o.textureSrc.id)})),m(b(o),"rippleAtLocation",(function(e,t,n){o._ripple instanceof pa&&o._ripple.stop(),o.material.uniforms.uRippleCenter=fa.worldFromLatLon(e,t,0);var a=2e3;n&&(n.width&&(o.material.uniforms.uRippleWidth=n.width),n.height&&(o.material.uniforms.uRippleHeight=n.height),n.speed&&(o.material.uniforms.u_speed=n.speed),n.rippleColor&&(o.material.uniforms.uRippleColor=n.rippleColor),n.activeColor&&(o.material.uniforms.uActiveColor=n.activeColor),o.material.uniforms.uActiveCircleDiameter=0,setTimeout((function(){o.material.uniforms.uActiveCircleDiameter=n.activeCircleDiameter||0}),100),n.duration&&(a=n.duration));var i=0-o.material.uniforms.uRippleWidth,r=1+o.material.uniforms.uRippleWidth;o._ripple=new pa(i,r,a,{onUpdate:function(e){o.material.uniforms.uRippleProgress=e}})})),o.textureSrc={noise:e.noise,id:e.id,bgTexture:e.bgTexture,americas:e.americas,apj:e.apj,emea:e.emea},o.dataTexture=new va(o.dataTextureSize,o.dataTextureSize),o.material=new Rn(Qa),o.material.uniforms=Za,o.geometry=new la;var s=0,d=new Float32Array(a),c=new Int32Array(a),u=d.subarray(s,s+114192);s+=114192;var h=d.subarray(s,s+114192);s+=114192;var f=d.subarray(s,s+114192);s+=114192;var p=d.subarray(s,s+76128);s+=76128;var g=d.subarray(s,s+76128);s+=76128;var y=d.subarray(s,s+38064);s+=38064;var _=c.subarray(s,s+57096);return o.geometry.vertices.position={numComponents:3,data:u},o.geometry.vertices.tangentU={numComponents:3,data:h},o.geometry.vertices.tangentV={numComponents:3,data:f},o.geometry.vertices.texture={numComponents:2,data:p},o.geometry.vertices.textureG={numComponents:2,data:g},o.geometry.vertices.random={numComponents:1,data:y},o.geometry.vertices.indices={numComponents:3,data:_},i&&(i.pointSize&&(o.material.uniforms.uPointSize=i.pointSize),i.pointAlpha&&(o.material.uniforms.uPointAlpha=i.pointAlpha),i.randomPointSizeVariance&&(o.material.uniforms.uRandomPointSizeDelta=i.randomPointSizeVariance),i.randomPointSizeRatio&&(o.material.uniforms.uRandomPointSizeRatio=i.randomPointSizeRatio),i.minPointAlpha&&(o.material.uniforms.uMinPointAlpha=i.minPointAlpha),i.minPointSize&&(o.material.uniforms.uMinPointSize=i.minPointSize),i.offset&&(o.material.uniforms.uOffset=i.offset),i.color&&(o.material.uniforms.uColor=fa.hexToRGB(i.color)),i.activeColorOffset&&(o.material.uniforms.uActiveColorOffset=i.activeColorOffset),i.activeColor&&(o.material.uniforms.uActiveColor=fa.hexToRGB(i.activeColor))),o}return n}(),ei={u_animation:1,u_startsize:4,u_midsize:16,u_endsize:4,u_startColor:[1,1,1,.4],u_midColor:[1,1,1,1],u_endColor:[1,1,1,.4]},ti=(function(e){p(n,Sa);var t=_(n);function n(e){var a,i;l(this,n),m(b(i=t.call(this,e)),"datastore",void 0),m(b(i),"maxSelectionDistance",300),m(b(i),"maxSelectionCount",1),m(b(i),"maxDataPoints",10),m(b(i),"_segments",600),m(b(i),"_pointsPerArcHalf",300),m(b(i),"_tweens",[]),m(b(i),"dataPointCount",0),m(b(i),"_resourceLoaded",!1),m(b(i),"_isDirty",!0),m(b(i),"_hasGeometry",!1),m(b(i),"useTexture",!1),m(b(i),"createEmptyVertices",(function(){i.geometry.vertices.position={numComponents:3,data:new Array(i._segments).fill(0),perInstance:3},i.geometry.vertices.inst={numComponents:1,data:new Array(i._segments).fill(0),perInstance:1},i.geometry.vertices.indices={numComponents:1,data:Array.from(Array(i._segments).keys()),perInstance:1}})),m(b(i),"addArc",(function(e,t,n){var a=[],r={from:e.from,to:e.to,normalFactor:e.normalFactor||.5,alt:e.alt||.3,startColor:e.startColor||"#ffffff",midColor:e.midColor||"#ffffff",endColor:e.endColor||"#ffffff",startAlpha:e.startAlpha||0,midAlpha:e.midAlpha||1,endAlpha:e.endAlpha||0,startWidth:e.startWidth||4,midWidth:e.midWidth||4,endWidth:e.endWidth||4},o=(fa.dotBetweenLatLon(e.from,e.to)+1)/2;void 0!==i.transform&&(r=i.transform(e,r)),r.alt=.1+(1-o)*r.alt,i.material.uniforms.u_startsize=r.startWidth,i.material.uniforms.u_midsize=r.midWidth,i.material.uniforms.u_endsize=r.endWidth,i.material.uniforms.u_startColor=fa.hexToRGBA(r.startColor,r.startAlpha),i.material.uniforms.u_midColor=fa.hexToRGBA(r.midColor,r.midAlpha),i.material.uniforms.u_endColor=fa.hexToRGBA(r.endColor,r.endAlpha),a.push.apply(a,T(i._createArcFrom(r)));var s=Array.from(Array(i._segments).keys());if(void 0!==t){i.material.uniforms.u_animation=0;var d=new pa(0,1,t,{onUpdate:function(e){i.material.uniforms.u_animation=e},onComplete:function(){n&&n()}});i._tweens.push(d)}var l={position:{data:new Float32Array(a)},inst:{data:s}};i.geometry.updateGeometry(l,0),i.shouldDraw=!0})),m(b(i),"_createArcFrom",(function(e){var t=i._computeControlPoints(e),n=new Ua(t.cp0),a=new Ua(t.cp1),r=n.getLUT(i._pointsPerArcHalf),o=a.getLUT(i._pointsPerArcHalf),s=[];r.reverse().forEach((function(e){s.push(e)})),o.forEach((function(e){s.push(e)})),s.splice(i._pointsPerArcHalf,1);var d=[];return s.forEach((function(e){d.push.apply(d,T(Object.values(e)))})),d})),m(b(i),"_computeControlPoints",(function(e){var t=fa.worldFromLatLon(e.from[0],e.from[1],.005),n=fa.worldFromLatLon(e.to[0],e.to[1],.005),a=wn();Sn(a,t,n,.5);var i=fa.latLonFromWorld(a),r=fa.worldFromLatLon(i.lat,i.lon,e.alt),o=wn();An(o,t,a),Cn(o,o,e.normalFactor);var s=wn();Mn(s,r,o);var d=wn();An(d,r,o);var l=[];l.push.apply(l,T(r)),l.push.apply(l,T(s)),l.push.apply(l,T(t));var c=[];return c.push.apply(c,T(r)),c.push.apply(c,T(d)),c.push.apply(c,T(n)),{cp0:l,cp1:c}})),m(b(i),"_createInstArray",(function(e){for(var t=Array.from(Array(i._segments+1).keys()),n=[],a=0;a<e;a+=1)t.forEach((function(e){n.push(e)}));return n})),m(b(i),"removeAllArcs",(function(){i.shouldDraw=!1})),m(b(i),"init",(function(e,t){if(i.geometry.init(e),i._hasGeometry=!0,i.material.init(e),i.useTexture){var n={texture:{src:i.textureSrc.texture,minMag:e.LINEAR}};i.material.loadTextures(e,n,(function(){t&&t(),i.material.uniforms.u_texture=i.material.textures.texture}))}else t&&t()})),m(b(i),"createCollisionGeo",(function(){})),m(b(i),"update",(function(e,t,r){x((a=b(i),v(n.prototype)),"update",a).call(a,t,r),i.material.uniforms.u_model=i.modelMatrix,i.geometry.needsResize&&i.geometry.reloadBuffers(e),i.geometry.isDirty&&i.geometry.updateBuffers(e)})),m(b(i),"draw",(function(e){(i.isReady||i._hasGeometry)&&i.shouldDraw&&(e.useProgram(i.material.programInfo.program),e.disable(e.DEPTH_TEST),sn(e,i.material.programInfo,i.geometry.bufferInfo),on(i.material.programInfo,i.material.uniforms),e.drawArrays(e.POINTS,0,i._segments-1),e.enable(e.DEPTH_TEST))})),m(b(i),"rayCastFrom",(function(){return!0})),m(b(i),"hitTest",(function(){return!0})),m(b(i),"onSelectionCB",(function(e){return e})),m(b(i),"onSelection",(function(){}));var r={vertex:"#define GLSLIFY 1\nattribute vec4 position;attribute float inst;uniform mat4 u_worldViewProjection;uniform mat4 u_viewInverse;uniform mat4 u_model;uniform vec3 u_cameraPos;uniform float u_startsize;uniform float u_midsize;uniform float u_endsize;uniform vec4 u_startColor;uniform vec4 u_midColor;uniform vec4 u_endColor;varying vec4 v_color;varying float v_tex;varying float v_alpha;float when_gt(float x,float y){return max(sign(x-y),0.0);}float when_lt(float x,float y){return max(sign(y-x),0.0);}float getV(vec3 x){return x.x*x.x+x.y*x.y+x.z*x.z;}void main(){v_tex=inst/600.0;float t0=v_tex*2.0;float t1=(v_tex*2.0-1.0);float firstHalfSize=mix(u_startsize,u_midsize,t0)*(1.0-step(0.5,v_tex));float secondHalfSize=mix(u_midsize,u_endsize,t1)*step(0.5,v_tex);;vec4 firstHalfColor=mix(u_startColor,u_midColor,t0)*(1.0-step(0.5,v_tex));vec4 secondHalfColor=mix(u_midColor,u_endColor,t1)*step(0.5,v_tex);vec4 pos=u_worldViewProjection*u_model*position;gl_PointSize=firstHalfSize+secondHalfSize;gl_Position=pos;v_color=firstHalfColor+secondHalfColor;v_alpha=step(0.3,(1.0+dot(normalize(u_cameraPos),normalize(position.xyz)))/2.0);}",fragment:"precision mediump float;\n#define GLSLIFY 1\nuniform float u_time;uniform float u_animation;varying vec4 v_color;varying float v_tex;varying float v_alpha;void main(){float d=distance(vec2(0.5),gl_PointCoord.xy);float c=1.0-smoothstep(0.4,0.5,d);float alpha=step(1.0-u_animation,1.0-v_tex);gl_FragColor=vec4(v_color.rgb,v_color.a*c*alpha);}"};return e&&(e.maxSelectionCount&&(i.maxSelectionCount=e.maxSelectionCount),e.maxSelectionDistance&&(i.maxSelectionDistance=e.maxSelectionDistance),e.maxDataPoints&&(i.maxDataPoints=e.maxDataPoints),!0===e.useTexture&&void 0!==e.texture&&(i.useTexture=!0,r.fragment=Pa,i.textureSrc={texture:e.texture})),i.material=new Rn(r),i.datastore=new Oa,i.material.uniforms=ei,i.geometry=new la,i.shouldDraw=!1,i.createEmptyVertices(),i}}(),function e(t,n,a,i){l(this,e),m(this,"id",Math.random().toFixed(16).substr(2)),m(this,"latitude",0),m(this,"longitude",0),m(this,"altitude",0),m(this,"calloutClass",void 0),m(this,"data",void 0),this.latitude=t,this.longitude=n,this.calloutClass=a,this.data=i}),ni=function(){function e(t){var n=this;l(this,e),m(this,"drawables",[]),m(this,"element",void 0),m(this,"definition",void 0),m(this,"size",{width:0,height:0}),this.definition=t,this.element=this.createElement(),this.resizeObserver=new ResizeObserver((function(e){e.length&&(n.size=e[0].contentRect)})),this.resizeObserver.observe(this.element)}return u(e,[{key:"release",value:function(){this.resizeObserver.disconnect()}},{key:"createElement",value:function(){return document.createElement("div")}},{key:"animateIn",value:function(){}},{key:"animateOut",value:function(e){e(this)}},{key:"update",value:function(e){this.drawables.forEach((function(t){return t.update(e)}))}},{key:"setPosition",value:function(e){this.element.style.transform="translate(".concat(e.screen.x,"px, ").concat(e.screen.y,"px)")}}]),e}()}).call(this,n(89))},71:function(e,t,n){e.exports={chartsGridWrapper:"ChartsGrid_chartsGridWrapper__1HGB9",legend:"ChartsGrid_legend__1Hzyo",legendItem:"ChartsGrid_legendItem__3tMNb",legendItem_active:"ChartsGrid_legendItem_active__19D1f",legendPin:"ChartsGrid_legendPin__2_Aw_",legendPin1:"ChartsGrid_legendPin1__3R8gY",legendPin2:"ChartsGrid_legendPin2__15xGU",legendPin3:"ChartsGrid_legendPin3__1kbpD",legendPin4:"ChartsGrid_legendPin4__BXvVj",charts:"ChartsGrid_charts__3zKra",chartWrapper:"ChartsGrid_chartWrapper__2kUKI",chartTitle:"ChartsGrid_chartTitle__15Xh2",chart:"ChartsGrid_chart__DLRP_",tooltipWrapper:"ChartsGrid_tooltipWrapper__1Dc1L",tooltipTable:"ChartsGrid_tooltipTable__cHPBK",tooltipRectangle:"ChartsGrid_tooltipRectangle__2w2q9"}},81:function(e,t,n){e.exports={wrapper:"KPICard_wrapper__1Q-zR",titleWrapper:"KPICard_titleWrapper__1CMNC",title:"KPICard_title__80O5O",subTitle:"KPICard_subTitle__2GR4m",titleButtons:"KPICard_titleButtons__3MBC-",card:"KPICard_card__2NqxW",card_hasHover:"KPICard_card_hasHover__3D_-P",card_hasPadding:"KPICard_card_hasPadding__25G5Y",cardRow:"KPICard_cardRow__aAkwJ","card_variant-0":"KPICard_card_variant-0__yaJom","card_variant-1":"KPICard_card_variant-1__oZhiQ","card_variant-2":"KPICard_card_variant-2__cR78x","card_variant-3":"KPICard_card_variant-3__1N0un"}},97:function(e,t,n){e.exports={sideButtons:"CardModelLegend_sideButtons__3dQIt",sideButton:"CardModelLegend_sideButton__X960p",sideButtonIcon:"CardModelLegend_sideButtonIcon__3xdSg",sideButtonIconRhombus:"CardModelLegend_sideButtonIconRhombus__3AZ-M",sideButtonIconCircle:"CardModelLegend_sideButtonIconCircle__1TpPV",iconStar:"CardModelLegend_iconStar__1oF76"}}},[[517,1,2]]]);
//# sourceMappingURL=main.533ddcbd.chunk.js.map